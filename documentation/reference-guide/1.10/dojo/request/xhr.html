<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojo/request/xhr &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <script src="/scripts/dojo/dojo/dojo.js"></script>
    <script src="/scripts/guide/docs/guide.js"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css">

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo"><span>Dojo</span></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="">Get Dojo</a></li>
					<li><a href="/documentation/">Docs</a></li>
					<li><a href="">Help &amp; Support</a></li>
					<li><a href="">Blog</a></li>
					<li><a href="">Get Involved</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <main class="refguide">
    <div class="row">

      <div class="medium-3 columns sideNav">
        <h4>Reference Guide</h4>
        <div id="dtkVersion">
          <label for="refver">Dojo Version</label>
          <select id="refver" name="refver">
            <option value="1.6">1.6</option>
            <option value="1.7">1.7</option>
            <option value="1.8">1.8</option>
            <option value="1.9">1.9</option>
            <option value="1.10" selected="selected">1.10</option>
          </select>
        </div>
        <ul>
          <li><a href="../../index.html">Startpage</a></li>
          <li><a href="../index.html">Dojo</a></li>
          <li><a href="../../dijit/index.html">Dijit</a></li>
          <li><a href="../../dojox/index.html">DojoX</a></li>
        </ul>
        <ul>
<li><a class="reference internal" href="#">dojo/request/xhr</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#get">get()</a></li>
<li><a class="reference internal" href="#post">post()</a></li>
<li><a class="reference internal" href="#put">put()</a></li>
<li><a class="reference internal" href="#del">del()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

        

            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../../search.html" method="get">
                    <input type="text" name="q" size="18" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                 </form>
                 <p class="searchtip" style="font-size: 90%">
                     Enter search terms or a module, class or function name.
                 </p>
            </div>
      </div>
      <div class="medium-9 columns content">
        
  <div class="section" id="dojo-request-xhr">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojo/request/xhr</a><a class="headerlink" href="#dojo-request-xhr" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">authors:</th><td class="field-body">Bryan Forbes</td>
</tr>
<tr class="field-even field"><th class="field-name">since:</th><td class="field-body">V1.8</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojo-request-xhr" id="id2">dojo/request/xhr</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#examples" id="id5">Examples</a></li>
<li><a class="reference internal" href="#see-also" id="id6">See also</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>dojo/request/xhr</strong> is a provider that uses
<cite>XMLHttpRequest (XHR) &lt;https://developer.mozilla.org/en/DOM/XMLHttpRequest&gt;</cite> objects to make asynchronous
requests. It is the default provider for browser based platforms.</p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">dojo/request/xhr</span></code> deprecates <a class="reference internal" href="../_base/xhr.html#dojo-base-xhr"><span>dojo/_base/xhr</span></a> and is part of Dojo&#8217;s Request API.
XMLHttpRequest (XHR) is the core of AJAX development and provides an asynchronous way for sending and receiving
information in a browser based platform. This module is implemented in a cross-browser fashion so that end
developer don&#8217;t need to be aware of the differences between different browsers in order to use the functionality.</p>
<p>Of course, the aim of the Request API is to further abstract the end developers from having to code for the
particular platform they are on, and requiring the <a class="reference internal" href="../request.html#dojo-request"><span>dojo/request</span></a> module would automatically
load the <code class="docutils literal"><span class="pre">dojo/request/xhr</span></code> module if the code was running in a browser, but the module can be required directly
if desired.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>An example of making a request to retrieve some JSON would look like:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/request/xhr&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">){</span>
  <span class="nx">xhr</span><span class="p">(</span><span class="s2">&quot;example.json&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">handleAs</span><span class="o">:</span> <span class="s2">&quot;json&quot;</span>
  <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
    <span class="c1">// Do something with the handled data</span>
  <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span>
    <span class="c1">// Handle the error condition</span>
  <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">){</span>
    <span class="c1">// Handle a progress event from the request if the</span>
    <span class="c1">// browser supports XHR2</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/request/xhr&quot;], function(xhr){
  xhr(&quot;example.json&quot;, {
    handleAs: &quot;json&quot;
  }).then(function(data){
    // Do something with the handled data
  }, function(err){
    // Handle the error condition
  }, function(evt){
    // Handle a progress event from the request if the
    // browser supports XHR2
  });
});</textarea></div><p><code class="docutils literal"><span class="pre">dojo/request/xhr</span></code> takes two arguments:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="12%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>url</td>
<td>String</td>
<td>The URL that the request should be made to.</td>
</tr>
<tr class="row-odd"><td>options</td>
<td>Object?</td>
<td><em>Optional</em> A hash of options.</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">options</span></code> argument supports the following:</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="12%" />
<col width="8%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>data</td>
<td>String|Object</td>
<td><code class="docutils literal"><span class="pre">null</span></code></td>
<td>Data, if any, that should be sent with the request. Newer browsers can use
use <cite>FormData &lt;https://developer.mozilla.org/en/DOM/XMLHttpRequest/FormData&gt;</cite>
objects as well.</td>
</tr>
<tr class="row-odd"><td>query</td>
<td>String|Object</td>
<td><code class="docutils literal"><span class="pre">null</span></code></td>
<td>The query string, if any, that should be sent with the request.</td>
</tr>
<tr class="row-even"><td>sync</td>
<td>Boolean</td>
<td><code class="docutils literal"><span class="pre">false</span></code></td>
<td>If the request should be blocking or not.  If <code class="docutils literal"><span class="pre">true</span></code> the request will block
until the request is resolved.</td>
</tr>
<tr class="row-odd"><td>preventCache</td>
<td>Boolean</td>
<td><code class="docutils literal"><span class="pre">false</span></code></td>
<td>If <code class="docutils literal"><span class="pre">true</span></code> will send an extra query parameter to ensure the browser and the
server won&#8217;t supply cached values.</td>
</tr>
<tr class="row-even"><td>method</td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">GET</span></code></td>
<td>The HTTP method that should be used to send the request.</td>
</tr>
<tr class="row-odd"><td>timeout</td>
<td>Integer</td>
<td><code class="docutils literal"><span class="pre">null</span></code></td>
<td>The number of milliseconds to wait for the response. If this time passes the
request is canceled and the promise rejected.</td>
</tr>
<tr class="row-even"><td>handleAs</td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">text</span></code></td>
<td>The content handler to process the response payload with.</td>
</tr>
<tr class="row-odd"><td>headers</td>
<td>Object</td>
<td>&nbsp;</td>
<td><p class="first">A hash of the custom headers to be sent with the request.  Defaults to:</p>
<div class="highlight"><pre><span class="p">{</span> <span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span> <span class="s1">&#39;application/x-www-form-urlencoded&#39;</span> <span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{ 'Content-Type': 'application/x-www-form-urlencoded' }</textarea></div></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">dojo/request/xhr()</span></code> returns a promise that is fulfilled with the handled data of the response. Errors will be
directed to the errback if provided. Progress data will be given to the progress handler if it is provided and if
the browser supports XHR2 progress events.</p>
<p>The provider defaults to <code class="docutils literal"><span class="pre">GET</span></code> but the <code class="docutils literal"><span class="pre">method</span></code> option can be used to expressly set the method; helper
functions are provided for common methods:</p>
<div class="section" id="get">
<h3>get()<a class="headerlink" href="#get" title="Permalink to this headline">¶</a></h3>
<p>Same as the base function, but the <code class="docutils literal"><span class="pre">method</span></code> is set to <code class="docutils literal"><span class="pre">GET</span></code>.</p>
</div>
<div class="section" id="post">
<h3>post()<a class="headerlink" href="#post" title="Permalink to this headline">¶</a></h3>
<p>Same as the base function, but the <code class="docutils literal"><span class="pre">method</span></code> is set to <code class="docutils literal"><span class="pre">POST</span></code>.</p>
</div>
<div class="section" id="put">
<h3>put()<a class="headerlink" href="#put" title="Permalink to this headline">¶</a></h3>
<p>Same as the base function, but the <code class="docutils literal"><span class="pre">method</span></code> is set to <code class="docutils literal"><span class="pre">PUT</span></code>.</p>
</div>
<div class="section" id="del">
<h3>del()<a class="headerlink" href="#del" title="Permalink to this headline">¶</a></h3>
<p>Same as the base function, but the <code class="docutils literal"><span class="pre">method</span></code> is set to <code class="docutils literal"><span class="pre">DELETE</span></code>.</p>
</div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id5">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'async: true, parseOnLoad: false', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><p>This example retrieves some JSON from the server and then outputs the data that is returned.</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/request/xhr&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom-construct&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/json&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/domReady!&quot;</span><span class="p">],</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">domConst</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">,</span> <span class="nx">on</span><span class="p">){</span>
  <span class="nx">on</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;startButton&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">domConst</span><span class="p">.</span><span class="nx">place</span><span class="p">(</span><span class="s2">&quot;&lt;p&gt;Requesting...&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">);</span>
    <span class="nx">xhr</span><span class="p">(</span><span class="s2">&quot;helloworld.json&quot;</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">handleAs</span><span class="o">:</span> <span class="s2">&quot;json&quot;</span>
    <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
      <span class="nx">domConst</span><span class="p">.</span><span class="nx">place</span><span class="p">(</span><span class="s2">&quot;&lt;p&gt;response: &lt;code&gt;&quot;</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&lt;/code&gt;&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/request/xhr&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/json&quot;, &quot;dojo/on&quot;, &quot;dojo/domReady!&quot;],
function(xhr, dom, domConst, JSON, on){
  on(dom.byId(&quot;startButton&quot;), &quot;click&quot;, function(){
    domConst.place(&quot;&lt;p&gt;Requesting...&lt;/p&gt;&quot;, &quot;output&quot;);
    xhr(&quot;helloworld.json&quot;, {
      handleAs: &quot;json&quot;
    }).then(function(data){
      domConst.place(&quot;&lt;p&gt;response: &lt;code&gt;&quot; + JSON.stringify(data) + &quot;&lt;/code&gt;&lt;/p&gt;&quot;, &quot;output&quot;);
    });
  });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span>Output:<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">id=</span><span class="s">&quot;startButton&quot;</span><span class="nt">&gt;</span>Start<span class="nt">&lt;/button&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;h1&gt;Output:&lt;/h1&gt;
&lt;div id=&quot;output&quot;&gt;&lt;/div&gt;
&lt;button type=&quot;button&quot; id=&quot;startButton&quot;&gt;Start&lt;/button&gt;</textarea></div></div></div><div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'async: true, parseOnLoad: false', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><p>This example intentionally attempts to retrieve a resource that doesn&#8217;t exist in order to demonstrate how the
error handling works.</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/request/xhr&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom-construct&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/json&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/domReady!&quot;</span><span class="p">],</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">domConst</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">,</span> <span class="nx">on</span><span class="p">){</span>
  <span class="nx">on</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;startButton&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">domConst</span><span class="p">.</span><span class="nx">place</span><span class="p">(</span><span class="s2">&quot;&lt;p&gt;Requesting...&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">);</span>
    <span class="nx">xhr</span><span class="p">(</span><span class="s2">&quot;nothing.json&quot;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">){</span>
      <span class="nx">domConst</span><span class="p">.</span><span class="nx">place</span><span class="p">(</span><span class="s2">&quot;&lt;p&gt;response: &lt;code&gt;&quot;</span> <span class="o">+</span> <span class="nx">text</span> <span class="o">+</span> <span class="s2">&quot;&lt;/code&gt;&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">);</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span>
      <span class="nx">domConst</span><span class="p">.</span><span class="nx">place</span><span class="p">(</span><span class="s2">&quot;&lt;p&gt;error: &lt;p&gt;&quot;</span> <span class="o">+</span> <span class="nx">err</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">text</span> <span class="o">+</span> <span class="s2">&quot;&lt;/p&gt;&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/request/xhr&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/json&quot;, &quot;dojo/on&quot;, &quot;dojo/domReady!&quot;],
function(xhr, dom, domConst, JSON, on){
  on(dom.byId(&quot;startButton&quot;), &quot;click&quot;, function(){
    domConst.place(&quot;&lt;p&gt;Requesting...&lt;/p&gt;&quot;, &quot;output&quot;);
    xhr(&quot;nothing.json&quot;).then(function(text){
      domConst.place(&quot;&lt;p&gt;response: &lt;code&gt;&quot; + text + &quot;&lt;/code&gt;&lt;/p&gt;&quot;, &quot;output&quot;);
    }, function(err){
      domConst.place(&quot;&lt;p&gt;error: &lt;p&gt;&quot; + err.response.text + &quot;&lt;/p&gt;&lt;/p&gt;&quot;, &quot;output&quot;);
    });
  });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span>Output:<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">id=</span><span class="s">&quot;startButton&quot;</span><span class="nt">&gt;</span>Start<span class="nt">&lt;/button&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;h1&gt;Output:&lt;/h1&gt;
&lt;div id=&quot;output&quot;&gt;&lt;/div&gt;
&lt;button type=&quot;button&quot; id=&quot;startButton&quot;&gt;Start&lt;/button&gt;</textarea></div></div></div><div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'async: true, parseOnLoad: false', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><p>The following example demonstrates how to set query parameters. <em>Note:</em> you will need to use developer tools to
inspect the request to see the parameters.</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/request/xhr&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom-construct&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/json&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/domReady!&quot;</span><span class="p">],</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">domConst</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">,</span> <span class="nx">on</span><span class="p">){</span>
  <span class="nx">on</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;startButton&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">domConst</span><span class="p">.</span><span class="nx">place</span><span class="p">(</span><span class="s2">&quot;&lt;p&gt;Requesting...&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">);</span>
    <span class="nx">xhr</span><span class="p">(</span><span class="s2">&quot;helloworld.json&quot;</span><span class="p">,{</span>
      <span class="nx">query</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">key1</span><span class="o">:</span> <span class="s2">&quot;value1&quot;</span><span class="p">,</span>
        <span class="nx">key2</span><span class="o">:</span> <span class="s2">&quot;value2&quot;</span>
      <span class="p">},</span>
      <span class="nx">handleAs</span><span class="o">:</span> <span class="s2">&quot;json&quot;</span>
    <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
      <span class="nx">domConst</span><span class="p">.</span><span class="nx">place</span><span class="p">(</span><span class="s2">&quot;&lt;p&gt;response: &lt;code&gt;&quot;</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&lt;/code&gt;&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/request/xhr&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/json&quot;, &quot;dojo/on&quot;, &quot;dojo/domReady!&quot;],
function(xhr, dom, domConst, JSON, on){
  on(dom.byId(&quot;startButton&quot;), &quot;click&quot;, function(){
    domConst.place(&quot;&lt;p&gt;Requesting...&lt;/p&gt;&quot;, &quot;output&quot;);
    xhr(&quot;helloworld.json&quot;,{
      query: {
        key1: &quot;value1&quot;,
        key2: &quot;value2&quot;
      },
      handleAs: &quot;json&quot;
    }).then(function(data){
      domConst.place(&quot;&lt;p&gt;response: &lt;code&gt;&quot; + JSON.stringify(data) + &quot;&lt;/code&gt;&lt;/p&gt;&quot;, &quot;output&quot;);
    });
  });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span>Output:<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">id=</span><span class="s">&quot;startButton&quot;</span><span class="nt">&gt;</span>Start<span class="nt">&lt;/button&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;h1&gt;Output:&lt;/h1&gt;
&lt;div id=&quot;output&quot;&gt;&lt;/div&gt;
&lt;button type=&quot;button&quot; id=&quot;startButton&quot;&gt;Start&lt;/button&gt;</textarea></div></div></div></div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id6">See also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../request.html#dojo-request"><span>dojo/request</span></a> - The whole Dojo Request API</li>
<li><a class="reference internal" href="node.html#dojo-request-node"><span>dojo/request/node</span></a> - The default provider for the node.js platform</li>
<li><a class="reference internal" href="iframe.html#dojo-request-iframe"><span>dojo/request/iframe</span></a> - A provider that uses IFrame for transport</li>
<li><a class="reference internal" href="script.html#dojo-request-script"><span>dojo/request/script</span></a> - A provider that expects the response to be embedded in a
<code class="docutils literal"><span class="pre">&lt;script&gt;</span></code> tag.</li>
<li><a class="reference internal" href="handlers.html#dojo-request-handlers"><span>dojo/request/handlers</span></a> - Handles the data from a response as designated in the
<code class="docutils literal"><span class="pre">handleAs</span></code> request option. Also provides the ability to register additional types of handlers.</li>
<li><a class="reference internal" href="registry.html#dojo-request-registry"><span>dojo/request/registry</span></a> - Allows for registration of different providers against
different URIs.</li>
<li><a class="reference internal" href="notify.html#dojo-request-notify"><span>dojo/request/notify</span></a> - Publishes the <code class="docutils literal"><span class="pre">dojo/request</span></code> topics for requests.</li>
<li><a class="reference internal" href="watch.html#dojo-request-watch"><span>dojo/request/watch</span></a> - Allows the watching of inflight requests.</li>
<li><a class="reference internal" href="../Deferred.html#dojo-deferred"><span>dojo/Deferred</span></a> - The base class for managing asynchronous processes.</li>
<li><a class="reference internal" href="../promise.html#dojo-promise"><span>dojo/promise</span></a> - The package that provides the Dojo Promise API.</li>
</ul>
</div>
</div>


      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-9 columns offset-3">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
        <div class="footer">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');

	</script>
</div>
    </div>
  </div>
  
  </body>
</html>