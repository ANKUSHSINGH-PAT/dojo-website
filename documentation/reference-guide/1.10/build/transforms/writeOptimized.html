<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Build Transform writeOptimized &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>

    <link rel="stylesheet" href="../../../../../css/guide.css">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <script src="../../../scripts/dojo/dojo/dojo.js"></script>
    <script src="../../../../../scripts/guide/docs/guide.js"></script>
    <link rel="stylesheet" href="../../../../../scripts/dojo/dijit/themes/claro/claro.css">

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo"><span>Dojo</span></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="">Get Dojo</a></li>
					<li><a href="/documentation/">Docs</a></li>
					<li><a href="">Help &amp; Support</a></li>
					<li><a href="">Blog</a></li>
					<li><a href="">Get Involved</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <main class="refguide">
    <div class="row">

      <div class="medium-3 columns sideNav">
        <h4>Reference Guide</h4>
        <div id="dtkVersion">
          <label for="refver">Dojo Version</label>
          <select id="refver" name="refver">
            <option value="1.6">1.6</option>
            <option value="1.7">1.7</option>
            <option value="1.8">1.8</option>
            <option value="1.9">1.9</option>
            <option value="1.10" selected="selected">1.10</option>
          </select>
        </div>
        <ul>
          <li><a href="../../index.html">Startpage</a></li>
          <li><a href="../../dojo/index.html">Dojo</a></li>
          <li><a href="../../dijit/index.html">Dijit</a></li>
          <li><a href="../../dojox/index.html">DojoX</a></li>
        </ul>
        <ul>
<li><a class="reference internal" href="#">Build Transform writeOptimized</a><ul>
<li><a class="reference internal" href="#summary">Summary</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#profile-knobs">Profile Knobs</a></li>
<li><a class="reference internal" href="#source-location">Source Location</a></li>
</ul>
</li>
</ul>

        

            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../../search.html" method="get">
                    <input type="text" name="q" size="18" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                 </form>
                 <p class="searchtip" style="font-size: 90%">
                     Enter search terms or a module, class or function name.
                 </p>
            </div>
      </div>
      <div class="medium-9 columns content">
        
  <div class="section" id="build-transform-writeoptimized">
<span id="build-transforms-writeoptimized"></span><h1><a class="toc-backref" href="#id1">Build Transform writeOptimized</a><a class="headerlink" href="#build-transform-writeoptimized" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Rawld Gill</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#build-transform-writeoptimized" id="id1">Build Transform writeOptimized</a><ul>
<li><a class="reference internal" href="#summary" id="id2">Summary</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#profile-knobs" id="id4">Profile Knobs</a></li>
<li><a class="reference internal" href="#source-location" id="id5">Source Location</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id2">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Submits transformed resource text to either Shrinksafe or the Google Closure Compiler.</p>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>If the profile property <code class="docutils literal"><span class="pre">layerOptimize</span></code> is a valid optimizer (see below), then, for every layer module, this transform
writes the current value of the transformed text to the destination location with the filetype &#8221;.uncompressed.js&#8221; and
then causes the named optimizer to process the resource and write the result to the destination location.</p>
<p>If the profile property <code class="docutils literal"><span class="pre">optimize</span></code> is a valid optimizer (see below), then, for non-layer module, this transform
writes the current value of the transformed text to the destination location with the filetype &#8221;.uncompressed.js&#8221; and
then causes the named optimizer to process the resource and write the result to the destination location.</p>
<p>The profile property <code class="docutils literal"><span class="pre">stripConsole</span></code> may also be set as described below to strip all console output.</p>
<p>When the build application is executed in the node.js environment, multiple child processes are started so that several
resources may be optimized concurrently, thereby decreasing build times. This feature is not available in the Rhino
environment.</p>
</div>
<div class="section" id="profile-knobs">
<h2><a class="toc-backref" href="#id4">Profile Knobs</a><a class="headerlink" href="#profile-knobs" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">layerOptimize</span></code> (default = &#8220;shrinksafe&#8221;)</dt>
<dd><ul class="first last simple">
<li>[<em>falsy</em>] Layer modules are not optimized; the <code class="docutils literal"><span class="pre">stripConsole</span></code> profile property, if any, is ignored.</li>
<li>[&#8220;comments.keeplines&#8221;] All comments are removed fromm all layer modules; new-lines are preserved; the <code class="docutils literal"><span class="pre">stripConsole</span></code>
profile property, if any, is ignored.</li>
<li>[&#8220;comments&#8221;] All comments are removed form all layer modules; new-lines are <em>not</em> preserved; the <code class="docutils literal"><span class="pre">stripConsole</span></code>
profile property, if any, is ignored.</li>
<li>[&#8220;shrinksafe.keeplines&#8221;] All layer modules are processed by shrinksafe; new-lines are preserved; the semantics of
the <code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
<li>[&#8220;shrinksafe&#8221;] All layer modules are processed by shrinksafe; new-lines are <em>not</em> preserved; the semantics of the
<code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
<li>[&#8220;closure.keeplines&#8221;] All layer modules are processed by the Google Closure compiler, simple-mode; new-lines are
preserved; the semantics of the <code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
<li>[&#8220;closure&#8221;] All layer modules are processed by the Google Closure compiler, simple-mode; new-lines are <em>not</em>
preserved; the semantics of the <code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
<li>[&#8220;uglify.keeplines&#8221;] All layer modules are processed by the UglifyJS compiler (version 1 only), simple-mode; new-lines are
preserved; the semantics of the <code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
<li>[&#8220;uglify&#8221;] All layer modules are processed by the UglifyJS compiler (version 1 only), simple-mode; new-lines are <em>not</em>
preserved; the semantics of the <code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
</ul>
</dd>
<dt><code class="docutils literal"><span class="pre">optimize</span></code> (default = &#8220;undefined&#8221;)</dt>
<dd><ul class="first last simple">
<li>[<em>falsy</em>] Non-layer modules are not optimized; the <code class="docutils literal"><span class="pre">stripConsole</span></code> profile property, if any, is ignored.</li>
<li>[&#8220;comment.keeplines&#8221;] All comments are removed fromm all non-layer modules; new-lines are preserved; the <code class="docutils literal"><span class="pre">stripConsole</span></code>
profile property, if any, is ignored.</li>
<li>[&#8220;comment&#8221;] All comments are removed form all non-layer modules; new-lines are <em>not</em> preserved; the <code class="docutils literal"><span class="pre">stripConsole</span></code>
profile property, if any, is ignored.</li>
<li>[&#8220;shrinksafe.keeplines&#8221;] All non-layer modules are processed by shrinksafe; new-lines are preserved; the semantics of
the <code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
<li>[&#8220;shrinksafe&#8221;] All non-layer modules are processed by shrinksafe; new-lines are <em>not</em> preserved; the semantics of the
<code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
<li>[&#8220;closure.keeplines&#8221;] All non-layer modules are processed by the Google Closure compiler, simple-mode; new-lines are
preserved; the semantics of the <code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
<li>[&#8220;closure&#8221;] All non-layer modules are processed by the Google Closure compiler, simple-mode; new-lines are <em>not</em>
preserved; the semantics of the <code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
<li>[&#8220;uglify.keeplines&#8221;] All layer modules are processed by the UglifyJS compiler (version 1 only), simple-mode; new-lines are
preserved; the semantics of the <code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
<li>[&#8220;uglify&#8221;] All layer modules are processed by the UglifyJS compiler (version 1 only), simple-mode; new-lines are <em>not</em>
preserved; the semantics of the <code class="docutils literal"><span class="pre">stripConsole</span></code> property are executed.</li>
</ul>
</dd>
<dt><strong>Important</strong>: Dead code removal consequent to static has.js feature values and the hasFixup transform requires a Google</dt>
<dd>Closure or UglifyJS compiler optimization switch setting. To use UglifyJS, you will need to <code class="docutils literal"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">uglify-js&#64;1</span></code>, in a directory parallel to <code class="docutils literal"><span class="pre">util</span></code></dd>
<dt><code class="docutils literal"><span class="pre">stripConsole</span></code> (default = &#8220;normal&#8221;)</dt>
<dd><ul class="first last simple">
<li>[&#8220;none&#8221;] No console applications are stripped.</li>
<li>[&#8220;normal&#8221;] All console applications are stripped except <code class="docutils literal"><span class="pre">console.error</span></code> and <code class="docutils literal"><span class="pre">console.warn</span></code>.</li>
<li>[&#8220;warn&#8221;] All console applications are stripped except <code class="docutils literal"><span class="pre">console.error</span></code>.</li>
<li>[&#8220;all&#8221;] All console applications are stripped.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="source-location">
<h2><a class="toc-backref" href="#id5">Source Location</a><a class="headerlink" href="#source-location" title="Permalink to this headline">¶</a></h2>
<p>util/build/transforms/writeOptimized.js</p>
</div>
</div>


      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-9 columns offset-3">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
        <div class="footer">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');

	</script>
</div>
    </div>
  </div>
  
  </body>
</html>