<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Internationalization (i18n) &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>

    <link rel="stylesheet" href="../../../../../css/guide.css">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <script src="../../../scripts/dojo/dojo/dojo.js"></script>
    <script src="../../../../../scripts/guide/docs/guide.js"></script>
    <link rel="stylesheet" href="../../../../../scripts/dojo/dijit/themes/claro/claro.css">

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo"><span>Dojo</span></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="">Get Dojo</a></li>
					<li><a href="/documentation/">Docs</a></li>
					<li><a href="">Help &amp; Support</a></li>
					<li><a href="">Blog</a></li>
					<li><a href="">Get Involved</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <main class="refguide">
    <div class="row">

      <div class="medium-3 columns sideNav">
        <h4>Reference Guide</h4>
        <div id="dtkVersion">
          <label for="refver">Dojo Version</label>
          <select id="refver" name="refver">
            <option value="1.6">1.6</option>
            <option value="1.7">1.7</option>
            <option value="1.8">1.8</option>
            <option value="1.9">1.9</option>
            <option value="1.10" selected="selected">1.10</option>
          </select>
        </div>
        <ul>
          <li><a href="../../index.html">Startpage</a></li>
          <li><a href="../../dojo/index.html">Dojo</a></li>
          <li><a href="../../dijit/index.html">Dijit</a></li>
          <li><a href="../index.html">DojoX</a></li>
        </ul>
        <ul>
<li><a class="reference internal" href="#">Internationalization (i18n)</a><ul>
<li><a class="reference internal" href="#server-side-substitution">Server-side Substitution</a></li>
<li><a class="reference internal" href="#dojo-i18n">dojo/i18n</a></li>
<li><a class="reference internal" href="#dojox-mobile-i18n">dojox/mobile/i18n</a></li>
<li><a class="reference internal" href="#why-dojox-mobile-i18n">Why dojox/mobile/i18n?</a></li>
</ul>
</li>
</ul>

        

            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../../search.html" method="get">
                    <input type="text" name="q" size="18" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                 </form>
                 <p class="searchtip" style="font-size: 90%">
                     Enter search terms or a module, class or function name.
                 </p>
            </div>
      </div>
      <div class="medium-9 columns content">
        
  <div class="section" id="internationalization-i18n">
<span id="dojox-mobile-internationalization"></span><h1><a class="toc-backref" href="#id1">Internationalization (i18n)</a><a class="headerlink" href="#internationalization-i18n" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Yoshiroh Kamiyama</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#internationalization-i18n" id="id1">Internationalization (i18n)</a><ul>
<li><a class="reference internal" href="#server-side-substitution" id="id2">Server-side Substitution</a></li>
<li><a class="reference internal" href="#dojo-i18n" id="id3">dojo/i18n</a></li>
<li><a class="reference internal" href="#dojox-mobile-i18n" id="id4">dojox/mobile/i18n</a></li>
<li><a class="reference internal" href="#why-dojox-mobile-i18n" id="id5">Why dojox/mobile/i18n?</a></li>
</ul>
</li>
</ul>
</div>
<p>There are a couple of approaches for internationalization of your
dojox/mobile applications. You can choose a client-side approach
using dojo/i18n. In some situations, you may want to use the
dojox/mobile/i18n module.</p>
<div class="section" id="server-side-substitution">
<h2><a class="toc-backref" href="#id2">Server-side Substitution</a><a class="headerlink" href="#server-side-substitution" title="Permalink to this headline">¶</a></h2>
<p>dojox/mobile itself does not require dojo/i18n, because it increases
the code size and has a performance cost. The most efficient option
from a performance perspective may be to substitute localized strings
on the server.</p>
</div>
<div class="section" id="dojo-i18n">
<h2><a class="toc-backref" href="#id3">dojo/i18n</a><a class="headerlink" href="#dojo-i18n" title="Permalink to this headline">¶</a></h2>
<p>If you need to do internationalization on the client-side, dojo/i18n
is the standard approach. Just like typical desktop dojo
applications, dojox/mobile applications can also leverage
dojo/i18n. You can load nls resources with the
dojo/i18n plugin as shown below. Once you get a resource bundle, you
can use the localized strings to replace UI labels, to show messages,
or whatever. In the example below, a localized text is used to replace
the button label.</p>
<div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;apple-mobile-web-app-capable&quot;</span> <span class="na">content=</span><span class="s">&quot;yes&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;../themes/iphone/iphone.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;../../../dojo/dojo.js&quot;</span> <span class="na">data-dojo-config=</span><span class="s">&quot;locale:&#39;it&#39;, parseOnLoad:true&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>

    <span class="nt">&lt;script </span><span class="na">language=</span><span class="s">&quot;JavaScript&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
        <span class="nx">require</span><span class="p">([</span>
            <span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dijit/registry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dojo/i18n!dojox/mobile/tests/nls/sample&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dojox/mobile&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dojox/mobile/compat&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dojox/mobile/Button&quot;</span><span class="p">,</span>
            <span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">registry</span><span class="p">,</span> <span class="nx">sampleStrings</span><span class="p">){</span>
            <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
                <span class="nx">registry</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;btn1&quot;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">sampleStrings</span><span class="p">[</span><span class="s2">&quot;Sunday&quot;</span><span class="p">]);</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;settings&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojox/mobile/View&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">&quot;btn1&quot;</span> <span class="na">class=</span><span class="s">&quot;mblBlueButton&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojox/mobile/Button&quot;</span><span class="nt">&gt;</span>Sunday<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;html&gt;
    &lt;head&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no&quot;/&gt;
    &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot; /&gt;
    &lt;link href=&quot;../themes/iphone/iphone.css&quot; rel=&quot;stylesheet&quot;&gt;

    &lt;script src=&quot;../../../dojo/dojo.js&quot; data-dojo-config=&quot;locale:'it', parseOnLoad:true&quot;&gt;&lt;/script&gt;

    &lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot;&gt;
        require([
            &quot;dojo/ready&quot;,
            &quot;dijit/registry&quot;,
            &quot;dojo/i18n!dojox/mobile/tests/nls/sample&quot;,
            &quot;dojo/parser&quot;,
            &quot;dojox/mobile&quot;,
            &quot;dojox/mobile/compat&quot;,
            &quot;dojox/mobile/Button&quot;,
            ], function(ready, registry, sampleStrings){
            ready(function(){
                registry.byId(&quot;btn1&quot;).set(&quot;label&quot;, sampleStrings[&quot;Sunday&quot;]);
            });
        });
    &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;div id=&quot;settings&quot; data-dojo-type=&quot;dojox/mobile/View&quot;&gt;
        &lt;button id=&quot;btn1&quot; class=&quot;mblBlueButton&quot; data-dojo-type=&quot;dojox/mobile/Button&quot;&gt;Sunday&lt;/button&gt;
    &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</textarea></div></div>
<div class="section" id="dojox-mobile-i18n">
<h2><a class="toc-backref" href="#id4">dojox/mobile/i18n</a><a class="headerlink" href="#dojox-mobile-i18n" title="Permalink to this headline">¶</a></h2>
<p>The above approach, however, requires JavaScript code for each UI
widget that has translatable strings. That may be inconvenient
when the application consists of many widgets and is mainly
created declaratively.</p>
<p>dojox/mobile/i18n is an optional feature that simplifies
internationalization in such cases. It is a thin wrapper around
dojo/i18n, and has ability to replace strings, such as CDATA or
attribute values, in the dojo markup. You can use the
dojox/mobile/i18n.load() method to load a resource bundle. The method
signature is the same as the signature of dojo/i18n.getLocalization().
The return value is an array of localized string resources, which is returned
from the dojo/i18n plugin.</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojox/mobile/i18n&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i18n</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">bundle</span> <span class="o">=</span> <span class="nx">i18n</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">&quot;dojox.mobile.tests&quot;</span><span class="p">,</span> <span class="s2">&quot;sample&quot;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojox/mobile/i18n&quot;], function(i18n){
  var bundle = i18n.load(&quot;dojox.mobile.tests&quot;, &quot;sample&quot;);
});</textarea></div><p>You can embed string resource keys into your markup as shown
below. The keys are automatically replaced with translated text of the
loaded resource bundle. That is basically what dojox/mobile/i18n does.</p>
<div class="highlight"><pre><span class="nt">&lt;h1</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojox/mobile/Heading&quot;</span> <span class="na">back=</span><span class="s">&quot;L_DAY_SUNDAY&quot;</span><span class="nt">&gt;</span>L_DAY_OF_THE_WEEK<span class="nt">&lt;/h1&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;h1 data-dojo-type=&quot;dojox/mobile/Heading&quot; back=&quot;L_DAY_SUNDAY&quot;&gt;L_DAY_OF_THE_WEEK&lt;/h1&gt;</textarea></div><p>The nls resource would be something like this:</p>
<div class="highlight"><pre><span class="nx">define</span><span class="p">({</span>
    <span class="nx">L_DAY_OF_THE_WEEK</span><span class="o">:</span> <span class="s2">&quot;Day of the Week&quot;</span><span class="p">,</span>
    <span class="nx">L_DAY_SUNDAY</span><span class="o">:</span> <span class="s2">&quot;Sunday&quot;</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define({
    L_DAY_OF_THE_WEEK: &quot;Day of the Week&quot;,
    L_DAY_SUNDAY: &quot;Sunday&quot;
});</textarea></div><p>It is of course not mandatory, but one interesting idea is to use
English text as resource keys. For example, as shown below, you can
write as if you are writing an ordinary English application.</p>
<div class="highlight"><pre><span class="nt">&lt;h1</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojox/mobile/Heading&quot;</span> <span class="na">back=</span><span class="s">&quot;Sunday&quot;</span><span class="nt">&gt;</span>Day of the Week<span class="nt">&lt;/h1&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;h1 data-dojo-type=&quot;dojox/mobile/Heading&quot; back=&quot;Sunday&quot;&gt;Day of the Week&lt;/h1&gt;</textarea></div><p>In fact, however, what you wrote are not English resource values, but
resource keys, &#8220;Sunday&#8221; and &#8220;Day of the Week&#8221;. That is, if you provide
an Italian resource as follows,</p>
<div class="highlight"><pre><span class="nx">define</span><span class="p">({</span>
    <span class="s2">&quot;Day of the Week&quot;</span><span class="o">:</span> <span class="s2">&quot;giorno della settimana&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Sunday&quot;</span><span class="o">:</span> <span class="s2">&quot;Domenica&quot;</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define({
    &quot;Day of the Week&quot;: &quot;giorno della settimana&quot;,
    &quot;Sunday&quot;: &quot;Domenica&quot;
});</textarea></div><p>and set your browser&#8217;s locale to Italian, then you will get the following result.</p>
<img alt="../../_images/Heading-italian.png" src="../../_images/Heading-italian.png" />
<p>Here, you don&#8217;t need to programmatically handle the returned resource
bundle array. dojox/mobile widgets automatically replace the resource
keys with their corresponding resource values.</p>
<p>In this example, if you prepared a resource bundle for English, it would look like this:</p>
<div class="highlight"><pre><span class="nx">define</span><span class="p">({</span>
    <span class="s2">&quot;Day of the Week&quot;</span><span class="o">:</span> <span class="s2">&quot;Day of the Week&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Sunday&quot;</span><span class="o">:</span> <span class="s2">&quot;Sunday&quot;</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define({
    &quot;Day of the Week&quot;: &quot;Day of the Week&quot;,
    &quot;Sunday&quot;: &quot;Sunday&quot;
});</textarea></div><p>But you don&#8217;t have to have English resource, because when a look-up
fails, the key is used as its value. That&#8217;s the benefit of using
English text as resource keys. If you take this approach, you should
not have English resource, since it simply increases the download size
and achieves no gain.</p>
<p>If your resource value contains variables that have to be replaced
with some given values, you need to access the resource bundle array,
perform substitution, and apply the value to the widget.</p>
<div class="highlight"><pre><span class="nx">define</span><span class="p">({</span>
    <span class="s2">&quot;MINUTES&quot;</span><span class="o">:</span> <span class="s2">&quot;%1 Minuto&quot;</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define({
    &quot;MINUTES&quot;: &quot;%1 Minuto&quot;
});</textarea></div><div class="highlight"><pre><span class="nx">registry</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;item1&quot;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">bundle</span><span class="p">[</span><span class="s2">&quot;MINUTES&quot;</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;%1&quot;</span><span class="p">,</span> <span class="s2">&quot;30&quot;</span><span class="p">));</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">registry.byId(&quot;item1&quot;).set(&quot;label&quot;, bundle[&quot;MINUTES&quot;].replace(&quot;%1&quot;, &quot;30&quot;));</textarea></div></div>
<div class="section" id="why-dojox-mobile-i18n">
<h2><a class="toc-backref" href="#id5">Why dojox/mobile/i18n?</a><a class="headerlink" href="#why-dojox-mobile-i18n" title="Permalink to this headline">¶</a></h2>
<p>If you are developing custom widgets that have pre-defined
translatable text inside the widgets, you have no choice. dojo/i18n is
your solution.</p>
<p>However, if you are developing dojox/mobile-based user applications
that have user-defined translatable text, that is, when translatable
text is given to dojox/mobile widgets, then dojo/i18n can still be
your solution, but dojox/mobile/i18n may be another option, because it
provides the ability to replace string resource keys in dojo markup
with translated text without JavaScript coding. Internationalization
of your application&#8217;s heading titles, button labels, list item labels,
etc. are such examples.</p>
</div>
</div>


      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-9 columns offset-3">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
        <div class="footer">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');

	</script>
</div>
    </div>
  </div>
  
  </body>
</html>