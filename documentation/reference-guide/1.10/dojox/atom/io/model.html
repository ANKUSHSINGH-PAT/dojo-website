<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojox.atom.io.model &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>

    <link rel="stylesheet" href="../../../../../../css/guide.css">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <script src="../../../scripts/dojo/dojo/dojo.js"></script>
    <script src="../../../../../../scripts/guide/docs/guide.js"></script>
    <link rel="stylesheet" href="../../../../../../scripts/dojo/dijit/themes/claro/claro.css">

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo"><span>Dojo</span></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="">Get Dojo</a></li>
					<li><a href="/documentation/">Docs</a></li>
					<li><a href="">Help &amp; Support</a></li>
					<li><a href="">Blog</a></li>
					<li><a href="">Get Involved</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <main class="refguide">
    <div class="row">

      <div class="medium-3 columns sideNav">
        <h4>Reference Guide</h4>
        <div id="dtkVersion">
          <label for="refver">Dojo Version</label>
          <select id="refver" name="refver">
            <option value="1.6">1.6</option>
            <option value="1.7">1.7</option>
            <option value="1.8">1.8</option>
            <option value="1.9">1.9</option>
            <option value="1.10" selected="selected">1.10</option>
          </select>
        </div>
        <ul>
          <li><a href="../../../index.html">Startpage</a></li>
          <li><a href="../../../dojo/index.html">Dojo</a></li>
          <li><a href="../../../dijit/index.html">Dijit</a></li>
          <li><a href="../../index.html">DojoX</a></li>
        </ul>
        <ul>
<li><a class="reference internal" href="#">dojox.atom.io.model</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#classes-defined-in-the-model">Classes defined in the model</a></li>
<li><a class="reference internal" href="#utility-functions">Utility Functions</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#example-1-create-an-atom-feed-model-from-an-existing-atom-document">Example 1: Create an ATOM Feed model from an existing ATOM document</a></li>
<li><a class="reference internal" href="#example-2-create-a-new-atom-feed">Example 2: Create a new ATOM Feed</a></li>
<li><a class="reference internal" href="#example-3-modify-a-loaded-feed">Example 3: Modify a loaded feed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        

            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../../../search.html" method="get">
                    <input type="text" name="q" size="18" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                 </form>
                 <p class="searchtip" style="font-size: 90%">
                     Enter search terms or a module, class or function name.
                 </p>
            </div>
      </div>
      <div class="medium-9 columns content">
        
  <div class="section" id="dojox-atom-io-model">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojox.atom.io.model</a><a class="headerlink" href="#dojox-atom-io-model" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Project owner:</th><td class="field-body">Benjamin Schell</td>
</tr>
<tr class="field-even field"><th class="field-name">since:</th><td class="field-body">V1.3</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojox-atom-io-model" id="id2">dojox.atom.io.model</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#classes-defined-in-the-model" id="id4">Classes defined in the model</a></li>
<li><a class="reference internal" href="#utility-functions" id="id5">Utility Functions</a></li>
<li><a class="reference internal" href="#usage" id="id6">Usage</a></li>
<li><a class="reference internal" href="#examples" id="id7">Examples</a></li>
<li><a class="reference internal" href="#see-also" id="id8">See Also</a></li>
</ul>
</li>
</ul>
</div>
<p>The <em>dojox.atom.io.model</em> module is a JavaScript model of an ATOM feed.</p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This module handles the parsing of the ATOM XML into a JavaScript structure that can be easily modified and then serialized out as XML.  This set of classes handles browser idiosyncrasies when parsing the XML, making it very cross-browser compatible and is far simpler to work with than using DOM apis to walk the ATOM XML document.</p>
</div>
<div class="section" id="classes-defined-in-the-model">
<h2><a class="toc-backref" href="#id4">Classes defined in the model</a><a class="headerlink" href="#classes-defined-in-the-model" title="Permalink to this headline">¶</a></h2>
<p>When the model file is loaded, several classes are defined that represent ATOM tags.  Please refer to the following table for the class names and a description of what they represent.  Each entry in the class name table also acts as a link to specific documentation about that class and what core functions it provides.</p>
<dl class="docutils">
<dt>:<a class="reference internal" href="model/AtomItem.html#dojox-atom-io-model-atomitem"><span>dojox.atom.io.model.AtomItem</span></a>:</dt>
<dd>A generic superclass used to represent specific ATOM details that are common for many ATOM tags</dd>
<dt>:<a class="reference internal" href="model/Category.html#dojox-atom-io-model-category"><span>dojox.atom.io.model.Category</span></a>:</dt>
<dd>Model to represent the Category tag of an ATOM document.  Contains all Category properties and a toString function for serializing it back to XML</dd>
<dt>:<a class="reference internal" href="model/Content.html#dojox-atom-io-model-content"><span>dojox.atom.io.model.Content</span></a>:</dt>
<dd>Model to represent the Content style tags in an ATOM document.  This is used to represent Summary, Content, Title, and Subtitle elements in an ATOM
feed.  In other words, it represents any element that can contain Text, HTML, XHTML, etc as content format.  It also has a toString function used to
generate the corresponding XML tag</dd>
<dt>:<a class="reference internal" href="model/Link.html#dojox-atom-io-model-link"><span>dojox.atom.io.model.Link</span></a>:</dt>
<dd>Atom link element.  Used for representing link attributes.  Handles multiple link types (edit, alt, etc.)</dd>
<dt>:<a class="reference internal" href="model/Person.html#dojox-atom-io-model-person"><span>dojox.atom.io.model.Person</span></a>:</dt>
<dd>Atom person element. Used to represent authors and contributors.</dd>
<dt>:<a class="reference internal" href="model/Entry.html#dojox-atom-io-model-entry"><span>dojox.atom.io.model.Entry</span></a>:</dt>
<dd>Atom entry element. Represents an Atom entry, including storing the authors, contributors, title, content, and so on.</dd>
<dt>:<a class="reference internal" href="model/Feed.html#dojox-atom-io-model-feed"><span>dojox.atom.io.model.Feed</span></a>:</dt>
<dd>Atom feed element. Represents an Atom Feed, including the feed elements such as the title and author, and also represents the entry list.</dd>
<dt>:<a class="reference internal" href="model/Generator.html#dojox-atom-io-model-generator"><span>dojox.atom.io.model.Generator</span></a>:</dt>
<dd>Atom generator element</dd>
<dt>:<a class="reference internal" href="model/Service.html#dojox-atom-io-model-service"><span>dojox.atom.io.model.Service</span></a>:</dt>
<dd>Atom service element</dd>
<dt>:<a class="reference internal" href="model/Workspace.html#dojox-atom-io-model-workspace"><span>dojox.atom.io.model.Workspace</span></a>:</dt>
<dd>Atom workspace element</dd>
<dt>:<a class="reference internal" href="model/Collection.html#dojox-atom-io-model-collection"><span>dojox.atom.io.model.Collection</span></a>:</dt>
<dd>Atom collection element</dd>
</dl>
</div>
<div class="section" id="utility-functions">
<h2><a class="toc-backref" href="#id5">Utility Functions</a><a class="headerlink" href="#utility-functions" title="Permalink to this headline">¶</a></h2>
<p>There are also several utility functions defined by the model.  These functions are used by all of the subclasses and can be useful in standalone cases as well.  Please refer to the following table for function name and description:</p>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="62%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Function</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>dojox.atom.io.model.util.createDate(DOMNode)</td>
<td>A function for parsing the text content of a DOM node and creating a Date object from
it.</td>
</tr>
<tr class="row-odd"><td>dojox.atom.io.model.util.escapeHtml(String)</td>
<td>A function for escaping HTML control and entity characters in a string so that it can
be handled as text without the markup affecting the XML document.</td>
</tr>
<tr class="row-even"><td>dojox.atom.io.model.util.unEscapeHtml(String)</td>
<td>A function for restoring the HTML control and tag characters to a string.  Useful when
you wish to unEscape the content of an entry and display it in a Content Pane.</td>
</tr>
<tr class="row-odd"><td>dojox.atom.io.model.util.getNodename(Node)</td>
<td>A function for getting the node name of an XML node.  This function exists to handle
browser quirks.  Specifically things such as Internet Explorer&#8217;s poor namespace
handling.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id6">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The model is intended for creating, parsing, and working with ATOM feeds in JavaScript and being able to easily serialize them out.  Generally to create a Feed you would use dojo.xhrGet() to load an XML document into a DOM, then pass that dom Object to buildFromDom() of a newly instantiated Atom Feed model class.  It will then construct all its subclasses and set its attributes correctly.  For specific usage, please refer to the examples section.</p>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id7">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="example-1-create-an-atom-feed-model-from-an-existing-atom-document">
<h3>Example 1: Create an ATOM Feed model from an existing ATOM document<a class="headerlink" href="#example-1-create-an-atom-feed-model-from-an-existing-atom-document" title="Permalink to this headline">¶</a></h3>
<p><em>Note that this demonstrates that the XML document is converted into a JS object structure as shown by displaying the &#8216;feed&#8217; by converting it to JSON.  The XML form is also displayed underneath it, demonstrating toString() rebuilding the XML form for submission or whatnot.</em></p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;dojox.atom.io.model&quot;</span><span class="p">);</span>

<span class="c1">// This function performs some basic dojo initialization and will do the load calling for this example</span>
<span class="c1">// Set the init function to run when dojo loading and page parsing has completed.</span>
<span class="nx">dojo</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">xhrArgs</span> <span class="o">=</span> <span class="p">{</span>
     <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;{{dataUrl}}dojox/atom/tests/widget/samplefeedEdit.xml&quot;</span><span class="p">,</span>
     <span class="nx">preventCache</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
     <span class="nx">handleAs</span><span class="o">:</span> <span class="s2">&quot;xml&quot;</span>
  <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">deferred</span> <span class="o">=</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">xhrGet</span><span class="p">(</span><span class="nx">xhrArgs</span><span class="p">);</span>

  <span class="nx">deferred</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span>
      <span class="c1">// Okay, on success we&#39;ll process the ATOM doc and generate the JavaScript model</span>
      <span class="kd">function</span><span class="p">(</span><span class="nx">xmlDoc</span><span class="p">,</span> <span class="nx">ioargs</span><span class="p">){</span>
          <span class="kd">var</span> <span class="nx">feedRoot</span> <span class="o">=</span> <span class="nx">xmlDoc</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;feed&quot;</span><span class="p">);</span>
          <span class="kd">var</span> <span class="nx">feed</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">dojox</span><span class="p">.</span><span class="nx">atom</span><span class="p">.</span><span class="nx">io</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">Feed</span><span class="p">();</span>
          <span class="nx">feed</span><span class="p">.</span><span class="nx">buildFromDom</span><span class="p">(</span><span class="nx">xmlDoc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">);</span>

          <span class="c1">// Emit both the XML (As reconstructed from the Feed object and as a JSON form.</span>
          <span class="kd">var</span> <span class="nx">xml</span> <span class="o">=</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;simpleAtomXml&quot;</span><span class="p">);</span>
          <span class="nx">xml</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
          <span class="nx">xml</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">dojo</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">feed</span><span class="p">.</span><span class="nx">toString</span><span class="p">()));</span>

          <span class="kd">var</span> <span class="nx">json</span> <span class="o">=</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;simpleAtomJson&quot;</span><span class="p">);</span>
          <span class="nx">json</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
          <span class="nx">json</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">dojo</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">dojo</span><span class="p">.</span><span class="nx">toJson</span><span class="p">(</span><span class="nx">feed</span><span class="p">,</span> <span class="kc">true</span><span class="p">)));</span>
      <span class="p">},</span>

      <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
      <span class="p">}</span>
  <span class="p">);</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">dojo.require(&quot;dojox.atom.io.model&quot;);

// This function performs some basic dojo initialization and will do the load calling for this example
// Set the init function to run when dojo loading and page parsing has completed.
dojo.ready(function(){
  var xhrArgs = {
     url: &quot;{{dataUrl}}dojox/atom/tests/widget/samplefeedEdit.xml&quot;,
     preventCache: true,
     handleAs: &quot;xml&quot;
  };

  var deferred = dojo.xhrGet(xhrArgs);

  deferred.then(
      // Okay, on success we'll process the ATOM doc and generate the JavaScript model
      function(xmlDoc, ioargs){
          var feedRoot = xmlDoc.getElementsByTagName(&quot;feed&quot;);
          var feed = new dojox.atom.io.model.Feed();
          feed.buildFromDom(xmlDoc.documentElement);

          // Emit both the XML (As reconstructed from the Feed object and as a JSON form.
          var xml = dojo.byId(&quot;simpleAtomXml&quot;);
          xml.innerHTML = &quot;&quot;;
          xml.appendChild(dojo.doc.createTextNode(feed.toString()));

          var json = dojo.byId(&quot;simpleAtomJson&quot;);
          json.innerHTML = &quot;&quot;;
          json.appendChild(dojo.doc.createTextNode(dojo.toJson(feed, true)));
      },

      function(error){
          console.debug(e);
      }
  );
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;height: 400px; overflow: auto;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;b&gt;</span>As JSON (To show that it is creating a JS structure)<span class="nt">&lt;/b&gt;</span>
  <span class="nt">&lt;pre</span> <span class="na">id=</span><span class="s">&quot;simpleAtomJson&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/pre&gt;</span>
  <span class="nt">&lt;br&gt;</span>
  <span class="nt">&lt;br&gt;</span>
  <span class="nt">&lt;b&gt;</span>As XML (Showing toString() returning the XML version)<span class="nt">&lt;/b&gt;</span>
  <span class="nt">&lt;pre</span> <span class="na">id=</span><span class="s">&quot;simpleAtomXml&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/pre&gt;</span>
<span class="nt">&lt;/span&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div style=&quot;height: 400px; overflow: auto;&quot;&gt;
  &lt;b&gt;As JSON (To show that it is creating a JS structure)&lt;/b&gt;
  &lt;pre id=&quot;simpleAtomJson&quot;&gt;
  &lt;/pre&gt;
  &lt;br&gt;
  &lt;br&gt;
  &lt;b&gt;As XML (Showing toString() returning the XML version)&lt;/b&gt;
  &lt;pre id=&quot;simpleAtomXml&quot;&gt;
  &lt;/pre&gt;
&lt;/span&gt;</textarea></div></div></div></div>
<div class="section" id="example-2-create-a-new-atom-feed">
<h3>Example 2: Create a new ATOM Feed<a class="headerlink" href="#example-2-create-a-new-atom-feed" title="Permalink to this headline">¶</a></h3>
<p><em>Note that this demonstrates using the model to create a new Feed document with a single entry</em></p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;dojox.atom.io.model&quot;</span><span class="p">);</span>

<span class="c1">// This function performs some basic dojo initialization and will do the main work for this example</span>
<span class="kd">function</span> <span class="nx">initSimpleCreateAtom</span><span class="p">(){</span>
  <span class="c1">// Create a feed with some basic attributes set.</span>
  <span class="kd">var</span> <span class="nx">feed</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">dojox</span><span class="p">.</span><span class="nx">atom</span><span class="p">.</span><span class="nx">io</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">Feed</span><span class="p">();</span>
  <span class="nx">feed</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="s2">&quot;This_Is_A_New_Feed_0&quot;</span><span class="p">;</span>
  <span class="nx">feed</span><span class="p">.</span><span class="nx">addAuthor</span><span class="p">(</span><span class="s2">&quot;John Doe&quot;</span><span class="p">,</span> <span class="s2">&quot;johndoe@nowhere.org&quot;</span><span class="p">,</span> <span class="s2">&quot;http://johndoeshomepage.org&quot;</span><span class="p">);</span>
  <span class="nx">feed</span><span class="p">.</span><span class="nx">rights</span> <span class="o">=</span> <span class="s2">&quot;Copyright Dojo&quot;</span><span class="p">;</span>
  <span class="nx">feed</span><span class="p">.</span><span class="nx">updated</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
  <span class="nx">feed</span><span class="p">.</span><span class="nx">published</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
  <span class="nx">feed</span><span class="p">.</span><span class="nx">setTitle</span><span class="p">(</span><span class="s2">&quot;This &lt;i&gt;is&lt;/i&gt; my Feed title!&quot;</span><span class="p">,</span> <span class="s2">&quot;xhtml&quot;</span><span class="p">);</span>

  <span class="c1">// Create an entry</span>
  <span class="kd">var</span> <span class="nx">entry</span> <span class="o">=</span> <span class="nx">feed</span><span class="p">.</span><span class="nx">createEntry</span><span class="p">();</span>
  <span class="nx">entry</span><span class="p">.</span><span class="nx">addAuthor</span><span class="p">(</span><span class="s2">&quot;Jane Doe&quot;</span><span class="p">,</span> <span class="s2">&quot;janedoe@nowhere.org&quot;</span><span class="p">,</span> <span class="s2">&quot;http://johndoeshomepage.org&quot;</span><span class="p">);</span>
  <span class="nx">entry</span><span class="p">.</span><span class="nx">setTitle</span><span class="p">(</span><span class="s2">&quot;This &lt;i&gt;is&lt;/i&gt; my entry title!&quot;</span><span class="p">,</span> <span class="s2">&quot;xhtml&quot;</span><span class="p">);</span>
  <span class="nx">entry</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="s2">&quot;entry_1&quot;</span><span class="p">;</span>

  <span class="c1">// Add the feed entry to the current feed.</span>
  <span class="nx">feed</span><span class="p">.</span><span class="nx">addEntry</span><span class="p">(</span><span class="nx">entry</span><span class="p">);</span>

  <span class="c1">// Emit The XML form of the feed.</span>
  <span class="kd">var</span> <span class="nx">xml</span> <span class="o">=</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;simpleAtomCreate&quot;</span><span class="p">);</span>
  <span class="nx">xml</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  <span class="nx">xml</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">dojo</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">feed</span><span class="p">.</span><span class="nx">toString</span><span class="p">()));</span>
<span class="p">}</span>
<span class="c1">// Set the init function to run when dojo loading and page parsing has completed.</span>
<span class="nx">dojo</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="nx">initSimpleCreateAtom</span> <span class="p">);</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">dojo.require(&quot;dojox.atom.io.model&quot;);

// This function performs some basic dojo initialization and will do the main work for this example
function initSimpleCreateAtom(){
  // Create a feed with some basic attributes set.
  var feed = new dojox.atom.io.model.Feed();
  feed.id = &quot;This_Is_A_New_Feed_0&quot;;
  feed.addAuthor(&quot;John Doe&quot;, &quot;johndoe&#64;nowhere.org&quot;, &quot;http://johndoeshomepage.org&quot;);
  feed.rights = &quot;Copyright Dojo&quot;;
  feed.updated = new Date();
  feed.published = new Date();
  feed.setTitle(&quot;This &lt;i&gt;is&lt;/i&gt; my Feed title!&quot;, &quot;xhtml&quot;);

  // Create an entry
  var entry = feed.createEntry();
  entry.addAuthor(&quot;Jane Doe&quot;, &quot;janedoe&#64;nowhere.org&quot;, &quot;http://johndoeshomepage.org&quot;);
  entry.setTitle(&quot;This &lt;i&gt;is&lt;/i&gt; my entry title!&quot;, &quot;xhtml&quot;);
  entry.id=&quot;entry_1&quot;;

  // Add the feed entry to the current feed.
  feed.addEntry(entry);

  // Emit The XML form of the feed.
  var xml = dojo.byId(&quot;simpleAtomCreate&quot;);
  xml.innerHTML = &quot;&quot;;
  xml.appendChild(dojo.doc.createTextNode(feed.toString()));
}
// Set the init function to run when dojo loading and page parsing has completed.
dojo.ready(initSimpleCreateAtom );</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;height: 400px; overflow: auto;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;b&gt;</span>As XML<span class="nt">&lt;/b&gt;</span>
  <span class="nt">&lt;pre</span> <span class="na">id=</span><span class="s">&quot;simpleAtomCreate&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/pre&gt;</span>
<span class="nt">&lt;/span&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div style=&quot;height: 400px; overflow: auto;&quot;&gt;
  &lt;b&gt;As XML&lt;/b&gt;
  &lt;pre id=&quot;simpleAtomCreate&quot;&gt;
  &lt;/pre&gt;
&lt;/span&gt;</textarea></div></div></div></div>
<div class="section" id="example-3-modify-a-loaded-feed">
<h3>Example 3: Modify a loaded feed<a class="headerlink" href="#example-3-modify-a-loaded-feed" title="Permalink to this headline">¶</a></h3>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;dojox.atom.io.model&quot;</span><span class="p">);</span>

<span class="c1">// This function performs some basic dojo initialization and will do the load calling for this example</span>
<span class="c1">// Set the init function to run when dojo loading and page parsing has completed.</span>
<span class="nx">dojo</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">xhrArgs</span> <span class="o">=</span> <span class="p">{</span>
     <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;{{dataUrl}}dojox/atom/tests/widget/samplefeedEdit.xml&quot;</span><span class="p">,</span>
     <span class="nx">preventCache</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
     <span class="nx">handleAs</span><span class="o">:</span> <span class="s2">&quot;xml&quot;</span>
  <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">deferred</span> <span class="o">=</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">xhrGet</span><span class="p">(</span><span class="nx">xhrArgs</span><span class="p">);</span>

  <span class="nx">deferred</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span>
     <span class="c1">// Okay, on success we&#39;ll process the ATOM doc and generate the JavaScript model</span>
     <span class="kd">function</span><span class="p">(</span><span class="nx">xmlDoc</span><span class="p">,</span> <span class="nx">ioargs</span><span class="p">){</span>
         <span class="kd">var</span> <span class="nx">feedRoot</span> <span class="o">=</span> <span class="nx">xmlDoc</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;feed&quot;</span><span class="p">);</span>
         <span class="kd">var</span> <span class="nx">feed</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">dojox</span><span class="p">.</span><span class="nx">atom</span><span class="p">.</span><span class="nx">io</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">Feed</span><span class="p">();</span>
         <span class="nx">feed</span><span class="p">.</span><span class="nx">buildFromDom</span><span class="p">(</span><span class="nx">xmlDoc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">);</span>

         <span class="c1">// Emit XML of the modified feed.</span>
         <span class="kd">var</span> <span class="nx">xml</span> <span class="o">=</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;simpleAtomXmlPristine&quot;</span><span class="p">);</span>
         <span class="nx">xml</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
         <span class="nx">xml</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">dojo</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">feed</span><span class="p">.</span><span class="nx">toString</span><span class="p">()));</span>

         <span class="c1">// Remove an entry.</span>
         <span class="kd">var</span> <span class="nx">entry</span> <span class="o">=</span> <span class="nx">feed</span><span class="p">.</span><span class="nx">getFirstEntry</span><span class="p">();</span>
         <span class="nx">feed</span><span class="p">.</span><span class="nx">removeEntry</span><span class="p">(</span><span class="nx">entry</span><span class="p">);</span>
         <span class="nx">feed</span><span class="p">.</span><span class="nx">updated</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>

         <span class="c1">// Emit XML of the modified feed.</span>
         <span class="nx">xml</span> <span class="o">=</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;simpleAtomXmlModified&quot;</span><span class="p">);</span>
         <span class="nx">xml</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
         <span class="nx">xml</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">dojo</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">feed</span><span class="p">.</span><span class="nx">toString</span><span class="p">()));</span>
      <span class="p">},</span>

      <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
      <span class="p">}</span>
  <span class="p">);</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">dojo.require(&quot;dojox.atom.io.model&quot;);

// This function performs some basic dojo initialization and will do the load calling for this example
// Set the init function to run when dojo loading and page parsing has completed.
dojo.ready(function(){
  var xhrArgs = {
     url: &quot;{{dataUrl}}dojox/atom/tests/widget/samplefeedEdit.xml&quot;,
     preventCache: true,
     handleAs: &quot;xml&quot;
  };

  var deferred = dojo.xhrGet(xhrArgs);

  deferred.then(
     // Okay, on success we'll process the ATOM doc and generate the JavaScript model
     function(xmlDoc, ioargs){
         var feedRoot = xmlDoc.getElementsByTagName(&quot;feed&quot;);
         var feed = new dojox.atom.io.model.Feed();
         feed.buildFromDom(xmlDoc.documentElement);

         // Emit XML of the modified feed.
         var xml = dojo.byId(&quot;simpleAtomXmlPristine&quot;);
         xml.innerHTML = &quot;&quot;;
         xml.appendChild(dojo.doc.createTextNode(feed.toString()));

         // Remove an entry.
         var entry = feed.getFirstEntry();
         feed.removeEntry(entry);
         feed.updated = new Date();

         // Emit XML of the modified feed.
         xml = dojo.byId(&quot;simpleAtomXmlModified&quot;);
         xml.innerHTML = &quot;&quot;;
         xml.appendChild(dojo.doc.createTextNode(feed.toString()));
      },

      function(error){
          console.debug(e);
      }
  );
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;height: 400px; overflow: auto;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;b&gt;</span>Pristine XML<span class="nt">&lt;/b&gt;</span>
  <span class="nt">&lt;pre</span> <span class="na">id=</span><span class="s">&quot;simpleAtomXmlPristine&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/pre&gt;</span>
  <span class="nt">&lt;br&gt;</span>
  <span class="nt">&lt;br&gt;</span>
  <span class="nt">&lt;b&gt;</span>Modified XML<span class="nt">&lt;/b&gt;</span>
  <span class="nt">&lt;pre</span> <span class="na">id=</span><span class="s">&quot;simpleAtomXmlModified&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/pre&gt;</span>
<span class="nt">&lt;/span&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div style=&quot;height: 400px; overflow: auto;&quot;&gt;
  &lt;b&gt;Pristine XML&lt;/b&gt;
  &lt;pre id=&quot;simpleAtomXmlPristine&quot;&gt;
  &lt;/pre&gt;
  &lt;br&gt;
  &lt;br&gt;
  &lt;b&gt;Modified XML&lt;/b&gt;
  &lt;pre id=&quot;simpleAtomXmlModified&quot;&gt;
  &lt;/pre&gt;
&lt;/span&gt;</textarea></div></div></div></div>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id8">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="Connection.html#dojox-atom-io-connection"><span>dojox.atom.io.Connection</span></a>: An IO class that simplifies doing APP for an ATOM feed.</li>
<li><a class="reference internal" href="../../data/AppStore.html#dojox-data-appstore"><span>dojox.data.AppStore</span></a>: A datastore built upon the <em>io</em> modules and provides full APP support.</li>
</ul>
</div>
</div>


      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-9 columns offset-3">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
        <div class="footer">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');

	</script>
</div>
    </div>
  </div>
  
  </body>
</html>