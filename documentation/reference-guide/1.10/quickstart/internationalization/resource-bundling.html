<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Translatable Resource bundles &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <script src="/scripts/dojo/dojo/dojo.js"></script>
    <script src="/scripts/guide/docs/guide.js"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css">

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo"><span>Dojo</span></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="">Get Dojo</a></li>
					<li><a href="/documentation/">Docs</a></li>
					<li><a href="">Help &amp; Support</a></li>
					<li><a href="">Blog</a></li>
					<li><a href="">Get Involved</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <main class="refguide">
    <div class="row">

      <div class="medium-3 columns sideNav">
        <h4>Reference Guide</h4>
        <div id="dtkVersion">
          <label for="refver">Dojo Version</label>
          <select id="refver" name="refver">
            <option value="1.6">1.6</option>
            <option value="1.7">1.7</option>
            <option value="1.8">1.8</option>
            <option value="1.9">1.9</option>
            <option value="1.10" selected="selected">1.10</option>
          </select>
        </div>
        <ul>
          <li><a href="../../index.html">Startpage</a></li>
          <li><a href="../../dojo/index.html">Dojo</a></li>
          <li><a href="../../dijit/index.html">Dijit</a></li>
          <li><a href="../../dojox/index.html">DojoX</a></li>
        </ul>
        <ul>
<li><a class="reference internal" href="#">Translatable Resource bundles</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#localizing-strings">Localizing Strings</a></li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

        

            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../../search.html" method="get">
                    <input type="text" name="q" size="18" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                 </form>
                 <p class="searchtip" style="font-size: 90%">
                     Enter search terms or a module, class or function name.
                 </p>
            </div>
      </div>
      <div class="medium-9 columns content">
        
  <div class="section" id="translatable-resource-bundles">
<span id="quickstart-internationalization-resource-bundling"></span><h1><a class="toc-backref" href="#id1">Translatable Resource bundles</a><a class="headerlink" href="#translatable-resource-bundles" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Adam Peller</td>
</tr>
<tr class="field-even field"><th class="field-name">since:</th><td class="field-body">1.0</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#translatable-resource-bundles" id="id1">Translatable Resource bundles</a><ul>
<li><a class="reference internal" href="#introduction" id="id2">Introduction</a></li>
<li><a class="reference internal" href="#localizing-strings" id="id3">Localizing Strings</a></li>
<li><a class="reference internal" href="#see-also" id="id4">See also</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id2">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../../dojo/i18n.html#dojo-i18n"><span>dojo/i18n</span></a> loader plugin solves a problem in JavaScript: with a significant amount of logic now on the client, there are internationalization issues which cannot easily be solved by server-driven templates.  Furthermore, a server-based solution for dynamic content is difficult to manage and couples the client-side toolkit to a particular server architecture, making it difficult to share JavaScript components or widgets.  With a client-side internationalization framework, the integration point moves to the browser where simple or complex logic can be applied without becoming a bottleneck. This architecture also encourages encapsulation and efficient caching both at edge servers and in the browser. And, while all translations are present on the server, rest assured that only those which match the user&#8217;s locale are requested by the client and sent over the wire.</p>
<p>To internationalize a web application with Dojo, a combination of client and server techniques are typically employed.  The methods used in Dojo to substitute localized resources are intended for dynamic content generated by JavaScript. It is usually best to continue using a server-side mechanism to localize static page content, rather than trying to generate all page content through Dojo and JavaScript.</p>
<p>Dojo and Dijit provide resource bundles for all strings which are made visible to the user on the page, with translations provided in many languages.  Those augmenting Dojo or writing their own widgets may to create and translate their own set of resources, as needed.  Error information, such as that sent to a browser console, are not translated.</p>
</div>
<div class="section" id="localizing-strings">
<h2><a class="toc-backref" href="#id3">Localizing Strings</a><a class="headerlink" href="#localizing-strings" title="Permalink to this headline">¶</a></h2>
<p>With the introduction of AMD-style loading in Dojo 1.7, localized content is loaded much like JavaScript modules, using the dojo/i18n! plugin as follows:</p>
<div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;script</span>
<span class="nt">        </span><span class="na">src=</span><span class="s">&quot;dojo/dojo.js&quot;</span>
        <span class="na">data-dojo-config=</span><span class="s">&quot;&#39;packages&#39;:[{&#39;name&#39;: &#39;myApp&#39;, &#39;location&#39;:&#39;myApp&#39;}]</span>
<span class="s">    &gt;&lt;/script&gt;</span>
<span class="s">    &lt;script language=&quot;</span><span class="na">JavaScript</span><span class="err">&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
        <span class="nx">require</span><span class="p">([</span>
            <span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dojo/i18n!myApp/nls/myResources&quot;</span>
        <span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">sampleStrings</span><span class="p">){</span>
            <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;myDiv&quot;</span><span class="p">).</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">sampleStrings</span><span class="p">.</span><span class="nx">greeting</span><span class="p">;</span>
            <span class="p">})</span>
        <span class="p">});</span>
    <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;myDiv&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;html&gt;
&lt;head&gt;
    &lt;script
        src=&quot;dojo/dojo.js&quot;
        data-dojo-config=&quot;'packages':[{'name': 'myApp', 'location':'myApp'}]
    &gt;&lt;/script&gt;
    &lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot;&gt;
        require([
            &quot;dojo/ready&quot;,
            &quot;dojo/dom&quot;,
            &quot;dojo/i18n!myApp/nls/myResources&quot;
        ], function(ready, dom, sampleStrings){
            ready(function() {
                dom.byId(&quot;myDiv&quot;).textContent = sampleStrings.greeting;
            })
        });
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;myDiv&quot;&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea></div><p>where the localized content is simply an Object with properties, defined according to a special convention that gives a default set of strings as well as references to various translations. The resource at the path myApp/nls/myResources.js might look something like this:</p>
<div class="highlight"><pre><span class="nx">define</span><span class="p">({</span>
  <span class="nx">root</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">greeting</span><span class="o">:</span> <span class="s2">&quot;Hello, world!&quot;</span>
  <span class="p">},</span>

  <span class="nx">de</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s1">&#39;de-at&#39;</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define({
  root: {
    greeting: &quot;Hello, world!&quot;
  },

  de: true,
  'de-at': true
});</textarea></div><p>Here, English is provided as the default language, the fallback if no other translation is available.  For German speaking users, on a page specifying &#8216;de&#8217; as the locale or some de- variant, the property &#8216;de: true&#8217; indicates that there is a translation available in a peer subdirectory called de, for a path of myApp/nls/de/myResources.js:</p>
<div class="highlight"><pre><span class="nx">define</span><span class="p">({</span>
  <span class="nx">greeting</span><span class="o">:</span> <span class="s2">&quot;Hallo, Welt!&quot;</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define({
  greeting: &quot;Hallo, Welt!&quot;
});</textarea></div><p>Continuing with the example, a variant may be provided for Austrian German at myApp/nls/de-at/myResources.js:</p>
<div class="highlight"><pre><span class="nx">define</span><span class="p">({</span>
  <span class="nx">greeting</span><span class="o">:</span> <span class="s2">&quot;Grüß Gott!&quot;</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define({
  greeting: &quot;Grüß Gott!&quot;
});</textarea></div><p>Many more translations may be provided by simply appending a boolean flag to the root resource and creating the corresponding module in the appropriate subdirectory.  The Dojo loader uses the conventions defined by the dojo/i18n! plugin to find the resource that is the best match for the user&#8217;s locale, mixing in variants with main languages and the &#8216;root&#8217; resources such that the fallback will be used if a more specific string is not found.  Therefore, multiple network requests may be involved to fetch a resource.   Dojo&#8217;s builder optimizes this search by collecting or flattening all of the resources by locale, as well as concatenating multiple resource bundles used by the application, just as it does for JavaScript code modules.  With or without the builder, the data is structured in such a way that only the translation for the particular locale in use is sent to the client.</p>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id4">See also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../../dojo/i18n.html#dojo-i18n"><span>dojo.i18n</span></a></li>
<li><a class="reference internal" href="../../dojo/config.html#dojo-config"><span>Language and Localization Settings in dojoConfig</span></a></li>
</ul>
</div>
</div>


      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-9 columns offset-3">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
        <div class="footer">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');

	</script>
</div>
    </div>
  </div>
  
  </body>
</html>