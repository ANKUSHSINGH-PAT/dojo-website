<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojox/app &mdash; Dojo Reference Guide 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css?1">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <meta name="viewport" content="width=device-width, minimum-scale=0.75, maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <script src="/scripts/dojo/dojo/dojo.js?1"></script>
    <script src="/scripts/dojo/docs/guide.js?1"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css?1">
    <script src="/scripts/nav.js?1"></script>

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo icon-dojo icon"></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="/download/" class="downloadLink">Get Dojo</a></li>
					<li><a href="/documentation" class="docsLink">Docs</a></li>
					<li><a href="/community" class="communityLink">Community</a></li>
					<li><a href="/community/roadmap/" class="roadmapLink">Roadmap</a></li>
					<li><a href="/blog/" class="blogLink">Blog</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <div class="subnav">
      <div class="row">
        <div class="medium-12 columns">
         <ul>
            <li><a href="../index.html">Startpage</a></li>
            <li><a href="../dojo/index.html">Dojo</a></li>
            <li><a href="../dijit/index.html">Dijit</a></li>
            <li><a href="index.html">DojoX</a></li>
          </ul>
        </div>
        <!-- <div class="medium-3 columns text-right">
           <div id="dtkVersion">
            <select id="refver" name="refver">
              <option value="1.6">Dojo 1.6</option>
              <option value="1.7">Dojo 1.7</option>
              <option value="1.8">Dojo 1.8</option>
              <option value="1.9">Dojo 1.9</option>
              <option value="1.10" selected="selected">Dojo 1.10</option>
            </select>
          </div>
        </div>-->
      </div>
    </div>
  <main class="refguide">
    <div class="row">
      <div class="medium-9 columns content">
          
  <div class="section" id="dojox-app">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojox/app</a><a class="headerlink" href="#dojox-app" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">since:</th><td class="field-body">V1.7</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojox-app" id="id2">dojox/app</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#creating-an-application" id="id4">Creating an Application</a></li>
<li><a class="reference internal" href="#building-an-application" id="id5">Building an Application</a></li>
<li><a class="reference internal" href="#the-configuration-file" id="id6">The Configuration File</a></li>
<li><a class="reference internal" href="#the-main-dojox-app-modules" id="id7">The main dojox/app modules</a></li>
<li><a class="reference internal" href="#comparison-with-dojox-mobile-app" id="id8">Comparison with <code class="docutils literal"><span class="pre">dojox/mobile/app</span></code></a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">dojox/app</span></code> is an application framework designed to simply configure through a configuration file an application formed of potentially nested views and to facilitate the transitioning between those views based. Its main current targets are mobile (phone &amp; tablet) devices but it is not restricted to this and can be used for desktop applications as well. Thanks to <code class="docutils literal"><span class="pre">dojox/app</span></code> the applications are easily configurable and buildable for easy and fast deployment.</p>
</div>
<div class="section" id="creating-an-application">
<h2><a class="toc-backref" href="#id4">Creating an Application</a><a class="headerlink" href="#creating-an-application" title="Permalink to this headline">¶</a></h2>
<p>As with any Dojo-based web application, it&#8217;s important to create your HTML page with a script tag referencing the Dojo
loader dojo. Once done you require the <code class="docutils literal"><span class="pre">dojox/app</span></code> main module and provide it with the application JSON configuration file as follows:</p>
<p>Upon loading the configuration, the views, stores and models described in the configuration are created and the application
lifecycle is started. The main difference with a traditional Dojo application is that the application structure is defined from the configuration file.</p>
<p>Here is an excerpt of a typical configuration file:</p>
<p>You can find the entire configuration file for this typical application <a class="reference external" href="https://github.com/cjolif/dojo-todo-app/blob/master/config.json">here</a></p>
<p>Once started the corresponding application looks like the following:</p>
<img alt="../_images/AppExample.png" src="../_images/AppExample.png" />
<p>See the todoApp example in Dojo demos installation directory for the full application, or you can find it on  <a class="reference external" href="https://github.com/cjolif/dojo-todo-app/">github</a></p>
</div>
<div class="section" id="building-an-application">
<h2><a class="toc-backref" href="#id5">Building an Application</a><a class="headerlink" href="#building-an-application" title="Permalink to this headline">¶</a></h2>
<p>Once you have created your configuration file and the application, you might want to build the application for production.
In order to help you build your application from the
configuration file <code class="docutils literal"><span class="pre">dojox/app</span></code> comes with extensions to the Dojo build system.</p>
<p>The first step is to create a simple Dojo build system profile that will contain the key
information of your build and import the <code class="docutils literal"><span class="pre">dojox/app</span></code> extensions into the build process as shown below (see require line in the profile):</p>
<p>You will then need to reference that profile as well as your configuration file when running the Dojo build tool. For example, from &lt;dojo-install&gt;/util/buildscript:</p>
<p>By default the extension uses the only layer in the profile (here &#8220;myApp/myApp&#8221;) to bundle all the modules for the
application. You can specify an alternate layer you want to target by passing -appConfigLayer=layer/name on the command line.</p>
<p>Alternatively, you can make sure a layer per-view is built instead of a single layer for the entire application by having the <cite>multipleAppConfigLayers</cite> property set to true in your profile. This is useful if you have a lot of views that won&#8217;t get navigated to in a typical usage of your application. In that case you might not want to load everything upfront. In this case the controller file of each view will be used as the layer for the view.</p>
<p><strong>Limitation</strong></p>
<p>This extension does not support the &#8221;./&#8221; shortcut notation to reference the modules in the config file and default
controller file. You have to explicitly list your controller file and use absolute module paths. You can very easily
do that by creating an &#8220;myApp&#8221; module that you should instead of &#8221;.&#8221; to reference your modules.</p>
</div>
<div class="section" id="the-configuration-file">
<h2><a class="toc-backref" href="#id6">The Configuration File</a><a class="headerlink" href="#the-configuration-file" title="Permalink to this headline">¶</a></h2>
<p>The configuration comes in the form of a JSON-like object of the following keys and property values:</p>
<div class="section" id="id">
<h3>id<a class="headerlink" href="#id" title="Permalink to this headline">¶</a></h3>
<p>String. Mandatory. The <code class="docutils literal"><span class="pre">dojox/app</span></code> application&#8217;s id. A global variable with id’s name is created by <code class="docutils literal"><span class="pre">dojox/app/main</span></code>.</p>
</div>
<div class="section" id="name">
<h3>name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h3>
<p>String. Optional. The <code class="docutils literal"><span class="pre">dojox/app</span></code> application&#8217;s name.</p>
</div>
<div class="section" id="description">
<h3>description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h3>
<p>String. Optional. The description of the <code class="docutils literal"><span class="pre">dojox/app</span></code> application</p>
</div>
<div class="section" id="loaderconfig">
<h3>loaderConfig<a class="headerlink" href="#loaderconfig" title="Permalink to this headline">¶</a></h3>
<p>Object.  Optional.  Dependencies, modules and controllers are loaded using the Dojo AMD loader. This parameter allows to configure the loader itself and specify for example where custom modules can be found. See <a class="reference external" href="http://livedocs.dojotoolkit.org/loader/amd#module-identifiers">http://livedocs.dojotoolkit.org/loader/amd#module-identifiers</a></p>
</div>
<div class="section" id="transit">
<h3>transit<a class="headerlink" href="#transit" title="Permalink to this headline">¶</a></h3>
<p>AMD module identifier.  Optional. By default dojox/app is using dojox/css3/transit module to perform transition animations. You can provide your own transition animation function by referencing it here:</p>
<p>The module should return a function with the following signature:</p>
<p>and should return a promise.</p>
</div>
<div class="section" id="dependencies">
<h3>dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<p>Array of AMD modules identifiers.  Optional. When defined at the top level dependencies of the <code class="docutils literal"><span class="pre">dojox/app</span></code> application, these app level dependencies could also be added to the define for the app or one of the &#8220;modules&#8221; which are mixed into the app. When defined at view level, dependencies for the view.</p>
<p>These are typically modules that are not required by the JavaScript module of the application or the view but that are still
needed by the application or the view. Examples are the store or MVC modules or the modules needed by the markup of the view.
If the application is using the full Dojo parser it does not necessarily need to list the markup dependencies as the parser
will auto-require them.</p>
</div>
<div class="section" id="modules">
<h3>modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h3>
<p>Array of AMD modules identifiers.  Optional. Modules for the application. Used as the mixins when declaring the Application class in <code class="docutils literal"><span class="pre">dojox/app/main</span></code>. They modify the top level behavior of the application, how it processes the config, or any other life cycle. The “<code class="docutils literal"><span class="pre">dojox/app/module/lifecycle</span></code>” is automatically mixed into the application you don’t have the explicitly include it.</p>
<p>They are automatically added to the list of dependencies and as such do not need to be listed in the dependencies property.</p>
</div>
<div class="section" id="controllers">
<h3>controllers<a class="headerlink" href="#controllers" title="Permalink to this headline">¶</a></h3>
<p>Array of AMD modules identifiers. Mandatory. Controllers for the application. All the controllers listed here will be loaded during application startup to respond to application events and controller the application logic. In the previous release the “<code class="docutils literal"><span class="pre">dojox/app/controllers/Load</span></code>”, “<code class="docutils literal"><span class="pre">dojox/app/controllers/Transition</span></code>” and “<code class="docutils literal"><span class="pre">dojox/app/controllers/Layout</span></code>” were automatically mixed into the application, that is no longer the case, with 1.9 you must have them listed to include them.</p>
<p>They are automatically added to the list of dependencies and as such do not need to be listed in the dependencies property.</p>
</div>
<div class="section" id="stores">
<h3>stores<a class="headerlink" href="#stores" title="Permalink to this headline">¶</a></h3>
<p>Object.  Optional. Dojo stores which are used by <code class="docutils literal"><span class="pre">dojox/app</span></code> to setup data models. A store item is an object with a a type and a params property. The type property is the AMD module identifier for the store class to be instantiated. The content of the params property is passed to the store class constructor to build an instance.  Setting &#8220;observable&#8221;: true on a store will have the store wrapped in a dojo/store/Observable, but in order to use dojo/store/Observable it must be included in the dependencies section.</p>
<p>All stores modules that are used must also be explicitly listed in the dependencies property.</p>
</div>
<div class="section" id="template">
<h3>template<a class="headerlink" href="#template" title="Permalink to this headline">¶</a></h3>
<p>String. Mandatory for default views. HTML file. When defined at application level defines the application root template. When defined at view level defined the view template.</p>
</div>
<div class="section" id="models">
<h3>models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h3>
<p>Object.  Optional. Models and their instantiation parameters. A model item is an object with three properties: the model type, the modelLoader and the params. The modelLoader property defines whether an MVC or a simple model must be loaded. The type property defines which class must be used for that model using an AMD module identifier and finally the params property content is passed to the model class constructor to build an instance.</p>
<p>All model modules that are used must also be explicitly listed in the dependencies property.</p>
</div>
<div class="section" id="defaultview">
<h3>defaultView<a class="headerlink" href="#defaultview" title="Permalink to this headline">¶</a></h3>
<p>String. Mandatory. The name of the view (or views) to load when the application is initialized.  Multiple views can be included in the DefaultView in the config, this allows multiple views to be displayed with different constraints (or regions) at the same time. It is also now possible to transition views in regions other than the center. To specify multiple views, the view names would listed separated by a &#8220;+&#8221;, for example: &#8220;view1+view2&#8221; or &#8220;view1,subviewA+view2&#8221;.</p>
</div>
<div class="section" id="defaulttransition">
<h3>defaultTransition<a class="headerlink" href="#defaulttransition" title="Permalink to this headline">¶</a></h3>
<p>String.  Optional. The default animation type for the view transition, the defaultTransition is only used if transition is not set in the config and it is not set or defaulted on the transitionEvent</p>
</div>
<div class="section" id="transition">
<h3>transition<a class="headerlink" href="#transition" title="Permalink to this headline">¶</a></h3>
<p>String.  Optional. The transition animation type to use for the view transition. If a transition is set on a view or parent it will override the transition set on the transitionEvent or the defaultTransition in the config.</p>
</div>
<div class="section" id="has">
<h3>has<a class="headerlink" href="#has" title="Permalink to this headline">¶</a></h3>
<p>Object.  Optional. The has sections are used to merge sections of config from the has sections into the final config based upon has tests.  The has sections will include a string which is used as a has test, if the has test for the string is true the section below that string will be merged into the config at the same level as the has section.  A &#8221;!&#8221; can be used to indicate that a section should be merged if the has test is false.  If the has section to be merged contains a property which already exists at that level of the config, the value from the has section will replace the value in the config, if the has section contains an array which also exists in the config at the same level as the has section the items from the array in the has section will be added to the array in the config.  As an example:</p>
</div>
<div class="section" id="views">
<h3>views<a class="headerlink" href="#views" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Object. Mandatory if there are  views. The child views of an application or of a view. Dependencies may be defined on views for optimization and organization purposes. Models might also be defined on views if they are view-specific. Finally a view item as five additional properties:</dt>
<dd><ul class="first last simple">
<li>&#8220;template&#8221; for defining the view rendering for views of type <code class="docutils literal"><span class="pre">dojox/app/View</span></code></li>
<li>&#8220;controller&#8221; to provide an AMD module to be mixed into the view as the view controller. In 1.9 the option to be able to load a default controller has been removed, the controller must be specified for a view in order to be loaded.  If the view does not have a controller module to load, it should not set a controller, as of 1.9 setting the controller to &#8220;none&#8221; is no longer supported.</li>
<li>&#8220;transition&#8221; for optional view-specific transitions</li>
<li>&#8220;nls&#8221; for optionally defining an internationalisation AMD root module for the view of type <code class="docutils literal"><span class="pre">dojox/app/View</span></code>. Per Dojo loader specifications the path to the module must contain &#8220;/nls/&#8221;. Once done the view template can use the ${nls.nlskey} notation instead of english text to automatically use the text translated in the right language.</li>
<li>&#8220;type&#8221; a reference to an AMD module defining an alternate view type extending <code class="docutils literal"><span class="pre">dojox/app/ViewBase</span></code>.</li>
</ul>
</dd>
</dl>
<p>AMD modules identifiers starting with “.” will be resolved relative to the application root. All other modules identifiers will be resolved according to the Dojo AMD loader rules and in particular with respect to its configuration provided as part of the loaderConfig attribute.</p>
<p>This configuration serves two purposes configuring the application within the client without having to do it by code
and help building the application for production.</p>
</div>
</div>
<div class="section" id="the-main-dojox-app-modules">
<h2><a class="toc-backref" href="#id7">The main dojox/app modules</a><a class="headerlink" href="#the-main-dojox-app-modules" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">dojox/app</span></code> is built around the following focused core modules that can be used in the configuration file:</p>
<p><a class="reference internal" href="app/main.html#dojox-app-main"><span>dojox/app/main</span></a> is used to create a <code class="docutils literal"><span class="pre">dojox/app</span></code> Application object from the JSON configuration. The main responsibilities of <code class="docutils literal"><span class="pre">dojox/app/main</span></code> include loading the various controllers &amp; data stores as well as managing the application lifecycle.</p>
<p><a class="reference internal" href="app/View.html#dojox-app-view"><span>dojox/app/View</span></a> provides a view object in charge of the view rendering and lifecycle. It contains a template string which will be rendered.  A view can itself have nested View objects.</p>
<p><a class="reference internal" href="app/Controller.html#dojox-app-controller"><span>dojox/app/Controller</span></a> a base class for the various application controllers:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">dojox/app/controllers/Layout</span></code> a controller that performs nested view layout</li>
<li><code class="docutils literal"><span class="pre">dojox/app/controllers/Load</span></code> a controller that loads the view templates and view controller modules</li>
<li><code class="docutils literal"><span class="pre">dojox/app/controllers/History</span></code> a controller that maintains application history using HTM5 history API. This will not work on platforms that don’t support it like IE, Android 3 &amp; 4, iOS 4.</li>
<li><code class="docutils literal"><span class="pre">dojox/app/controllers/HistoryHash</span></code> an alternate  controller that maintains application history using URL hash. It works on all browsers but has limitations with regard to browser refresh and going back to an URL out of application’s history stack.</li>
</ul>
<p><a class="reference internal" href="app/module.html#dojox-app-module"><span>dojox/app/module</span></a> a package containing various modules than can be used in the configuration file to be mixed into the Application object.</p>
<p>The following diagram represents the high level architecture of <code class="docutils literal"><span class="pre">dojox/app</span></code> and in particular how the modules listed
above interacts each others:</p>
<img alt="../_images/AppDiagram.png" src="../_images/AppDiagram.png" />
</div>
<div class="section" id="comparison-with-dojox-mobile-app">
<h2><a class="toc-backref" href="#id8">Comparison with <code class="docutils literal"><span class="pre">dojox/mobile/app</span></code></a><a class="headerlink" href="#comparison-with-dojox-mobile-app" title="Permalink to this headline">¶</a></h2>
<p>First please note that <code class="docutils literal"><span class="pre">dojox/mobile/app</span></code> has been deprecated in favor of <code class="docutils literal"><span class="pre">dojox/app</span></code>, so you are fully encouraged to use <code class="docutils literal"><span class="pre">dojox/app</span></code>.</p>
<p>The main differences between <code class="docutils literal"><span class="pre">dojox/app</span></code> and <code class="docutils literal"><span class="pre">dojox/mobile/app</span></code> are the following:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">dojox/app</span></code> enables the model binding</li>
<li><code class="docutils literal"><span class="pre">dojox/app</span></code> uses view structure to enable the nested views using a composite design pattern. <code class="docutils literal"><span class="pre">dojox/mobile/app</span></code> will require additional code for that.</li>
<li><code class="docutils literal"><span class="pre">dojox/app</span></code> contains the layout mechanism to ensure the content at different application/view level work well together</li>
<li><code class="docutils literal"><span class="pre">dojox/mobile/app</span></code> manages the navigation history in StageController by using a history stack. Dojox/app provides both HTML5 pushState &amp; history stack for  managing the navigation history.</li>
</ul>
</div>
</div>


      </div>
      <div class="medium-3 columns">
        <div id="toc">
            <h3>Table of Contents</h3>
            <div class="tocList"><ul>
<li><a class="reference internal" href="#">dojox/app</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#creating-an-application">Creating an Application</a></li>
<li><a class="reference internal" href="#building-an-application">Building an Application</a></li>
<li><a class="reference internal" href="#the-configuration-file">The Configuration File</a><ul>
<li><a class="reference internal" href="#id">id</a></li>
<li><a class="reference internal" href="#name">name</a></li>
<li><a class="reference internal" href="#description">description</a></li>
<li><a class="reference internal" href="#loaderconfig">loaderConfig</a></li>
<li><a class="reference internal" href="#transit">transit</a></li>
<li><a class="reference internal" href="#dependencies">dependencies</a></li>
<li><a class="reference internal" href="#modules">modules</a></li>
<li><a class="reference internal" href="#controllers">controllers</a></li>
<li><a class="reference internal" href="#stores">stores</a></li>
<li><a class="reference internal" href="#template">template</a></li>
<li><a class="reference internal" href="#models">models</a></li>
<li><a class="reference internal" href="#defaultview">defaultView</a></li>
<li><a class="reference internal" href="#defaulttransition">defaultTransition</a></li>
<li><a class="reference internal" href="#transition">transition</a></li>
<li><a class="reference internal" href="#has">has</a></li>
<li><a class="reference internal" href="#views">views</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-main-dojox-app-modules">The main dojox/app modules</a></li>
<li><a class="reference internal" href="#comparison-with-dojox-mobile-app">Comparison with <code class="docutils literal"><span class="pre">dojox/mobile/app</span></code></a></li>
</ul>
</li>
</ul>
</div>
          </div>
      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-12 columns feedback">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
    </div>
  </div>
  <div class="row full footer">
	<div class="content">
		<div class="medium-6 columns copyright">
			<span>&copy; <a href="http://dojofoundation.org">The Dojo Foundation</a>, All Rights Reserved. <a href="https://raw.githubusercontent.com/dojo/dojo/master/LICENSE" class="license">License Information</a></span>
		</div>
		<div class="medium-6 columns info">
			<span>Internet Application Management Provided By <a href="http://www.reliam.com/">Reliam, Inc.</a></span>
		</div>
	</div>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');
	</script>
</div>
  
  </body>
</html>