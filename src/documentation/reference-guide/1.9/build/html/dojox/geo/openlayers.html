<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojox.geo.openlayers &mdash; Dojo Reference Guide 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css?1">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <meta name="viewport" content="width=device-width, minimum-scale=0.75, maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <script src="/scripts/dojo/dojo/dojo.js?1"></script>
    <script src="/scripts/dojo/docs/guide.js?1"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css?1">
    <script src="/scripts/nav.js?1"></script>

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo icon-dojo icon"></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="/download/" class="downloadLink">Get Dojo</a></li>
					<li><a href="/documentation" class="docsLink">Docs</a></li>
					<li><a href="/community" class="communityLink">Community</a></li>
					<li><a href="/community/roadmap/" class="roadmapLink">Roadmap</a></li>
					<li><a href="/blog/" class="blogLink">Blog</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <div class="subnav">
      <div class="row">
        <div class="medium-12 columns">
         <ul>
            <li><a href="../../index.html">Startpage</a></li>
            <li><a href="../../dojo/index.html">Dojo</a></li>
            <li><a href="../../dijit/index.html">Dijit</a></li>
            <li><a href="../index.html">DojoX</a></li>
          </ul>
        </div>
        <!-- <div class="medium-3 columns text-right">
           <div id="dtkVersion">
            <select id="refver" name="refver">
              <option value="1.6">Dojo 1.6</option>
              <option value="1.7">Dojo 1.7</option>
              <option value="1.8">Dojo 1.8</option>
              <option value="1.9">Dojo 1.9</option>
              <option value="1.10" selected="selected">Dojo 1.10</option>
            </select>
          </div>
        </div>-->
      </div>
    </div>
  <main class="refguide">
    <div class="row">
      <div class="medium-9 columns content">
          
  <div class="section" id="dojox-geo-openlayers">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojox.geo.openlayers</a><a class="headerlink" href="#dojox-geo-openlayers" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Project owner:</th><td class="field-body">Chris Mitchell</td>
</tr>
<tr class="field-even field"><th class="field-name">Author:</th><td class="field-body">Marc Durocher</td>
</tr>
<tr class="field-odd field"><th class="field-name">since:</th><td class="field-body">V.1.7</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojox-geo-openlayers" id="id2">dojox.geo.openlayers</a><ul>
<li><a class="reference internal" href="#overview" id="id3">Overview</a></li>
<li><a class="reference internal" href="#instantiate-an-openlayers-map-component" id="id4">Instantiate an OpenLayers Map component</a><ul>
<li><a class="reference internal" href="#changing-the-base-layer-type" id="id5">Changing the base layer type</a></li>
<li><a class="reference internal" href="#specifying-the-displayed-part-of-the-map" id="id6">Specifying the displayed part of the map</a></li>
</ul>
</li>
<li><a class="reference internal" href="#positioning-shapes-on-the-map" id="id7">Positioning shapes on the map</a></li>
<li><a class="reference internal" href="#positioning-widgets-on-the-map" id="id8">Positioning widgets on the map</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id3">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Dojo&#8217;s dojox.geo.openlayers module provides a mapping component based on the OpenLayers (<a class="reference external" href="http://www.openlayers.org">http://www.openlayers.org</a>) library. This component is mainly a wrapper of the OpenLayers library with additional features such as displaying geo-referenced GFX shape and placing geo-referenced widgets on a background map. Two components are available : a div based component and a widget based component so you can either create a map in a programmatic way or use markup to insert a map in a web page.</p>
<p>This Map component is intended to display a background map with graphical GFX or widget overlay. The background map can come from various online map providers such as OpenStreetMap, Google Maps of ESRI Maps. Note that you may have to include specific map provider javascript library in order to have access to the corresponding mapping service.</p>
<p>In any cases, you will have to include the OpenLayers library in order to use the dojox.geo.openlayers module.</p>
</div>
<div class="section" id="instantiate-an-openlayers-map-component">
<h2><a class="toc-backref" href="#id4">Instantiate an OpenLayers Map component</a><a class="headerlink" href="#instantiate-an-openlayers-map-component" title="Permalink to this headline">¶</a></h2>
<p>You can either instantiate a OpenLayers Map component in a programmatic way or using a markup definition. In both cases, you will need to import the OpenLayers library. This library is available at the openlayers.org site and you can include it in your page with the following script tag :</p>
<p>Here are some examples of how to create a basic OpenLayers Map component :</p>
<p>Programmatic way of creating a Map component:</p>
<p>Creating a Map using markup declaration:</p>
<div class="section" id="changing-the-base-layer-type">
<h3><a class="toc-backref" href="#id5">Changing the base layer type</a><a class="headerlink" href="#changing-the-base-layer-type" title="Permalink to this headline">¶</a></h3>
<p>When creating a map, a background base layer is automatically created. The default base layer type is an OpenSreetMap layer whose type is dojox.geo.openlayers.baseLayerType.OSM. It shows the background map by connecting to the OpenStreeMap server.
You can change the base layer type to access another map provider by calling setBaseLayerType or by setting the baseLayerType attribute on the widget&#8217;s markup.</p>
<p>Available base layer types are :</p>
<blockquote>
<div><ul class="simple">
<li>dojox.geo.openlayers.BaseLayerType.OSM:           The Open Street Map base layer type selector.</li>
<li>dojox.geo.openlayers.BaseLayerType.WMS:           The Web Map Server base layer type selector.</li>
<li>dojox.geo.openlayers.BaseLayerType.GOOGLE:        The Google base layer type selector.</li>
<li>dojox.geo.openlayers.BaseLayerType.VIRTUAL_EARTH: The Virtual Earth base layer type selector.</li>
<li>dojox.geo.openlayers.BaseLayerType.BING :         Same as Virtual Earth</li>
<li>dojox.geo.openlayers.BaseLayerType.YAHOO:         The Yahoo Maps base layer type selector.</li>
<li>dojox.geo.openlayers.BaseLayerType.ARCGIS:        The ESRI ARCGis base layer selector.</li>
</ul>
</div></blockquote>
<p>Note that if you attempt to access a mapping provider like Google Maps or Yahoo Maps, you will have to include the specific mapping provider API in your application.</p>
<p>Here are the JavaScript API needed to access specific map provider :</p>
<blockquote>
<div><ul class="simple">
<li>Google API:</li>
<li>Microsoft Virtual Hearth:</li>
<li>Yahoo Maps:</li>
</ul>
</div></blockquote>
<p>Some examples of how to set/change the base layer type:</p>
</div>
<div class="section" id="specifying-the-displayed-part-of-the-map">
<h3><a class="toc-backref" href="#id6">Specifying the displayed part of the map</a><a class="headerlink" href="#specifying-the-displayed-part-of-the-map" title="Permalink to this headline">¶</a></h3>
<p>You can define the initial location and extent of map that is displayed by using the fitTo method of the map. This method can take several type of arguments such as extent to be displayed or the initial location.
You can also define the initial location as markup attribute if you use the markup widget version of the map component.
Initial location ca be in the form of :</p>
<p>The map is fit on the specified bounds expressed as decimal degrees latitude and longitude. The bounds are defined with their upper left and lower right corners coordinates.</p>
<p>The map is fit on the specified position showing the extent &lt;extent&gt; around the specified center position.</p>
<p>Programmatic version:</p>
<p>Markup version:</p>
</div>
</div>
<div class="section" id="positioning-shapes-on-the-map">
<h2><a class="toc-backref" href="#id7">Positioning shapes on the map</a><a class="headerlink" href="#positioning-shapes-on-the-map" title="Permalink to this headline">¶</a></h2>
<p>The OpenLayers mapping component allows to position GFX shapes on the map at specified locations. The location of the shape is specified as longitude and latitude coordinates. To place such a shape on the map, you will need to insert a dedicated dojox.geo.openlayer.GfxLayer layer in the map and add dojox.geo.openlayers.GeometryFeature s to it. The GeometryFeature class defines the position and the type of shape to display.</p>
<p>The following code shows how to display a point at the New York location. A circle is displayed as it is the default GFX shape to be displayed for a Point geometry.</p>
<p>You can also place polylines on the map. In this case, you will need to create a dojox.geo.openlayers.LineString geometry so that the points defining the polyline are geo-referenced. The following example shows how to create a polyline joining some major towns of the world.</p>
<p>You can also place combination of geometries using a dojox.geo.openlayers.Collection geometry which can hold any combination of existing geometries. Here is an example that shows how to use this collection geometry:</p>
<p>You also might want to display a specific shape on the map. For that, you can redefine the <cite>createShape</cite> function of the GeometryFeature and create the shape you want. This methods takes the dojox.gfx.Surface as parameter that can be used to create the shape.</p>
<p>Example that shows a star at Paris location:</p>
<p>The styling of the GFX shapes is done through the setFill and setStroke methods of the GeometryFeature class. These fill and stroke parameters are simply passed to the shape at display time and depend on the kind of shape displayed.</p>
<p>The shape can also be configured a with the setShapeProperties method. These properties are passed to the GFX shape object via the setShape method of the GFX shape so the two following code segments are equivalent.</p>
</div>
<div class="section" id="positioning-widgets-on-the-map">
<h2><a class="toc-backref" href="#id8">Positioning widgets on the map</a><a class="headerlink" href="#positioning-widgets-on-the-map" title="Permalink to this headline">¶</a></h2>
<p>The OpenLayers Map component allows to position dijit widgets on the map. To do that, the widget must be described with a dojox.geo.openlayers.WidgetFeature class. The descriptor of the widget includes the creation method of the widget and the coordinates at which the widget should be positioned. Once created with the widget descriptor, the WidgetFeature has to be added in a layer to be displayed.</p>
<p>The descriptor passed to the Widget feature is an object containing the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>createWidget: Function for widget creation. Must return a <cite>dijit._Widget</cite>.</li>
<li>data-dojo-type: The class of a widget to create;</li>
<li>dijitId: The digitId of an existing widget.</li>
<li>widget: An already created widget.</li>
<li>width: The width of the widget.</li>
<li>height: The height of the widget.</li>
<li>longitude: The longitude, in decimal degrees where to place the widget.</li>
<li>latitude: The latitude, in decimal degrees where to place the widget.</li>
</ul>
</div></blockquote>
<p>Here is an example that shows a pie chart at New York location:</p>
</div>
</div>


      </div>
      <div class="medium-3 columns">
        <div id="toc">
            <h3>Table of Contents</h3>
            <div class="tocList"><ul>
<li><a class="reference internal" href="#">dojox.geo.openlayers</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#instantiate-an-openlayers-map-component">Instantiate an OpenLayers Map component</a><ul>
<li><a class="reference internal" href="#changing-the-base-layer-type">Changing the base layer type</a></li>
<li><a class="reference internal" href="#specifying-the-displayed-part-of-the-map">Specifying the displayed part of the map</a></li>
</ul>
</li>
<li><a class="reference internal" href="#positioning-shapes-on-the-map">Positioning shapes on the map</a></li>
<li><a class="reference internal" href="#positioning-widgets-on-the-map">Positioning widgets on the map</a></li>
</ul>
</li>
</ul>
</div>
          </div>
      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-12 columns feedback">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
    </div>
  </div>
  <div class="row full footer">
	<div class="content">
		<div class="medium-6 columns copyright">
			<span>&copy; <a href="http://dojofoundation.org">The Dojo Foundation</a>, All Rights Reserved. <a href="https://raw.githubusercontent.com/dojo/dojo/master/LICENSE" class="license">License Information</a></span>
		</div>
		<div class="medium-6 columns info">
			<span>Internet Application Management Provided By <a href="http://www.reliam.com/">Reliam, Inc.</a></span>
		</div>
	</div>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');
	</script>
</div>
  
  </body>
</html>