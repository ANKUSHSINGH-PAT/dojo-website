<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Dojo Mobile Bi-directional Languages Support (Bidi) &mdash; Dojo Reference Guide 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css?1">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <meta name="viewport" content="width=device-width, minimum-scale=0.75, maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <script src="/scripts/dojo/dojo/dojo.js?1"></script>
    <script src="/scripts/dojo/docs/guide.js?1"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css?1">
    <script src="/scripts/nav.js?1"></script>

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo icon-dojo icon"></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="/download/" class="downloadLink">Get Dojo</a></li>
					<li><a href="/documentation" class="docsLink">Docs</a></li>
					<li><a href="/community" class="communityLink">Community</a></li>
					<li><a href="/community/roadmap/" class="roadmapLink">Roadmap</a></li>
					<li><a href="/blog/" class="blogLink">Blog</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <div class="subnav">
      <div class="row">
        <div class="medium-12 columns">
         <ul>
            <li><a href="../../index.html">Startpage</a></li>
            <li><a href="../../dojo/index.html">Dojo</a></li>
            <li><a href="../../dijit/index.html">Dijit</a></li>
            <li><a href="../index.html">DojoX</a></li>
          </ul>
        </div>
        <!-- <div class="medium-3 columns text-right">
           <div id="dtkVersion">
            <select id="refver" name="refver">
              <option value="1.6">Dojo 1.6</option>
              <option value="1.7">Dojo 1.7</option>
              <option value="1.8">Dojo 1.8</option>
              <option value="1.9">Dojo 1.9</option>
              <option value="1.10" selected="selected">Dojo 1.10</option>
            </select>
          </div>
        </div>-->
      </div>
    </div>
  <main class="refguide">
    <div class="row">
      <div class="medium-9 columns content">
          
  <div class="section" id="dojo-mobile-bi-directional-languages-support-bidi">
<span id="dojox-mobile-bidi"></span><h1><a class="toc-backref" href="#id2">Dojo Mobile Bi-directional Languages Support (Bidi)</a><a class="headerlink" href="#dojo-mobile-bi-directional-languages-support-bidi" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Ramy Said, Tomer Mahlin</td>
</tr>
<tr class="field-even field"><th class="field-name">Developers:</th><td class="field-body">Alex Shensis, Alia Naguib, Ahmed Mustafa, Helena Halperin, Semion Chichelnitsky</td>
</tr>
<tr class="field-odd field"><th class="field-name">since:</th><td class="field-body">V1.9</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojo-mobile-bi-directional-languages-support-bidi" id="id2">Dojo Mobile Bi-directional Languages Support (Bidi)</a><ul>
<li><a class="reference internal" href="#what-are-bi-directional-languages" id="id3">What Are Bi-Directional Languages?</a></li>
<li><a class="reference internal" href="#user-interfaces-for-bidi-users" id="id4">User Interfaces for Bidi Users</a></li>
<li><a class="reference internal" href="#bidi-support-in-dojo-mobile" id="id5">Bidi Support in Dojo Mobile</a></li>
<li><a class="reference internal" href="#mirroring-support" id="id6">Mirroring Support</a></li>
<li><a class="reference internal" href="#bi-directional-text-support" id="id7">Bi-directional Text Support</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="what-are-bi-directional-languages">
<h2><a class="toc-backref" href="#id3">What Are Bi-Directional Languages?</a><a class="headerlink" href="#what-are-bi-directional-languages" title="Permalink to this headline">¶</a></h2>
<p>Bi-Directional, or Bidi for short, languages refers to languages that are essentially written and read from right-to-left.
These languages include Arabic, Persian (Farsi), Azerbaijani, Urdu, Punjabi (in Pakistan), Pushto, Dari, Uigur, Hebrew, and Yiddish.
While these languages follow the right-to-left direction, they may include numbers or text written in Western languages that follows the left-to-right direction.
This demographic of users has a preference of right-to-left directionality.
Hence, everything has to be from right-to-left to follow the natural direction of their languages.
This includes also the interface of applications.</p>
</div>
<div class="section" id="user-interfaces-for-bidi-users">
<h2><a class="toc-backref" href="#id4">User Interfaces for Bidi Users</a><a class="headerlink" href="#user-interfaces-for-bidi-users" title="Permalink to this headline">¶</a></h2>
<p>The flow of components on the screen is directly affected by the natural direction of languages being used.
Thus, for Left-to-Right languages, LTR, the components are generally aligned to the left.
On the other hand, for Right-to-Left languages, RTL, the components are  right aligned.
This change in the layout of components according to the language direction is called &#8220;mirroring&#8221;.</p>
<p>The other aspect of bidi languages support in user interfaces is how text is displayed. Some parts of the text must be displayed
right-to-left, and other parts must be displayed left-to-right.</p>
<p>The following figures show how an application containing an EdgeToEdgeList will look like for both bidi and non-bidi users.</p>
<p>Left-to-right EdgeToEdgeList:</p>
<img alt="../../_images/bidi_EdgeToEdgeList_LTR.png" src="../../_images/bidi_EdgeToEdgeList_LTR.png" />
<p>Right-to-left EdgeToEdgeList:</p>
<img alt="../../_images/bidi_EdgeToEdgeList_RTL.png" src="../../_images/bidi_EdgeToEdgeList_RTL.png" />
</div>
<div class="section" id="bidi-support-in-dojo-mobile">
<h2><a class="toc-backref" href="#id5">Bidi Support in Dojo Mobile</a><a class="headerlink" href="#bidi-support-in-dojo-mobile" title="Permalink to this headline">¶</a></h2>
<p>Dojo (and in particular Dojo Mobile since version 1.9) provides support for bidi languages.
Since code footprint is a concern for web applications, bidi support is optional, and applications that need bidi support
must specify it explicitly by setting the <code class="docutils literal"><span class="pre">dojo-bidi</span></code> feature flag to true.</p>
<p>The code snippet below shows how to enable the bidi support.</p>
<p>Once bidi support is enabled, mirroring can be controlled using the <code class="docutils literal"><span class="pre">dir</span></code> attribute of Dojo widgets, as explained in the next section.</p>
<p>Bidi applications can also control how bi-directional text is displayed using the <code class="docutils literal"><span class="pre">textDir</span></code> attribute,
as explained in the &#8220;Bi-directional Text Support&#8221; section.</p>
</div>
<div class="section" id="mirroring-support">
<h2><a class="toc-backref" href="#id6">Mirroring Support</a><a class="headerlink" href="#mirroring-support" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-dir-attribute">
<h3>The <code class="docutils literal"><span class="pre">dir</span></code> attribute<a class="headerlink" href="#the-dir-attribute" title="Permalink to this headline">¶</a></h3>
<p>In order to set the direction of the components in a web page, simply add the <code class="docutils literal"><span class="pre">dir</span></code> attribute in the tag and set it to either <code class="docutils literal"><span class="pre">rtl</span></code> or <code class="docutils literal"><span class="pre">ltr</span></code>.
This usually solves the alignment of the component.</p>
<p>When it comes to mobile applications, the same approach is followed beside enabling the bidi support.
Dojo Mobile widgets support mirroring, widgets that need special handling for mirroring have a separate style sheet with the name <code class="docutils literal"><span class="pre">&lt;widgetName&gt;_rtl.css</span></code>.
This style sheet contains all the required styles to enable widget mirroring.
The code snippets below show how to load the required rtl style sheet manually or automatically.</p>
<p>Loading the RTL style sheets manually (using link tags):</p>
<p>Loading the RTL style sheets automatically using the <code class="docutils literal"><span class="pre">deviceTheme</span></code> module:</p>
<p>The <code class="docutils literal"><span class="pre">deviceTheme</span></code> module will automatically load the <code class="docutils literal"><span class="pre">_rtl.css</span></code> files for each widget.</p>
<p>And finally set the <code class="docutils literal"><span class="pre">dir</span></code> attribute of the widget  to rtl:</p>
<img alt="../../_images/bidi_mirrored.png" src="../../_images/bidi_mirrored.png" />
</div>
<div class="section" id="setting-the-dir-attribute-at-different-levels">
<h3>Setting the <code class="docutils literal"><span class="pre">dir</span></code> Attribute at Different Levels<a class="headerlink" href="#setting-the-dir-attribute-at-different-levels" title="Permalink to this headline">¶</a></h3>
<p>The default direction for the widget is LTR. However the direction of the widget can be specified explicitly on several levels:</p>
<ul class="simple">
<li>Widget Level</li>
<li>Body Level</li>
<li>Inheritance</li>
</ul>
</div>
<div class="section" id="widget-level">
<h3>Widget Level<a class="headerlink" href="#widget-level" title="Permalink to this headline">¶</a></h3>
<p>By adding the <code class="docutils literal"><span class="pre">dir</span></code> attribute in the widget tag itself, we specify the direction of the widget directly. This has the highest precedence in mirroring. The following code snippet sets the direction of the first list item to rtl. The figure shows the output of the RTL list item.</p>
<img alt="../../_images/bidi_widget_level.png" src="../../_images/bidi_widget_level.png" />
</div>
<div class="section" id="body-level">
<h3>Body Level<a class="headerlink" href="#body-level" title="Permalink to this headline">¶</a></h3>
<p>This level of directionality is achieved by adding the <code class="docutils literal"><span class="pre">dir</span></code> attribute to the Body tag. Everything included in the body tag will have the same direction as the body unless another <code class="docutils literal"><span class="pre">dir</span></code> is specified to a certain widget.</p>
</div>
<div class="section" id="inheritance">
<h3>Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline">¶</a></h3>
<p>If the direction is not specified on the widget level, then widgets inherit the direction from their ancestors in the tree.</p>
<ul class="simple">
<li><strong>Note</strong> To enable inheritance of the <code class="docutils literal"><span class="pre">dir</span></code> attribute, the <code class="docutils literal"><span class="pre">dojo/parser</span></code> module must be used instead of <code class="docutils literal"><span class="pre">dojox/mobile/parser</span></code> as in the code snippet below.</li>
</ul>
<img alt="../../_images/bidi_inheritance.png" src="../../_images/bidi_inheritance.png" />
</div>
</div>
<div class="section" id="bi-directional-text-support">
<h2><a class="toc-backref" href="#id7">Bi-directional Text Support</a><a class="headerlink" href="#bi-directional-text-support" title="Permalink to this headline">¶</a></h2>
<div class="section" id="background">
<h3>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h3>
<p>Base text direction is a very important aspect associated with the display of Bidi text. It greatly affects the readability of Bidi text. When text is displayed with not natural to it base text direction it becomes unreadable to a very considerable extent.</p>
<p>The Unicode Bidirectional Algorithm, which is commonly used for preparation of Bidi text for display, is not capable to reliably identify the natural base text direction for a given text. Only a human reader can unfailingly recognize the natural base text direction for a given text.</p>
<p>Support for enforcing the base text direction is provided out of the box by most platforms / technologies, but very often the default settings do not guarantee proper display of English and Arabic (or English and Hebrew) text in the same application.</p>
<p>Dojo provides necessary means (textDir attribute) to enforce the base text direction. Those should be explicitly leveraged by the application in order to ensure proper display of English and Arabic (or English and Hebrew) text on the same screen.</p>
</div>
<div class="section" id="the-textddir-attribute">
<h3>The <code class="docutils literal"><span class="pre">textDdir</span></code> attribute<a class="headerlink" href="#the-textddir-attribute" title="Permalink to this headline">¶</a></h3>
<p>Control over text direction for text which appears on the screen as part of the widget is provided via textDir attribute.For example:</p>
<p>textDir controls only direction of text displayed inside widget. It does not affect the graphics of the widget.
For widgets which don&#8217;t display any text it has no effect.
Control over text direction (via textDir) is provided independently from control over GUI direction (via dir). For example you can set dir and textDir to different values as shown on the example below:</p>
</div>
<div class="section" id="possible-values">
<h3>Possible values<a class="headerlink" href="#possible-values" title="Permalink to this headline">¶</a></h3>
<p>textDir can receive the same range of values defined for dir attribute in HTML5. Namely:</p>
<ul class="simple">
<li>ltr</li>
<li>rtl</li>
<li>auto</li>
</ul>
</div>
<div class="section" id="dynamic-change">
<h3>Dynamic change<a class="headerlink" href="#dynamic-change" title="Permalink to this headline">¶</a></h3>
<p>Similarly to dir attribute, textDir supports dynamic change. Display of text changes accordingly when value of textDir is set programmatically.</p>
</div>
<div class="section" id="id1">
<h3>Inheritance<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>As opposed to dir attribute textDir is neither inherited nor propagated.  This is because textDir is supposed to be used for controlling base text direction of end user text. This type of text usually appears in very well defined contexts. The same composite widget  (i.e. dialog) can show both end user text and translated text. Widget by itself can&#8217;t distinguish between those types of text and thus can&#8217;t decide to which portions of text apply textDir. This is why it is in responsibility of programmer to explicitly provide a value to textDir attribute for only those widgets which show end user text.</p>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>First example illustrates usage of textDir attribute to enforce different base text direction values to different instances of EdgeToEdgeList widget.</p>
<p>Notice that the upper list with caption &#8220;RTL RoundRectCategory!&#8221; has textDir set to &#8220;rtl&#8221; while bottom list with caption  &#8220;LTRL RoundRectCategory!&#8221;  has textDir set to &#8220;ltr&#8221;.</p>
<p>Image below illustrates how this example looks like on Google Nexus 7 tablet:</p>
<img alt="../../_images/textDirAndroid.png" src="../../_images/textDirAndroid.png" />
<p>Second example illustrates selective assignment of textDir attribute for different widgets which are part of a composite widget - dialog.</p>
<p>Please note that textDir for first input field is set to &#8220;ltr&#8221; while for other widgets it is set to &#8220;rtl&#8221;.</p>
<p>Image below illustrates the result on iPad 2</p>
<img alt="../../_images/bidi_textDiriOS.png" src="../../_images/bidi_textDiriOS.png" />
</div>
</div>
</div>


      </div>
      <div class="medium-3 columns">
        <div id="toc">
            <h3>Table of Contents</h3>
            <div class="tocList"><ul>
<li><a class="reference internal" href="#">Dojo Mobile Bi-directional Languages Support (Bidi)</a><ul>
<li><a class="reference internal" href="#what-are-bi-directional-languages">What Are Bi-Directional Languages?</a></li>
<li><a class="reference internal" href="#user-interfaces-for-bidi-users">User Interfaces for Bidi Users</a></li>
<li><a class="reference internal" href="#bidi-support-in-dojo-mobile">Bidi Support in Dojo Mobile</a></li>
<li><a class="reference internal" href="#mirroring-support">Mirroring Support</a><ul>
<li><a class="reference internal" href="#the-dir-attribute">The <code class="docutils literal"><span class="pre">dir</span></code> attribute</a></li>
<li><a class="reference internal" href="#setting-the-dir-attribute-at-different-levels">Setting the <code class="docutils literal"><span class="pre">dir</span></code> Attribute at Different Levels</a></li>
<li><a class="reference internal" href="#widget-level">Widget Level</a></li>
<li><a class="reference internal" href="#body-level">Body Level</a></li>
<li><a class="reference internal" href="#inheritance">Inheritance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bi-directional-text-support">Bi-directional Text Support</a><ul>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#the-textddir-attribute">The <code class="docutils literal"><span class="pre">textDdir</span></code> attribute</a></li>
<li><a class="reference internal" href="#possible-values">Possible values</a></li>
<li><a class="reference internal" href="#dynamic-change">Dynamic change</a></li>
<li><a class="reference internal" href="#id1">Inheritance</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
          </div>
      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-12 columns feedback">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
    </div>
  </div>
  <div class="row full footer">
	<div class="content">
		<div class="medium-6 columns copyright">
			<span>&copy; <a href="http://dojofoundation.org">The Dojo Foundation</a>, All Rights Reserved. <a href="https://raw.githubusercontent.com/dojo/dojo/master/LICENSE" class="license">License Information</a></span>
		</div>
		<div class="medium-6 columns info">
			<span>Internet Application Management Provided By <a href="http://www.reliam.com/">Reliam, Inc.</a></span>
		</div>
	</div>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');
	</script>
</div>
  
  </body>
</html>