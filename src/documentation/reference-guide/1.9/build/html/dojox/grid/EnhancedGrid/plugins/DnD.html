<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojox.grid.EnhancedGrid.plugins.DnD &mdash; Dojo Reference Guide 1 documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css?1">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <meta name="viewport" content="width=device-width, minimum-scale=0.75, maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <script src="/scripts/dojo/dojo/dojo.js?1"></script>
    <script src="/scripts/dojo/docs/guide.js?1"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css?1">
    <script src="/scripts/nav.js?1"></script>

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo icon-dojo icon"></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="/download/" class="downloadLink">Get Dojo</a></li>
					<li><a href="/documentation" class="docsLink">Docs</a></li>
					<li><a href="/community" class="communityLink">Community</a></li>
					<li><a href="/community/roadmap/" class="roadmapLink">Roadmap</a></li>
					<li><a href="/blog/" class="blogLink">Blog</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <div class="subnav">
      <div class="row">
        <div class="medium-12 columns">
         <ul>
            <li><a href="../../../../index.html">Startpage</a></li>
            <li><a href="../../../../dojo/index.html">Dojo</a></li>
            <li><a href="../../../../dijit/index.html">Dijit</a></li>
            <li><a href="../../../index.html">DojoX</a></li>
          </ul>
        </div>
        <!-- <div class="medium-3 columns text-right">
           <div id="dtkVersion">
            <select id="refver" name="refver">
              <option value="1.6">Dojo 1.6</option>
              <option value="1.7">Dojo 1.7</option>
              <option value="1.8">Dojo 1.8</option>
              <option value="1.9">Dojo 1.9</option>
              <option value="1.10" selected="selected">Dojo 1.10</option>
            </select>
          </div>
        </div>-->
      </div>
    </div>
  <main class="refguide">
    <div class="row">
      <div class="medium-9 columns content">
          
  <div class="section" id="dojox-grid-enhancedgrid-plugins-dnd">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojox.grid.EnhancedGrid.plugins.DnD</a><a class="headerlink" href="#dojox-grid-enhancedgrid-plugins-dnd" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Oliver Zhu</td>
</tr>
<tr class="field-even field"><th class="field-name">Project owner:</th><td class="field-body">Evan Huang</td>
</tr>
<tr class="field-odd field"><th class="field-name">since:</th><td class="field-body">V.1.6</td>
</tr>
</tbody>
</table>
<p>DnD plugin supports drag-and-drop of grid rows/column/cells.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojox-grid-enhancedgrid-plugins-dnd" id="id2">dojox.grid.EnhancedGrid.plugins.DnD</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#configuration" id="id4">Configuration</a></li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#known-limitations" id="id6">Known Limitations</a></li>
<li><a class="reference internal" href="#see-also" id="id7">See Also</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>DnD is a plugin for dojox.grid.EnhancedGrid. It provides supports for drag-and-drop grid rows/column/cells. Users can not only move rows/columns/cells within a grid by dragging them, but also drag them out of grid to other widgets (can be another grid).</p>
</div>
<div class="section" id="configuration">
<h2><a class="toc-backref" href="#id4">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>This DnD plugin is only available for EnhancedGrid, so use the following statement in the head of your HTML file:</p>
<p>Note that this DnD plugin is based on the Selector plugin, so there&#8217;s no need to &#8220;require&#8221; the Selector plugin anymore if you&#8217;d like to use the its functions.</p>
</div>
<div class="section" id="plugin-declaration">
<h3>Plugin Declaration<a class="headerlink" href="#plugin-declaration" title="Permalink to this headline">¶</a></h3>
<p>The declaration name of this plugin is <code class="docutils literal"><span class="pre">dnd</span></code> . It is declared in the <code class="docutils literal"><span class="pre">plugins</span></code> property of grid.</p>
<p>If your grid is created declaratively:</p>
<p>If your grid is created in JavaScript:</p>
<p>As shown in the above code, you can simply set the <code class="docutils literal"><span class="pre">dnd</span></code> property to true or false (disabled), or further configure it in an argument object.</p>
<p>The argument object can accept the following properties:</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="4%" />
<col width="8%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Default Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>copyOnly</td>
<td>Boolean</td>
<td>false</td>
<td>Set whether dragging from this grid means moving or copying.</td>
</tr>
<tr class="row-odd"><td>dndConfig</td>
<td>Object</td>
<td>{}</td>
<td>Enable/disable dnd for every draggable objects (&#8220;row&#8221;, &#8220;col&#8221;, and &#8220;cell&#8221;) in every kind of circumstance (drag &#8220;within&#8221;, &#8220;in&#8221; to, or &#8220;out&#8221; of grid).
These draggable objects and circumstances are configured in a hierarchical manner.
You can set either &#8220;row&#8221;/&#8221;col&#8221;/&#8221;cell&#8221; or &#8220;within&#8221;/&#8221;in&#8221;/&#8221;out&#8221; at the first level, and configure the other group at the second level.
Or simply disable/enable a whole set of situations directly at the first level.
Note:
1. Circumstance (within/in/out) has higher priority than objects (row/col/cell).
2. Default value is &#8220;true&#8221;(enabled) if anything is omitted.</td>
</tr>
</tbody>
</table>
<p>Here is an example on how to set dndConfig:</p>
<p>Currently, the following situations are supported:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="33%" />
<col width="30%" />
<col width="23%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">DnD</th>
<th class="head">within</th>
<th class="head">in</th>
<th class="head">out</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>col</td>
<td>supported</td>
<td>not supported</td>
<td>supported</td>
</tr>
<tr class="row-odd"><td>row</td>
<td>supported</td>
<td>supported</td>
<td>supported</td>
</tr>
<tr class="row-even"><td>cell</td>
<td>supported</td>
<td>supported</td>
<td>supported</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Note:</dt>
<dd><ol class="first last arabic simple">
<li>Dragging columns into a grid is NOT supported currently.</li>
<li>Only cells forming a rectangle are draggable (do NOT support other shapes).</li>
</ol>
</dd>
</dl>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>This section shows how to DnD.</p>
<p>Note:</p>
<blockquote>
<div><ol class="arabic simple">
<li>If using Selector plugin only, the &#8220;drag&#8221; operation will start a new selection, and &#8220;drag&#8221; while pressing and holding CTRL key will start deselection.</li>
<li>If using this GridDnD plugin, only drag AFTER pressing and holding CTRL key will start deselection. If you press the CTRL key DURING dragging process, it means COPY instead of MOVE.</li>
</ol>
</div></blockquote>
<div class="section" id="dnd-within-grid">
<h3>DnD within Grid<a class="headerlink" href="#dnd-within-grid" title="Permalink to this headline">¶</a></h3>
<p>If enabled, selected rows/columns/cells can be dragged within grid.</p>
<p>Dragging Columns</p>
<img alt="../../../../_images/dnd-within-cols-1.gif" src="../../../../_images/dnd-within-cols-1.gif" />
<p>Dragging Rows</p>
<img alt="../../../../_images/dnd-within-rows-1.gif" src="../../../../_images/dnd-within-rows-1.gif" />
<p>Dragging Cells</p>
<img alt="../../../../_images/dnd-within-cells-1.gif" src="../../../../_images/dnd-within-cells-1.gif" />
</div>
<div class="section" id="dnd-across-grids">
<h3>DnD across Grids<a class="headerlink" href="#dnd-across-grids" title="Permalink to this headline">¶</a></h3>
<p>If both grids are EnhancedGrid with this GridDnD plugin, and one has enabled dragging &#8220;out&#8221; while the other enabled dragging &#8220;in&#8221;, data can be dragged across grids.
Note: Dragging columns across grids is not supported.</p>
<p>Moving rows across grids</p>
<img alt="../../../../_images/dnd-togrid-rows-1.gif" src="../../../../_images/dnd-togrid-rows-1.gif" />
<p>Copy rows across grids</p>
<img alt="../../../../_images/dnd-togrid-rows-copy-1.gif" src="../../../../_images/dnd-togrid-rows-copy-1.gif" />
<p>Moving cells across grids</p>
<img alt="../../../../_images/dnd-togrid-cells-1.gif" src="../../../../_images/dnd-togrid-cells-1.gif" />
<p>Copy cells across grids</p>
<img alt="../../../../_images/dnd-togrid-cells-copy-1.gif" src="../../../../_images/dnd-togrid-cells-copy-1.gif" />
<p>If selected cells do not form a rectangle, they can not be dragged:</p>
<img alt="../../../../_images/dnd-cannotdndshape-1.png" src="../../../../_images/dnd-cannotdndshape-1.png" />
<p>Because the grid lazy loads store data, and extended selection is supported, it is possible to select rows or cells that are not loaded to the client side yet. If this situation occurs, it&#8217;s not allowed to &#8220;drop&#8221; these unloaded objects to another grid:</p>
<img alt="../../../../_images/dnd-unloadedrows-1.gif" src="../../../../_images/dnd-unloadedrows-1.gif" />
</div>
<div class="section" id="dnd-from-grid-to-other-widgets">
<h3>DnD from Grid to Other Widgets<a class="headerlink" href="#dnd-from-grid-to-other-widgets" title="Permalink to this headline">¶</a></h3>
<p>Other widgets/dom nodes can accept dragged data from a grid by extending dojox.grid.enhanced.plugins.GridSource instead of dojo.dnd.Source.</p>
<p>GridSource extends dojo.dnd.Source. Its &#8220;accept&#8221; property can support &#8220;grid/cols&#8221;, &#8220;grid/rows&#8221;, and &#8220;grid/cells&#8221;.</p>
<p>GridSource provides the following events to handle grid related dnd:</p>
<dl class="docutils">
<dt>onDropGridColumns(grid, columnIndexes):</dt>
<dd>When a set of grid columns is dragged to this source.</dd>
</dl>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="33%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Arguments</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>grid</td>
<td>dojox.grid.EnhancedGrid</td>
<td>The source grid.</td>
</tr>
<tr class="row-odd"><td>columnIndexes</td>
<td>Integer[]</td>
<td>The indexes of the dragged columns</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>onDropGridRows(grid, rowIndexes):</dt>
<dd>When a set of grid rows is dragged to this source.</dd>
</dl>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="33%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Arguments</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>grid</td>
<td>dojox.grid.EnhancedGrid</td>
<td>The source grid.</td>
</tr>
<tr class="row-odd"><td>rowIndexes</td>
<td>Integer[]</td>
<td>The indexes of the dragged rows</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>onDropGridCells(grid, leftTopPoint, rightBottomPoint):</dt>
<dd>When a block of grid cells is dragged to this source.</dd>
</dl>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="20%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Arguments</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>grid</td>
<td>dojox.grid.EnhancedGrid</td>
<td>The source grid.</td>
</tr>
<tr class="row-odd"><td>leftTopPoint</td>
<td>Object(__SelectCellItem)</td>
<td>The left-top cell of the selected cells. (For RTL, it&#8217;s the right-top cell)</td>
</tr>
<tr class="row-even"><td>rightBottomPoint</td>
<td>Object(__SelectCellItem)</td>
<td>The right-bottom cell of the selected cells. (For RTL, it&#8217;s the left-top cell)</td>
</tr>
</tbody>
</table>
<p>The following example shows how to use these events to drag a grid row to a form.</p>
<p>The HTML is:</p>
<p>The JavaScript code is:</p>
<p>And here is the effect:</p>
<img alt="../../../../_images/dnd-tootherwidget-1.gif" src="../../../../_images/dnd-tootherwidget-1.gif" />
</div>
<div class="section" id="public-methods">
<h3>Public Methods<a class="headerlink" href="#public-methods" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>copyOnly(isCopyOnly):</dt>
<dd>Get/set function of the copyOnly property in the argument object.</dd>
</dl>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="12%" />
<col width="21%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Arguments</th>
<th class="head">Type</th>
<th class="head">Optional/Mandatory</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>isCopyOnly</td>
<td>Boolean</td>
<td>Optional(default to undefined)</td>
<td>Whether DnD is a copy operation or a move operation. If omitted, this is a getter.</td>
</tr>
<tr class="row-odd"><td>[return]</td>
<td>Boolean|Undefined</td>
<td>&nbsp;</td>
<td>If isCopyOnly is undefined, return the copyOnly property of this plugin.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>setupConfig(config):</dt>
<dd>Change the dndConfig property in the argument object.</dd>
</dl>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="22%" />
<col width="38%" />
<col width="23%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Arguments</th>
<th class="head">Type</th>
<th class="head">Optional/Mandatory</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>config</td>
<td>Object</td>
<td>Mandatory</td>
<td>Same as dndConfig.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="known-limitations">
<h2><a class="toc-backref" href="#id6">Known Limitations</a><a class="headerlink" href="#known-limitations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Multiple row layout is not supported by this DnD plugin.</li>
<li>Please be careful when dragging a numeric cell to a string cell (or vice versa), since sorting will have problems after that. This is because comparing string value and number value always returns false.</li>
</ul>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id7">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../../DataGrid.html#dojox-grid-datagrid"><span>dojox.grid.DataGrid</span></a> - The base grid</li>
<li><a class="reference internal" href="../../EnhancedGrid.html#dojox-grid-enhancedgrid"><span>dojox.grid.EnhancedGrid</span></a> - The enhanced grid supporting plugins</li>
<li><a class="reference internal" href="../plugins.html#dojox-grid-enhancedgrid-plugins"><span>dojox.grid.EnhancedGrid.plugins</span></a> - Overview of the plugins of enhanced grid</li>
<li><a class="reference internal" href="../plugins.html#dojox-grid-enhancedgrid-plugins"><span>dojox.grid.EnhancedGrid.plugins.Selector</span></a> - The selector plugin of enhanced grid</li>
<li><a class="reference internal" href="../../TreeGrid.html#dojox-grid-treegrid"><span>dojox.grid.TreeGrid</span></a> - Grid with collapsible rows and model-based (<a class="reference internal" href="../../../../dijit/tree/ForestStoreModel.html#dijit-tree-foreststoremodel"><span>dijit.tree.ForestStoreModel</span></a>) structure</li>
</ul>
</div>
</div>


      </div>
      <div class="medium-3 columns">
        <div id="toc">
            <h3>Table of Contents</h3>
            <div class="tocList"><ul>
<li><a class="reference internal" href="#">dojox.grid.EnhancedGrid.plugins.DnD</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#plugin-declaration">Plugin Declaration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#dnd-within-grid">DnD within Grid</a></li>
<li><a class="reference internal" href="#dnd-across-grids">DnD across Grids</a></li>
<li><a class="reference internal" href="#dnd-from-grid-to-other-widgets">DnD from Grid to Other Widgets</a></li>
<li><a class="reference internal" href="#public-methods">Public Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#known-limitations">Known Limitations</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>
</div>
          </div>
      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-12 columns feedback">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
    </div>
  </div>
  <div class="row full footer">
	<div class="content">
		<div class="medium-6 columns copyright">
			<span>&copy; <a href="http://dojofoundation.org">The Dojo Foundation</a>, All Rights Reserved. <a href="https://raw.githubusercontent.com/dojo/dojo/master/LICENSE" class="license">License Information</a></span>
		</div>
		<div class="medium-6 columns info">
			<span>Internet Application Management Provided By <a href="http://www.reliam.com/">Reliam, Inc.</a></span>
		</div>
	</div>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');
	</script>
</div>
  
  </body>
</html>