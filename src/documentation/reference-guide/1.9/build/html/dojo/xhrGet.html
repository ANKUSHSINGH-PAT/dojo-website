<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojo.xhrGet &mdash; Dojo Reference Guide 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css?1">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <meta name="viewport" content="width=device-width, minimum-scale=0.75, maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <script src="/scripts/dojo/dojo/dojo.js?1"></script>
    <script src="/scripts/dojo/docs/guide.js?1"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css?1">
    <script src="/scripts/nav.js?1"></script>

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo icon-dojo icon"></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="/download/" class="downloadLink">Get Dojo</a></li>
					<li><a href="/documentation" class="docsLink">Docs</a></li>
					<li><a href="/community" class="communityLink">Community</a></li>
					<li><a href="/community/roadmap/" class="roadmapLink">Roadmap</a></li>
					<li><a href="/blog/" class="blogLink">Blog</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <div class="subnav">
      <div class="row">
        <div class="medium-12 columns">
         <ul>
            <li><a href="../index.html">Startpage</a></li>
            <li><a href="index.html">Dojo</a></li>
            <li><a href="../dijit/index.html">Dijit</a></li>
            <li><a href="../dojox/index.html">DojoX</a></li>
          </ul>
        </div>
        <!-- <div class="medium-3 columns text-right">
           <div id="dtkVersion">
            <select id="refver" name="refver">
              <option value="1.6">Dojo 1.6</option>
              <option value="1.7">Dojo 1.7</option>
              <option value="1.8">Dojo 1.8</option>
              <option value="1.9">Dojo 1.9</option>
              <option value="1.10" selected="selected">Dojo 1.10</option>
            </select>
          </div>
        </div>-->
      </div>
    </div>
  <main class="refguide">
    <div class="row">
      <div class="medium-9 columns content">
          
  <div class="section" id="dojo-xhrget">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojo.xhrGet</a><a class="headerlink" href="#dojo-xhrget" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">since:</th><td class="field-body">V0.9</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojo-xhrget" id="id2">dojo.xhrGet</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#limitations" id="id4">Limitations</a></li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#examples" id="id6">Examples</a></li>
<li><a class="reference internal" href="#see-also" id="id7">See also</a></li>
</ul>
</li>
</ul>
</div>
<p><em>Deprecated</em> - See <a class="reference internal" href="request/xhr.html#dojo-request-xhr"><span>dojo/request/xhr</span></a> instead.</p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The dojo.xhrGet() function is the cornerstone function of AJAX development.  Its purpose is to provide an easy to use and consistent interface to making asynchronous calls to retrieve data.  This API is an abstraction atop the browser&#8217;s XMLHttpRequest object and makes usage the same regardless of which browser your application is running on.  This makes it much simpler to write cross-browser compatible AJAX style applications.  This function, in essence, implements making an HTTP &#8216;GET&#8217; call.</p>
<p>The following information should get you up and going with dojo.xhrGet().  As with all dojo functions, always refer to the API docs for detailed information.</p>
</div>
<div class="section" id="limitations">
<h2><a class="toc-backref" href="#id4">Limitations</a><a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<p>dojo.xhrGet (and other functions in the same line: dojo.xhrPost, dojo.xhrDelete, dojo.xhrPut), are bound by the &#8216;same domain&#8217; security policy of the browser.  This means that they can only establish a connection back to the same server that served the HTML page.  If you wish to use this API to talk to servers other than the one that originated your page, then you will have to use a proxy on your originating server and have it forward the requests.  The only other solution to working around the same domain restriction is to use alternate IO methods, such as dojo.io.script.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The xhrGet() function takes an object as its parameter.  This object defines how the xhrGet should operate.  Minimally, this object must contain a &#8216;url&#8217; attribute so that the function knows where to send the request.   Having just a &#8216;url&#8217; attribute isn&#8217;t the most useful approach to calling the function, though.  You can also embed information such as how to handle the return data (As XML, JSON, or text), and what do do when it completes.  It also accepts other useful parameters such as &#8216;preventCache&#8217;, and &#8216;sync&#8217;, which alter its behavior slightly.  For a reasonable list of all the options it supports, see the following table:</p>
<div class="section" id="dojo-xhrget-supported-object-properties">
<h3>dojo.xhrGet supported object properties<a class="headerlink" href="#dojo-xhrget-supported-object-properties" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2"><strong>url</strong></td>
<td rowspan="2">The URL to request data from.  This URL must go to the same server that originated the page or it will fail the load.  This
is due to the same domain browser security restriction.</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td><strong>handleAs</strong></td>
<td><p class="first">This parameter specifies how to handle the data returned from the server.  It usually takes values of &#8216;text&#8217;, &#8216;xml&#8217;, or
&#8216;json&#8217;.  What those values do is instruct it to try and hand the data to the asynchronous callback functions in that format.
Naturally if you specify a format that doesn&#8217;t match what the server sends you will likely get an error.</p>
<p>The currently supported options are:</p>
<ul class="last simple">
<li>text (default)</li>
<li>json</li>
<li>json-comment-optional</li>
<li>json-comment-filtered</li>
<li>javascript</li>
<li>xml</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><strong>sync</strong></td>
<td><p class="first">A boolean value that says whether or not the xhrGet() function should block until data is returned or return immediately and
rely on callbacks for data handling.  The default value is <em>false</em></p>
<blockquote>
<div><p><strong>Note:</strong> As a matter of best practice, you should avoid using synchronized xhr calls unless there is no alternative.
Synchronized xhr calls block all other activity in the browser and can make it appear hung.</p>
<p><strong>Note:</strong> Setting sync disables timeout.  The browsers themselves do not permit timeouts xhr calls.  All timeout
functionality is done by dojo code which cannot execute when &#8216;sync&#8217; is set.</p>
</div></blockquote>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
<tr class="row-odd"><td><strong>preventCache</strong></td>
<td><p class="first">A boolean value that tells dojo.xhrGet to append a unique query parameter to each request.  The purpose of this  parameter
is to keep the browser from caching the results.  While it is generally good practice to let the server tell your browser
how to cache and when to clear, sometimes it is necessary to force the browser to not cache.</p>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
<tr class="row-even"><td><strong>content</strong></td>
<td><p class="first">A JavaScript object of name/string value pairs.  These items are converted to query parameters and passed on as part of the
url.  Example request made by the browser:  &lt;url&gt;?key1=value1&amp;key2=value2&amp;key3=value3..</p>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
<tr class="row-odd"><td><strong>headers</strong></td>
<td><p class="first">A JavaScript object of name/string value pairs.  These are the headers to send as part of the request.  For example, you can
use the headers option to set the Content-Type, X-Method-Override, or Content-Encoding headers of the HTTP request.</p>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
<tr class="row-even"><td><strong>timeout</strong></td>
<td><p class="first">Number of milliseconds to wait until timing out the request.  Default is &#8216;0&#8217;, which means infinite (no timeout).</p>
<blockquote>
<div><strong>Note:</strong> This parameter is ignored when &#8216;sync is set.  Browser limitation.</div></blockquote>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
<tr class="row-odd"><td><strong>user</strong></td>
<td><p class="first">If your end point requires BASIC web authentication, then you can pass the user name using this parameter in the xhr request
options.</p>
<blockquote>
<div><strong>Note:</strong>  This does <strong>NOT</strong> work for FORM based authentication. FORM based authentication is a use of POST, where the
POST body contains the credentials.  FORM authentication is server implementation specific.</div></blockquote>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
<tr class="row-even"><td><strong>password</strong></td>
<td><p class="first">If your end point requires BASIC web authentication, then you can pass the password using this parameter in the xhr request
options.</p>
<blockquote>
<div><strong>Note:</strong>  This does <strong>NOT</strong> work for FORM based authentication. FORM based authentication is a use of POST, where the
POST body contains the credentials.  FORM authentication is server implementation specific.</div></blockquote>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
<tr class="row-odd"><td><strong>load</strong></td>
<td><p class="first">The function dojo.xhrGet should invoke when the data is returned from the server.  The function should expect to receive at
at least one parameter, the data returned from the url.  The format of the data is controlled by the previously mentioned
<em>handleAs</em> parameter.</p>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
<tr class="row-even"><td><strong>error</strong></td>
<td><p class="first">Sometimes xhrGet calls will fail.  Often these are 404 errors or server errors such as 500.  The error parameter is another
callback function that is only invoked when an error occurs.  This allows you to control what happens when an error occurs
without having to put a lot of logic into your load function to check for error conditions.  The first parameter passed to
the error function is a JavaScript Error object indicating what the failure was.</p>
<blockquote>
<div><strong>Note:</strong> If you cancel the XHR, the error callback will be triggered, think about it if you handle errors with a &#8220;try
again&#8221; mechanism, since you may reschedule a canceled request</div></blockquote>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
<tr class="row-odd"><td><strong>handle</strong></td>
<td><p class="first">Sometimes you want to do something regardless of whether a call completes or fails. That&#8217;s where handle comes it, it will be
invoked by xhr regardless.  The first parameter passed to this callback is the response (or error) and the second parameter
is the IO args object, from which you can get the status code and determine success or failure.</p>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">New</span> <span class="pre">in</span> <span class="pre">1.4</span></code>
<strong>failOk</strong></td>
<td><p class="first">By default, dojo.xhrGet outputs an error to the console when there is a transport error.  Setting <strong>failOk</strong> to true will
prevent that behavior and will suppress the error message.</p>
<p class="last"><strong>This parameter is optional</strong></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="return-type-dojo-deferred">
<h3>Return type (dojo.Deferred)<a class="headerlink" href="#return-type-dojo-deferred" title="Permalink to this headline">¶</a></h3>
<p>For both the synchronous and asynchronous cases, the dojo.xhrGet() call will return a &#8216;dojo.Deferred&#8217; object.  This object allows you to define additional callbacks for success and error conditions.  It can also be used in place of defining &#8216;load&#8217; and error&#8217; functions in your request parameters for dojo.xhrGet().  See Example 4 for details on how to use the dojo.Deferred object to set your load and error handlers.</p>
</div>
<div class="section" id="handling-status-codes">
<h3>Handling Status Codes<a class="headerlink" href="#handling-status-codes" title="Permalink to this headline">¶</a></h3>
<p>There are times where knowing of a request was &#8216;good&#8217; or &#8216;bad&#8217; isn&#8217;t really enough.  There are, in fact, many successful status codes that mean the request was completed successfully, but have specific meaning in how it was completed.  This situation often comes up in REST based implementations with server status codes like:</p>
<ul class="simple">
<li>201: (Created)</li>
<li>202: (Accepted),</li>
<li>203: (Non-Authoritative Information)</li>
<li>204: (No Content).</li>
</ul>
<p>There are also many status codes in the 3XX range that have specific meaning as well.
So ... can dojo.xhrGet (And the others dojo.xhrPut, dojo.xhrDelete, etc.), provide the status code so a &#8216;load&#8217;
function can do something based on the status code?</p>
<blockquote>
<div><strong>The answer is:  Yes.</strong></div></blockquote>
<p>A second parameter is always passed to the &#8216;load&#8217;, &#8216;error&#8217;, and &#8216;handle&#8217; functions.  This parameter is the &#8216;ioargs&#8217; parameter.  It contains a lot of detail about the xhr request, including a reference to the actual native xhr object.  You can access the status code off that object via: &#8216;ioargs.xhr.status&#8217;.  Please see Examples 6, 7, and 9 for a usage example of doing that.</p>
<p>By making use of this status check, you can implement handling for authentication, proxy authentication, and myraid of other items you may need to react to, to make your application dynamic and user friendly.</p>
</div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id6">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>For specific examples of how to use dojo.xhrGet, please refer to the following.  You can use Firebug with Firefox to see dojo making the xhr requests.</p>
<div class="section" id="example-1-dojo-xhrget-call-to-fetch-the-dojo-license">
<h3>Example 1: dojo.xhrGet call to fetch the dojo license.<a class="headerlink" href="#example-1-dojo-xhrget-call-to-fetch-the-dojo-license" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="example-2-dojo-xhrget-call-to-fetch-the-dojo-license-with-preventcache">
<h3>Example 2: dojo.xhrGet call to fetch the dojo license with preventCache.<a class="headerlink" href="#example-2-dojo-xhrget-call-to-fetch-the-dojo-license-with-preventcache" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="example-3-dojo-xhrget-call-that-errors">
<h3>Example 3: dojo.xhrGet call that errors.<a class="headerlink" href="#example-3-dojo-xhrget-call-that-errors" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="example-4-getting-result-from-deferred-return-value">
<h3>Example 4: Getting result from Deferred return value<a class="headerlink" href="#example-4-getting-result-from-deferred-return-value" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="example-5-dojo-xhrget-call-with-content-query-params">
<h3>Example 5: dojo.xhrGet call with &#8216;content&#8217; (query params).<a class="headerlink" href="#example-5-dojo-xhrget-call-with-content-query-params" title="Permalink to this headline">¶</a></h3>
<p><em>Note:  You will need to use firebug or a proxy to see the query params appended to the url</em></p>
</div>
<div class="section" id="example-6-dojo-xhrget-call-and-checking-the-xhr-status-code">
<h3>Example 6: dojo.xhrGet call and checking the xhr &#8216;status&#8217; code<a class="headerlink" href="#example-6-dojo-xhrget-call-and-checking-the-xhr-status-code" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="example-7-dojo-xhrget-call-and-checking-the-xhr-status-code-in-error-handler">
<h3>Example 7: dojo.xhrGet call and checking the xhr &#8216;status&#8217; code in error handler<a class="headerlink" href="#example-7-dojo-xhrget-call-and-checking-the-xhr-status-code-in-error-handler" title="Permalink to this headline">¶</a></h3>
<p><em>Note: This just shows using switch in an error handler to display some message based on a particular failure.</em></p>
</div>
<div class="section" id="example-8-dojo-xhrget-call-with-headers">
<h3>Example 8: dojo.xhrGet call with headers<a class="headerlink" href="#example-8-dojo-xhrget-call-with-headers" title="Permalink to this headline">¶</a></h3>
<p><em>Note:  You will need to use firebug or a proxy to see the headers set in the request</em></p>
</div>
<div class="section" id="example-9-dojo-xhrget-call-and-checking-the-xhr-status-code-in-handle">
<h3>Example 9: dojo.xhrGet call and checking the xhr &#8216;status&#8217; code in &#8216;handle&#8217;<a class="headerlink" href="#example-9-dojo-xhrget-call-and-checking-the-xhr-status-code-in-handle" title="Permalink to this headline">¶</a></h3>
<p><em>Note: This shows using switch in a generic handle function to error display some message based on a particular failure or success.</em></p>
</div>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id7">See also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="xhrPost.html#dojo-xhrpost"><span>dojo.xhrPost</span></a></li>
<li><a class="reference internal" href="rawXhrPost.html#dojo-rawxhrpost"><span>dojo.rawXhrPost</span></a></li>
<li><a class="reference internal" href="xhrPut.html#dojo-xhrput"><span>dojo.xhrPut</span></a></li>
<li><a class="reference internal" href="rawXhrPut.html#dojo-rawxhrput"><span>dojo.rawXhrPut</span></a></li>
<li><a class="reference internal" href="xhrDelete.html#dojo-xhrdelete"><span>dojo.xhrDelete</span></a></li>
</ul>
</div>
</div>


      </div>
      <div class="medium-3 columns">
        <div id="toc">
            <h3>Table of Contents</h3>
            <div class="tocList"><ul>
<li><a class="reference internal" href="#">dojo.xhrGet</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#limitations">Limitations</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#dojo-xhrget-supported-object-properties">dojo.xhrGet supported object properties</a></li>
<li><a class="reference internal" href="#return-type-dojo-deferred">Return type (dojo.Deferred)</a></li>
<li><a class="reference internal" href="#handling-status-codes">Handling Status Codes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#example-1-dojo-xhrget-call-to-fetch-the-dojo-license">Example 1: dojo.xhrGet call to fetch the dojo license.</a></li>
<li><a class="reference internal" href="#example-2-dojo-xhrget-call-to-fetch-the-dojo-license-with-preventcache">Example 2: dojo.xhrGet call to fetch the dojo license with preventCache.</a></li>
<li><a class="reference internal" href="#example-3-dojo-xhrget-call-that-errors">Example 3: dojo.xhrGet call that errors.</a></li>
<li><a class="reference internal" href="#example-4-getting-result-from-deferred-return-value">Example 4: Getting result from Deferred return value</a></li>
<li><a class="reference internal" href="#example-5-dojo-xhrget-call-with-content-query-params">Example 5: dojo.xhrGet call with &#8216;content&#8217; (query params).</a></li>
<li><a class="reference internal" href="#example-6-dojo-xhrget-call-and-checking-the-xhr-status-code">Example 6: dojo.xhrGet call and checking the xhr &#8216;status&#8217; code</a></li>
<li><a class="reference internal" href="#example-7-dojo-xhrget-call-and-checking-the-xhr-status-code-in-error-handler">Example 7: dojo.xhrGet call and checking the xhr &#8216;status&#8217; code in error handler</a></li>
<li><a class="reference internal" href="#example-8-dojo-xhrget-call-with-headers">Example 8: dojo.xhrGet call with headers</a></li>
<li><a class="reference internal" href="#example-9-dojo-xhrget-call-and-checking-the-xhr-status-code-in-handle">Example 9: dojo.xhrGet call and checking the xhr &#8216;status&#8217; code in &#8216;handle&#8217;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>
</div>
          </div>
      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-12 columns feedback">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
    </div>
  </div>
  <div class="row full footer">
	<div class="content">
		<div class="medium-6 columns copyright">
			<span>&copy; <a href="http://dojofoundation.org">The Dojo Foundation</a>, All Rights Reserved. <a href="https://raw.githubusercontent.com/dojo/dojo/master/LICENSE" class="license">License Information</a></span>
		</div>
		<div class="medium-6 columns info">
			<span>Internet Application Management Provided By <a href="http://www.reliam.com/">Reliam, Inc.</a></span>
		</div>
	</div>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');
	</script>
</div>
  
  </body>
</html>