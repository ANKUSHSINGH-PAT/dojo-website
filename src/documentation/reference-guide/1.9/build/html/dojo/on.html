<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojo/on &mdash; Dojo Reference Guide 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css?1">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <meta name="viewport" content="width=device-width, minimum-scale=0.75, maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <script src="/scripts/dojo/dojo/dojo.js?1"></script>
    <script src="/scripts/dojo/docs/guide.js?1"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css?1">
    <script src="/scripts/nav.js?1"></script>

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo icon-dojo icon"></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="/download/" class="downloadLink">Get Dojo</a></li>
					<li><a href="/documentation" class="docsLink">Docs</a></li>
					<li><a href="/community" class="communityLink">Community</a></li>
					<li><a href="/community/roadmap/" class="roadmapLink">Roadmap</a></li>
					<li><a href="/blog/" class="blogLink">Blog</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <div class="subnav">
      <div class="row">
        <div class="medium-12 columns">
         <ul>
            <li><a href="../index.html">Startpage</a></li>
            <li><a href="index.html">Dojo</a></li>
            <li><a href="../dijit/index.html">Dijit</a></li>
            <li><a href="../dojox/index.html">DojoX</a></li>
          </ul>
        </div>
        <!-- <div class="medium-3 columns text-right">
           <div id="dtkVersion">
            <select id="refver" name="refver">
              <option value="1.6">Dojo 1.6</option>
              <option value="1.7">Dojo 1.7</option>
              <option value="1.8">Dojo 1.8</option>
              <option value="1.9">Dojo 1.9</option>
              <option value="1.10" selected="selected">Dojo 1.10</option>
            </select>
          </div>
        </div>-->
      </div>
    </div>
  <main class="refguide">
    <div class="row">
      <div class="medium-9 columns content">
          
  <div class="section" id="dojo-on">
<span id="id1"></span><h1><a class="toc-backref" href="#id3">dojo/on</a><a class="headerlink" href="#dojo-on" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Kris Zyp</td>
</tr>
<tr class="field-even field"><th class="field-name">Project owner:</th><td class="field-body">Kris Zyp</td>
</tr>
<tr class="field-odd field"><th class="field-name">since:</th><td class="field-body">1.7.0</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojo-on" id="id3">dojo/on</a><ul>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#notes" id="id5">Notes</a></li>
<li><a class="reference internal" href="#migration" id="id6">Migration</a></li>
<li><a class="reference internal" href="#examples" id="id7">Examples</a></li>
<li><a class="reference internal" href="#see-also" id="id8">See Also</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>dojo/on</strong> is a general-purpose event handler module for DOM nodes and other event emitting objects, providing
normalized event listening and event dispatching functionality.</p>
<p>This module is designed to be lightweight and fast, based on modern browsers&#8217; event model.  This module also
deprecates the event handling features of <a class="reference internal" href="connect.html#dojo-connect"><span>dojo/connect</span></a>.</p>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The module&#8217;s return value is an on function that can be directly called to add an event listener:</p>
<div class="section" id="removing-an-event-handler">
<h3>Removing an Event Handler<a class="headerlink" href="#removing-an-event-handler" title="Permalink to this headline">¶</a></h3>
<p>The return value of <code class="docutils literal"><span class="pre">on()</span></code> provides a method that can be used to remove the event listener from the event:</p>
</div>
<div class="section" id="emit">
<h3>emit()<a class="headerlink" href="#emit" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">emit()</span></code> method provides a normalized mechanism for dispatching events. This method will dispatch an event using
the native event facilities when available, and will emulate these facilities otherwise:</p>
<p>The signature of the method is:</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="5%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>target</td>
<td>Object</td>
<td>This is the target object (a DOM node or other event emitting object) that will be the source of the
event. The target object may be a host object with its own event capabilities (like DOM elements or
the window), or it may be a JavaScript object with an <code class="docutils literal"><span class="pre">on()</span></code> method.</td>
</tr>
<tr class="row-odd"><td>type</td>
<td>String</td>
<td>This is the name of the event type to be dispatched (like <code class="docutils literal"><span class="pre">select</span></code>). This event may be a standard
event (like <code class="docutils literal"><span class="pre">click</span></code>) or a custom event (like <code class="docutils literal"><span class="pre">finished</span></code>).</td>
</tr>
<tr class="row-even"><td>event</td>
<td>Object</td>
<td><p class="first">This is an object with the properties of the event to be dispatched. Generally you should align your
properties with W3C standards. Two properties are of particular importance:</p>
<ul class="last simple">
<li>bubbles - This indicates that the event should bubble up, first firing on the target object, next on
the target object&#8217;s parent (<code class="docutils literal"><span class="pre">parentNode</span></code>) and so on until it reaches the top of the DOM or
bubbling is stopped. Bubbling is stopped when a listener calls <code class="docutils literal"><span class="pre">event.stopPropagation()</span></code>.</li>
<li>cancelable - This indicates that the event&#8217;s default action can be cancelled. The default action is
cancelled by a listener by calling <code class="docutils literal"><span class="pre">event.preventDefault()</span></code>. The emit method does not perform any
default action, it returns a value allowing the calling code to perform any default action.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">emit()</span></code> returns the event object unless the event is cancelable and is cancelled by one of the listeners, in which
case it will return <code class="docutils literal"><span class="pre">false</span></code>.</p>
</div>
<div class="section" id="selector">
<span id="dojo-on-selector-function"></span><h3>selector()<a class="headerlink" href="#selector" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">selector()</span></code> method can be used to apply event delegation when extension events are used (since you can&#8217;t use
the <code class="docutils literal"><span class="pre">&lt;selector&gt;:&lt;type&gt;</span></code> syntax with an extension event).  The method is called with the CSS selector as the first
argument and the event type as the second argument.  For example, to listen for the <code class="docutils literal"><span class="pre">mouse.enter</span></code> extension event on
elements with the <code class="docutils literal"><span class="pre">myClass</span></code> class name, we could write:</p>
<p>The <code class="docutils literal"><span class="pre">selector()</span></code> method can also be used with custom selector functions, by providing a function instead of a
selector string as the first argument. The function will be called each time the indicated event takes place, and
provide the event&#8217;s target as the single argument. If the selector function has a corresponding node that matches for
the event target, it can return that node. If the selector does not match, it should return a falsy value.</p>
<p>Also note that <a class="reference internal" href="query.html#dojo-query"><span>dojo/query</span></a> must be loaded for <code class="docutils literal"><span class="pre">selector()</span></code> to work, even if it is not used
directly in your code block.</p>
</div>
<div class="section" id="pausable">
<h3>pausable()<a class="headerlink" href="#pausable" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">pausable()</span></code> method provides a means for pausing an event listener, while still preserving the listeners order
and state.  The <code class="docutils literal"><span class="pre">pausable()</span></code> method can be called just like <code class="docutils literal"><span class="pre">on()</span></code>.  The only difference is the returned signal
handler will include <code class="docutils literal"><span class="pre">pause()</span></code> and <code class="docutils literal"><span class="pre">resume()</span></code> methods.</p>
<p>The <code class="docutils literal"><span class="pre">pause()</span></code> method will cause the listener to not be called when the specified event takes place. The <code class="docutils literal"><span class="pre">resume()</span></code>
method will cause the listener to be called again.</p>
<p>For example, we could write:</p>
</div>
<div class="section" id="once">
<h3>once()<a class="headerlink" href="#once" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">once()</span></code> function allows you to register a listener that will be called just once in response to an event. This
works just like <code class="docutils literal"><span class="pre">on()</span></code>, but the listener will be called a single time and then it will be removed as a listener. For
example:</p>
</div>
</div>
<div class="section" id="notes">
<h2><a class="toc-backref" href="#id5">Notes</a><a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="integration-with-dojo-query">
<h3>Integration with dojo/query<a class="headerlink" href="#integration-with-dojo-query" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="query.html#dojo-query"><span>dojo/query</span></a> defines an <code class="docutils literal"><span class="pre">on()</span></code> method as part of the NodeList objects it returns.  So the
following can be done:</p>
</div>
<div class="section" id="normalization">
<h3>Normalization<a class="headerlink" href="#normalization" title="Permalink to this headline">¶</a></h3>
<p>One of the key benefits of using <code class="docutils literal"><span class="pre">dojo/on</span></code> is that it provides event normalization, event listeners will receive an
event object with the properties defined by the W3C event model, even in Internet Explorer.  Generally, <code class="docutils literal"><span class="pre">dojo/on</span></code>
does not normalize non-standard properties.</p>
<p>There are some non-standard geometry properties that are often desirable, that are not normalized by <code class="docutils literal"><span class="pre">dojo/on</span></code>.
The <a class="reference internal" href="dom-geometry.html#dojo-dom-geometry"><span>dojo/dom-geometry</span></a> module provides a <code class="docutils literal"><span class="pre">normalizeEvent()</span></code> function that can be used to
normalize the <code class="docutils literal"><span class="pre">pageX</span></code>, <code class="docutils literal"><span class="pre">pageY</span></code>, <code class="docutils literal"><span class="pre">layerX</span></code>, and <code class="docutils literal"><span class="pre">layerY</span></code> properties on events.</p>
</div>
<div class="section" id="multiple-events">
<h3>Multiple Events<a class="headerlink" href="#multiple-events" title="Permalink to this headline">¶</a></h3>
<p>You can listen to multiple event types with a single call by comma-delimiting the event names. Then we can listen for
multiple events (with delegation) with one call. For example, we can listen for <code class="docutils literal"><span class="pre">touchend</span></code> and <code class="docutils literal"><span class="pre">dblclick</span></code>:</p>
</div>
<div class="section" id="event-delegation">
<h3>Event Delegation<a class="headerlink" href="#event-delegation" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">on()</span></code> function also provides event delegation functionality.  One can use a selector in the event type name to
indicate the nodes that are targeted for event listening.  The <code class="docutils literal"><span class="pre">on()</span></code> function will then use respond to event
bubbling and trigger the listener when the appropriate child nodes trigger the event.</p>
<p>The format for selector-based event listening is to use <code class="docutils literal"><span class="pre">&lt;selector&gt;:&lt;eventType&gt;</span></code> as the <code class="docutils literal"><span class="pre">eventType</span></code>.</p>
<p>For example, to listen for click events on elements with the <code class="docutils literal"><span class="pre">myClass</span></code> class name, we could do:</p>
<p>To listen for double clicks on the document and clicks on buttons with <code class="docutils literal"><span class="pre">myClass</span></code> class name, we could do:</p>
<p>Note that event delegation will only work on events that bubble.  Most DOM events do bubble, but there are a few
exceptions.  The <code class="docutils literal"><span class="pre">mouseenter</span></code> and <code class="docutils literal"><span class="pre">mouseleave</span></code> events do not bubble, but <code class="docutils literal"><span class="pre">mouseover</span></code> and <code class="docutils literal"><span class="pre">mouseout</span></code> are the
bubbling counterparts.  The <code class="docutils literal"><span class="pre">focus</span></code> and <code class="docutils literal"><span class="pre">blur</span></code> events do not bubble, but dojo/on normalizes <code class="docutils literal"><span class="pre">focusin</span></code> and
<code class="docutils literal"><span class="pre">focusout</span></code> as bubbling equivalents.  Also, <code class="docutils literal"><span class="pre">scroll</span></code> events don&#8217;t bubble.</p>
<p>Note that <code class="docutils literal"><span class="pre">dojo/query</span></code> must be loaded for event delegation to work.</p>
<p>Sometimes an event may occur on a sub-node beneath the node matching the selector.  For example, you may have a table
where you want to monitor which <code class="docutils literal"><span class="pre">&lt;tr&gt;</span></code> row was clicked, but the actual click events occur on the <code class="docutils literal"><span class="pre">&lt;td&gt;</span></code> nodes, or
nodes within the <code class="docutils literal"><span class="pre">&lt;td&gt;</span></code>.</p>
<p>In this case you can get the node that matched the selector via <code class="docutils literal"><span class="pre">this</span></code>:</p>
</div>
<div class="section" id="extension-events">
<h3>Extension Events<a class="headerlink" href="#extension-events" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">eventType</span></code> parameter may also be an extension event.  An extension event is a custom event that may be based on
extended functionality.  Dojo includes several extension events, such as mouse tracking functionality with
<a class="reference internal" href="mouse.html#dojo-mouse"><span>dojo/mouse</span></a>&#8216;s enter and leave extension events.  For example, to listen for the mouse hovering
over a DOM node, we could write:</p>
<p>You can also create your own extension events.  An extension event is simply a function (or any object with a
<code class="docutils literal"><span class="pre">call()</span></code> method) that will be called with two parameters.  The first parameter is the target and the second is the
listener.</p>
</div>
</div>
<div class="section" id="migration">
<h2><a class="toc-backref" href="#id6">Migration</a><a class="headerlink" href="#migration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="converting-from-dojo-connect">
<h3>Converting from dojo.connect<a class="headerlink" href="#converting-from-dojo-connect" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">dojo/on</span></code> can replace <a class="reference internal" href="connect.html#dojo-connect"><span>dojo.connect</span></a> when connect is used for connecting to DOM nodes and event
emitting objects (see the <a class="reference internal" href="Evented.html#dojo-evented"><span>dojo/Evented</span></a> page for more information). If you are connecting to a
plain method, use <a class="reference internal" href="aspect.html#dojo-aspect"><span>dojo/aspect</span></a> instead.  Also, note that some event emitting objects, like Dijits,
have their own event naming conventions and may need to be changed to remove &#8220;on&#8221; from the names and lower-case the
remaining event names used with <code class="docutils literal"><span class="pre">dojo.connect</span></code> for some event emitting objects like Dijits.</p>
</div>
<div class="section" id="transitioning-to-dojo-2-0">
<h3>Transitioning to Dojo 2.0<a class="headerlink" href="#transitioning-to-dojo-2-0" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">dojo/on</span></code> module is expected to be a core module in Dojo 2.0 with the API introduced in 1.7.  The dojo/on module
can be used for listening to events on DOM and host objects, as well Evented objects such that your code should
transition to 2.0.</p>
<p>However, the event emitting objects in Dojo (including Dijits, DnD, and Animation) are likely to change their events (
both names and emitted event objects) in 2.0, so one should not assume that code using <code class="docutils literal"><span class="pre">dojo/on</span></code> to listen to Dojo
objects will work unchanged in 2.0.</p>
</div>
<div class="section" id="using-the-dojo-on-module-with-pre-amd-style-dojo-apis">
<h3>Using the dojo/on Module with pre-AMD-style Dojo APIs<a class="headerlink" href="#using-the-dojo-on-module-with-pre-amd-style-dojo-apis" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">dojo/on</span></code> module can also be loaded with <code class="docutils literal"><span class="pre">dojo.require(&quot;dojo.on&quot;)</span></code> to make available as <code class="docutils literal"><span class="pre">dojo.on</span></code>. For
example:</p>
</div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id7">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>Event Delegation<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id8">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="Evented.html#dojo-evented"><span>dojo/Evented</span></a> base class for objects that emit their own events.</li>
</ul>
</div>
</div>


      </div>
      <div class="medium-3 columns">
        <div id="toc">
            <h3>Table of Contents</h3>
            <div class="tocList"><ul>
<li><a class="reference internal" href="#">dojo/on</a><ul>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#removing-an-event-handler">Removing an Event Handler</a></li>
<li><a class="reference internal" href="#emit">emit()</a></li>
<li><a class="reference internal" href="#selector">selector()</a></li>
<li><a class="reference internal" href="#pausable">pausable()</a></li>
<li><a class="reference internal" href="#once">once()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notes">Notes</a><ul>
<li><a class="reference internal" href="#integration-with-dojo-query">Integration with dojo/query</a></li>
<li><a class="reference internal" href="#normalization">Normalization</a></li>
<li><a class="reference internal" href="#multiple-events">Multiple Events</a></li>
<li><a class="reference internal" href="#event-delegation">Event Delegation</a></li>
<li><a class="reference internal" href="#extension-events">Extension Events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#migration">Migration</a><ul>
<li><a class="reference internal" href="#converting-from-dojo-connect">Converting from dojo.connect</a></li>
<li><a class="reference internal" href="#transitioning-to-dojo-2-0">Transitioning to Dojo 2.0</a></li>
<li><a class="reference internal" href="#using-the-dojo-on-module-with-pre-amd-style-dojo-apis">Using the dojo/on Module with pre-AMD-style Dojo APIs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#id2">Event Delegation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>
</div>
          </div>
      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-12 columns feedback">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
    </div>
  </div>
  <div class="row full footer">
	<div class="content">
		<div class="medium-6 columns copyright">
			<span>&copy; <a href="http://dojofoundation.org">The Dojo Foundation</a>, All Rights Reserved. <a href="https://raw.githubusercontent.com/dojo/dojo/master/LICENSE" class="license">License Information</a></span>
		</div>
		<div class="medium-6 columns info">
			<span>Internet Application Management Provided By <a href="http://www.reliam.com/">Reliam, Inc.</a></span>
		</div>
	</div>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');
	</script>
</div>
  
  </body>
</html>