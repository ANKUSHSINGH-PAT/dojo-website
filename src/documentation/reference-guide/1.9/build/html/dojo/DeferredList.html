<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojo/DeferredList &mdash; Dojo Reference Guide 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css?1">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <meta name="viewport" content="width=device-width, minimum-scale=0.75, maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <script src="/scripts/dojo/dojo/dojo.js?1"></script>
    <script src="/scripts/dojo/docs/guide.js?1"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css?1">
    <script src="/scripts/nav.js?1"></script>

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo icon-dojo icon"></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="/download/" class="downloadLink">Get Dojo</a></li>
					<li><a href="/documentation" class="docsLink">Docs</a></li>
					<li><a href="/community" class="communityLink">Community</a></li>
					<li><a href="/community/roadmap/" class="roadmapLink">Roadmap</a></li>
					<li><a href="/blog/" class="blogLink">Blog</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <div class="subnav">
      <div class="row">
        <div class="medium-12 columns">
         <ul>
            <li><a href="../index.html">Startpage</a></li>
            <li><a href="index.html">Dojo</a></li>
            <li><a href="../dijit/index.html">Dijit</a></li>
            <li><a href="../dojox/index.html">DojoX</a></li>
          </ul>
        </div>
        <!-- <div class="medium-3 columns text-right">
           <div id="dtkVersion">
            <select id="refver" name="refver">
              <option value="1.6">Dojo 1.6</option>
              <option value="1.7">Dojo 1.7</option>
              <option value="1.8">Dojo 1.8</option>
              <option value="1.9">Dojo 1.9</option>
              <option value="1.10" selected="selected">Dojo 1.10</option>
            </select>
          </div>
        </div>-->
      </div>
    </div>
  <main class="refguide">
    <div class="row">
      <div class="medium-9 columns content">
          
  <div class="section" id="dojo-deferredlist">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojo/DeferredList</a><a class="headerlink" href="#dojo-deferredlist" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojo-deferredlist" id="id2">dojo/DeferredList</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#attributes" id="id5">Attributes</a></li>
<li><a class="reference internal" href="#examples" id="id6">Examples</a></li>
<li><a class="reference internal" href="#see-also" id="id7">See also</a></li>
</ul>
</li>
</ul>
</div>
<p><em>Deprecated</em>  You should migrate to the new <a class="reference internal" href="promise.html#dojo-promise"><span>dojo/promise</span></a> API.
<a class="reference internal" href="promise/all.html#dojo-promise-all"><span>dojo/promise/all</span></a> and <a class="reference internal" href="promise/first.html#dojo-promise-first"><span>dojo/promise/first</span></a> replace the
functionality provided by <code class="docutils literal"><span class="pre">dojo/DeferredList</span></code>.</p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><em>dojo/DeferredList</em> builds on <a class="reference internal" href="_base/Deferred.html#dojo-base-deferred"><span>Deferred</span></a>. <code class="docutils literal"><span class="pre">Deferred</span></code> objects make asynchronous programming
as easy as can be reasonably expected and <code class="docutils literal"><span class="pre">DeferredList</span></code> class builds on the &#8220;one answer to one question&#8221; contract of
<code class="docutils literal"><span class="pre">Deferred</span></code> to provide a &#8220;one answer to many questions&#8221; system.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="attributes">
<h2><a class="toc-backref" href="#id5">Attributes</a><a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="8%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>list</td>
<td>Array</td>
<td>The list of <code class="docutils literal"><span class="pre">Deferreds</span></code> to be synchronized with this <code class="docutils literal"><span class="pre">DeferredList</span></code></td>
</tr>
<tr class="row-odd"><td>fireOnOneCallback</td>
<td>Boolean?</td>
<td><em>Optional</em> Will cause the <code class="docutils literal"><span class="pre">DeferredList</span></code> callback to be fired as soon as any of the
<code class="docutils literal"><span class="pre">Deferreds</span></code> in its list have been fired instead of waiting until the entire list has
finished</td>
</tr>
<tr class="row-even"><td>fireOnOneErrback</td>
<td>Boolean?</td>
<td><em>Optional</em> Will cause the errback to fire upon any of the <code class="docutils literal"><span class="pre">Deferreds</span></code> errback</td>
</tr>
<tr class="row-odd"><td>consumeErrors</td>
<td>Boolean?</td>
<td><em>Optional</em> Will fail silently on any errors from the <code class="docutils literal"><span class="pre">Deferreds</span></code></td>
</tr>
<tr class="row-even"><td>canceller</td>
<td>Function?</td>
<td><em>Optional</em> A <code class="docutils literal"><span class="pre">Deferred</span></code> canceller function, see
<a class="reference internal" href="_base/Deferred.html#dojo-base-deferred"><span>dojo/_base/Deferred</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id6">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>One common task is notifying some listener when a list of resources pulled in by different services all become
available. For example, a search federated across several bookstores. Hearing about the results of a single search is a
good job for a <a class="reference internal" href="_base/Deferred.html#dojo-base-deferred"><span>Deferred</span></a>, but finding out about when they&#8217;ve all completed takes more
juggling.</p>
<p>Let&#8217;s assume we&#8217;ve installed several proxies for search services on our server. Once all the stores have been searched,
we want to send an XHR call with search status to some logging service and provide the user an indication that we&#8217;ve
finished up all the work we were doing on their behalf.</p>
<p>The services are located at:</p>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">/books/amazon</span></code></li>
<li><code class="docutils literal"><span class="pre">/books/bol</span></code></li>
<li><code class="docutils literal"><span class="pre">/books/google</span></code></li>
</ol>
<p>Astute readers might be asking, &#8220;why provide different services when you could let the server do the coordination through a single URL?&#8221;, for example:</p>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">/books/search</span></code></li>
</ol>
<p>which in return searches all three stores through the server. You, of course, could but in our case it might be that you
are accessing different servers. (e.g. <a class="reference external" href="http://www.amazon.com/books/">http://www.amazon.com/books/</a> and
<a class="reference external" href="http://www.bol.com/book">http://www.bol.com/book</a> via JSON-P).</p>
<p>To give the user feedback about what&#8217;s happening with the searches they issue, we have couple of options:</p>
<p>1. We could chain the XHR requests. Once the first request has been executed we run the second and the third and then
make the call to our server.</p>
<blockquote>
<div><em>Drawback: this will take very long since you basically are executing 3 requests after each other. Imagine 2 searches
are a bit slow. This is not good.</em></div></blockquote>
<p>2. We don&#8217;t chain the requests and give each request a timeout and run the request to our server when one request is
complete.</p>
<blockquote>
<div><em>Drawback: this is probably the worst thing you can do since there is no reliable way to tell whether the other
requests executed.</em></div></blockquote>
<p>3. We use <code class="docutils literal"><span class="pre">Deferreds</span></code> to issue all the requests in parallel. As soon as all three requests have been executed we will
call our server, as in the following example:</p>
<p>Now when you look at the code, you will see that the total amount of <code class="docutils literal"><span class="pre">setTimeout</span></code> milliseconds is 1400 which is 1.4
seconds. Since we used <code class="docutils literal"><span class="pre">Deferred</span></code> we were able to bring down the waiting time to 700 ms, which is roughly what we
might expect worst-case same-domain network lag to be. Instead of having to try to serialize a group of tasks,
<code class="docutils literal"><span class="pre">DeferredList</span></code> objects let you do multiple things at once and only deal with the results.</p>
<p>To make the above example &#8220;live&#8221;, you only need to note that calls to <a class="reference internal" href="_base/xhr.html#dojo-base-xhr"><span>dojo/_base/xhr</span></a> already
returned <code class="docutils literal"><span class="pre">Deferred</span></code> instances, so a function like <code class="docutils literal"><span class="pre">searchAmazon</span></code> might be re-written as:</p>
<p>Dojo makes these patterns easy to work with, reducing the pain of asynchronous programming by using the <code class="docutils literal"><span class="pre">Deferred</span></code>
pattern ubiquitously.</p>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id7">See also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://dojotoolkit.org/documentation/tutorials/1.8/deferreds/">The Deferred Tutorial</a></li>
<li><a class="reference external" href="http://dojotoolkit.org/documentation/tutorials/1.8/promises/">The Promises Tutorial</a></li>
<li><a class="reference internal" href="_base/Deferred.html#dojo-base-deferred"><span>dojo/_base/Deferred</span></a></li>
<li><a class="reference internal" href="_base/xhr.html#dojo-base-xhr"><span>dojo/_base/xhr</span></a></li>
</ul>
</div>
</div>


      </div>
      <div class="medium-3 columns">
        <div id="toc">
            <h3>Table of Contents</h3>
            <div class="tocList"><ul>
<li><a class="reference internal" href="#">dojo/DeferredList</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>
</div>
          </div>
      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-12 columns feedback">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
    </div>
  </div>
  <div class="row full footer">
	<div class="content">
		<div class="medium-6 columns copyright">
			<span>&copy; <a href="http://dojofoundation.org">The Dojo Foundation</a>, All Rights Reserved. <a href="https://raw.githubusercontent.com/dojo/dojo/master/LICENSE" class="license">License Information</a></span>
		</div>
		<div class="medium-6 columns info">
			<span>Internet Application Management Provided By <a href="http://www.reliam.com/">Reliam, Inc.</a></span>
		</div>
	</div>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');
	</script>
</div>
  
  </body>
</html>