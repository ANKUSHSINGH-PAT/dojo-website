/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_1){if(this._hash[_1.id]){throw new Error("Tried to register widget with id=="+_1.id+" but that id is already registered");}this._hash[_1.id]=_1;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_2,_3){_3=_3||dojo.global;var i=0,id;for(id in this._hash){_2.call(_3,this._hash[id],i++,this._hash);}return this;},filter:function(_4,_5){_5=_5||dojo.global;var _6=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_4.call(_5,w,i++,this._hash)){_6.add(w);}}return _6;},byId:function(id){return this._hash[id];},byClass:function(_7){var _8=new dijit.WidgetSet(),id,_9;for(id in this._hash){_9=this._hash[id];if(_9.declaredClass==_7){_8.add(_9);}}return _8;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_a,_b){return dojo.map(this.toArray(),_a,_b);},every:function(_c,_d){_d=_d||dojo.global;var x=0,i;for(i in this._hash){if(!_c.call(_d,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_e,_f){_f=_f||dojo.global;var x=0,i;for(i in this._hash){if(_e.call(_f,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var _10=dijit.registry._hash,_11=dojo.attr,_12=dojo.hasAttr,_13=dojo.style;dijit.byId=function(id){return typeof id=="string"?_10[id]:id;};var _14={};dijit.getUniqueId=function(_15){var id;do{id=_15+"_"+(_15 in _14?++_14[_15]:_14[_15]=0);}while(_10[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(_16){var _17=[];function _18(_19){for(var _1a=_19.firstChild;_1a;_1a=_1a.nextSibling){if(_1a.nodeType==1){var _1b=_1a.getAttribute("widgetId");if(_1b){var _1c=_10[_1b];if(_1c){_17.push(_1c);}}else{_18(_1a);}}}};_18(_16);return _17;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_1d){if(!_1d._destroyed){if(_1d.destroyRecursive){_1d.destroyRecursive();}else{if(_1d.destroy){_1d.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function(_1e){return _10[_1e.getAttribute("widgetId")];};dijit.getEnclosingWidget=function(_1f){while(_1f){var id=_1f.getAttribute&&_1f.getAttribute("widgetId");if(id){return _10[id];}_1f=_1f.parentNode;}return null;};var _20=(dijit._isElementShown=function(_21){var s=_13(_21);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_11(_21,"type")!="hidden");});dijit.hasDefaultTabStop=function(_22){switch(_22.nodeName.toLowerCase()){case "a":return _12(_22,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var _23;try{var _24=_22.contentDocument;if("designMode" in _24&&_24.designMode=="on"){return true;}_23=_24.body;}catch(e1){try{_23=_22.contentWindow.document.body;}catch(e2){return false;}}return _23.contentEditable=="true"||(_23.firstChild&&_23.firstChild.contentEditable=="true");default:return _22.contentEditable=="true";}};var _25=(dijit.isTabNavigable=function(_26){if(_11(_26,"disabled")){return false;}else{if(_12(_26,"tabIndex")){return _11(_26,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(_26);}}});dijit._getTabNavigable=function(_27){var _28,_29,_2a,_2b,_2c,_2d,_2e={};function _2f(_30){return _30&&_30.tagName.toLowerCase()=="input"&&_30.type&&_30.type.toLowerCase()=="radio"&&_30.name&&_30.name.toLowerCase();};var _31=function(_32){dojo.query("> *",_32).forEach(function(_33){if((dojo.isIE&&_33.scopeName!=="HTML")||!_20(_33)){return;}if(_25(_33)){var _34=_11(_33,"tabIndex");if(!_12(_33,"tabIndex")||_34==0){if(!_28){_28=_33;}_29=_33;}else{if(_34>0){if(!_2a||_34<_2b){_2b=_34;_2a=_33;}if(!_2c||_34>=_2d){_2d=_34;_2c=_33;}}}var rn=_2f(_33);if(dojo.attr(_33,"checked")&&rn){_2e[rn]=_33;}}if(_33.nodeName.toUpperCase()!="SELECT"){_31(_33);}});};if(_20(_27)){_31(_27);}function rs(_35){return _2e[_2f(_35)]||_35;};return {first:rs(_28),last:rs(_29),lowest:rs(_2a),highest:rs(_2c)};};dijit.getFirstInTabbingOrder=function(_36){var _37=dijit._getTabNavigable(dojo.byId(_36));return _37.lowest?_37.lowest:_37.first;};dijit.getLastInTabbingOrder=function(_38){var _39=dijit._getTabNavigable(dojo.byId(_38));return _39.last?_39.last:_39.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["dojo.Stateful"]){dojo._hasResource["dojo.Stateful"]=true;dojo.provide("dojo.Stateful");dojo.declare("dojo.Stateful",null,{postscript:function(_3a){if(_3a){dojo.mixin(this,_3a);}},get:function(_3b){return this[_3b];},set:function(_3c,_3d){if(typeof _3c==="object"){for(var x in _3c){this.set(x,_3c[x]);}return this;}var _3e=this[_3c];this[_3c]=_3d;if(this._watchCallbacks){this._watchCallbacks(_3c,_3e,_3d);}return this;},watch:function(_3f,_40){var _41=this._watchCallbacks;if(!_41){var _42=this;_41=this._watchCallbacks=function(_43,_44,_45,_46){var _47=function(_48){if(_48){_48=_48.slice();for(var i=0,l=_48.length;i<l;i++){try{_48[i].call(_42,_43,_44,_45);}catch(e){console.error(e);}}}};_47(_41["_"+_43]);if(!_46){_47(_41["*"]);}};}if(!_40&&typeof _3f==="function"){_40=_3f;_3f="*";}else{_3f="_"+_3f;}var _49=_41[_3f];if(typeof _49!=="object"){_49=_41[_3f]=[];}_49.push(_40);return {unwatch:function(){_49.splice(dojo.indexOf(_49,_40),1);}};}});}if(!dojo._hasResource["dijit._WidgetBase"]){dojo._hasResource["dijit._WidgetBase"]=true;dojo.provide("dijit._WidgetBase");(function(){dojo.declare("dijit._WidgetBase",dojo.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_4a,_4b){this.create(_4a,_4b);},create:function(_4c,_4d){this.srcNodeRef=dojo.byId(_4d);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_4c){this.params=_4c;dojo._mixin(this,_4c);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _4e=this.srcNodeRef;if(_4e&&_4e.parentNode&&this.domNode!==_4e){_4e.parentNode.replaceChild(this.domNode,_4e);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _4f=function(_50,_51){if((_51.params&&_50 in _51.params)||_51[_50]){_51.set(_50,_51[_50]);}};for(var _52 in this.attributeMap){_4f(_52,this);}dojo.forEach(this._getSetterAttributes(),function(a){if(!(a in this.attributeMap)){_4f(a,this);}},this);},_getSetterAttributes:function(){var _53=this.constructor;if(!_53._setterAttrs){var r=(_53._setterAttrs=[]),_54,_55=_53.prototype;for(var _56 in _55){if(dojo.isFunction(_55[_56])&&(_54=_56.match(/^_set([a-zA-Z]*)Attr$/))&&_54[1]){r.push(_54[1].charAt(0).toLowerCase()+_54[1].substr(1));}}}return _53._setterAttrs;},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||dojo.create("div");}if(this.baseClass){var _57=this.baseClass.split(" ");if(!this.isLeftToRight()){_57=_57.concat(dojo.map(_57,function(_58){return _58+"Rtl";}));}dojo.addClass(this.domNode,_57);}},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_59){this._beingDestroyed=true;this.destroyDescendants(_59);this.destroy(_59);},destroy:function(_5a){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_5b){dfe(_5b,d.disconnect);});dfe(this._subscribes,function(_5c){dun(_5c);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_5a);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_5d){if(this.bgIframe){this.bgIframe.destroy(_5d);delete this.bgIframe;}if(this.domNode){if(_5d){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_5d){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_5e){dojo.forEach(this.getChildren(),function(_5f){if(_5f.destroyRecursive){_5f.destroyRecursive(_5e);}});},uninitialize:function(){return false;},_setClassAttr:function(_60){var _61=this[this.attributeMap["class"]||"domNode"];dojo.replaceClass(_61,_60,this["class"]);this._set("class",_60);},_setStyleAttr:function(_62){var _63=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_62)){dojo.style(_63,_62);}else{if(_63.style.cssText){_63.style.cssText+="; "+_62;}else{_63.style.cssText=_62;}}this._set("style",_62);},_attrToDom:function(_64,_65){var _66=this.attributeMap[_64];dojo.forEach(dojo.isArray(_66)?_66:[_66],function(_67){var _68=this[_67.node||_67||"domNode"];var _69=_67.type||"attribute";switch(_69){case "attribute":if(dojo.isFunction(_65)){_65=dojo.hitch(this,_65);}var _6a=_67.attribute?_67.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_64)?_64.toLowerCase():_64);dojo.attr(_68,_6a,_65);break;case "innerText":_68.innerHTML="";_68.appendChild(dojo.doc.createTextNode(_65));break;case "innerHTML":_68.innerHTML=_65;break;case "class":dojo.replaceClass(_68,_65,this[_64]);break;}},this);},get:function(_6b){var _6c=this._getAttrNames(_6b);return this[_6c.g]?this[_6c.g]():this[_6b];},set:function(_6d,_6e){if(typeof _6d==="object"){for(var x in _6d){this.set(x,_6d[x]);}return this;}var _6f=this._getAttrNames(_6d);if(this[_6f.s]){var _70=this[_6f.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(_6d in this.attributeMap){this._attrToDom(_6d,_6e);}this._set(_6d,_6e);}return _70||this;},_attrPairNames:{},_getAttrNames:function(_71){var apn=this._attrPairNames;if(apn[_71]){return apn[_71];}var uc=_71.charAt(0).toUpperCase()+_71.substr(1);return (apn[_71]={n:_71+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(_72,_73){var _74=this[_72];this[_72]=_73;if(this._watchCallbacks&&this._created&&_73!==_74){this._watchCallbacks(_72,_74,_73);}},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},connect:function(obj,_75,_76){var _77=[dojo._connect(obj,_75,this,_76)];this._connects.push(_77);return _77;},disconnect:function(_78){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_78){dojo.forEach(_78,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_79,_7a){var _7b=dojo.subscribe(_79,this,_7a);this._subscribes.push(_7b);return _7b;},unsubscribe:function(_7c){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_7c){dojo.unsubscribe(_7c);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},placeAt:function(_7d,_7e){if(_7d.declaredClass&&_7d.addChild){_7d.addChild(this,_7e);}else{dojo.place(this.domNode,_7d,_7e);}return this;}});})();}if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.getObject("window",true,dojo);dojo.window.getBox=function(){var _7f=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _80=dojo._docScroll();return {w:_7f.clientWidth,h:_7f.clientHeight,l:_80.x,t:_80.y};};dojo.window.get=function(doc){if(dojo.isIE&&window!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};dojo.window.scrollIntoView=function(_81,pos){try{_81=dojo.byId(_81);var doc=_81.ownerDocument||dojo.doc,_82=doc.body||dojo.body(),_83=doc.documentElement||_82.parentNode,_84=dojo.isIE,_85=dojo.isWebKit;if((!(dojo.isMoz||_84||_85||dojo.isOpera)||_81==_82||_81==_83)&&(typeof _81.scrollIntoView!="undefined")){_81.scrollIntoView(false);return;}var _86=doc.compatMode=="BackCompat",_87=_86?_82:_83,_88=_85?_82:_87,_89=_87.clientWidth,_8a=_87.clientHeight,rtl=!dojo._isBodyLtr(),_8b=pos||dojo.position(_81),el=_81.parentNode,_8c=function(el){return ((_84<=6||(_84&&_86))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_8c(_81)){return;}while(el){if(el==_82){el=_88;}var _8d=dojo.position(el),_8e=_8c(el);if(el==_88){_8d.w=_89;_8d.h=_8a;if(_88==_83&&_84&&rtl){_8d.x+=_88.offsetWidth-_8d.w;}if(_8d.x<0||!_84){_8d.x=0;}if(_8d.y<0||!_84){_8d.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_8d.w-=pb.w;_8d.h-=pb.h;_8d.x+=pb.l;_8d.y+=pb.t;}if(el!=_88){var _8f=el.clientWidth,_90=_8d.w-_8f;if(_8f>0&&_90>0){_8d.w=_8f;if(_84&&rtl){_8d.x+=_90;}}_8f=el.clientHeight;_90=_8d.h-_8f;if(_8f>0&&_90>0){_8d.h=_8f;}}if(_8e){if(_8d.y<0){_8d.h+=_8d.y;_8d.y=0;}if(_8d.x<0){_8d.w+=_8d.x;_8d.x=0;}if(_8d.y+_8d.h>_8a){_8d.h=_8a-_8d.y;}if(_8d.x+_8d.w>_89){_8d.w=_89-_8d.x;}}var l=_8b.x-_8d.x,t=_8b.y-Math.max(_8d.y,0),r=l+_8b.w-_8d.w,bot=t+_8b.h-_8d.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);_8b.x+=el.scrollLeft;el.scrollLeft+=(_84>=8&&!_86&&rtl)?-s:s;_8b.x-=el.scrollLeft;}if(bot*t>0){_8b.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_8b.y-=el.scrollTop;}el=(el!=_88)&&!_8e&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_81.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_91){var _92=dojo.doc,_93=_91.mark;if(_93){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(_93.pRange){var r=_93;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(_93);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_92.selection&&_93){var rg;if(_93.pRange){rg=_93.range;}else{if(dojo.isArray(_93)){rg=_92.body.createControlRange();dojo.forEach(_93,function(n){rg.addElement(n);});}else{rg=_92.body.createTextRange();rg.moveToBookmark(_93);}}rg.select();}}}},getFocus:function(_94,_95){var _96=!dijit._curFocus||(_94&&dojo.isDescendant(dijit._curFocus,_94.domNode))?dijit._prevFocus:dijit._curFocus;return {node:_96,bookmark:(_96==dijit._curFocus)&&dojo.withGlobal(_95||dojo.global,dijit.getBookmark),openedForWindow:_95};},focus:function(_97){if(!_97){return;}var _98="node" in _97?_97.node:_97,_99=_97.bookmark,_9a=_97.openedForWindow,_9b=_99?_99.isCollapsed:false;if(_98){var _9c=(_98.tagName.toLowerCase()=="iframe")?_98.contentWindow:_98;if(_9c&&_9c.focus){try{_9c.focus();}catch(e){}}dijit._onFocusNode(_98);}if(_99&&dojo.withGlobal(_9a||dojo.global,dijit.isCollapsed)&&!_9b){if(_9a){_9a.focus();}try{dojo.withGlobal(_9a||dojo.global,dijit.moveToBookmark,null,[_99]);}catch(e2){}}},_activeStack:[],registerIframe:function(_9d){return dijit.registerWin(_9d.contentWindow,_9d);},unregisterIframe:function(_9e){dijit.unregisterWin(_9e);},registerWin:function(_9f,_a0){var _a1=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_a0||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_9f.document.documentElement:_9f.document;if(doc){if(dojo.isIE){_9f.document.body.attachEvent("onmousedown",_a1);var _a2=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_a0||evt.srcElement);}else{dijit._onTouchNode(_a0||evt.srcElement);}};doc.attachEvent("onactivate",_a2);var _a3=function(evt){dijit._onBlurNode(_a0||evt.srcElement);};doc.attachEvent("ondeactivate",_a3);return function(){_9f.document.detachEvent("onmousedown",_a1);doc.detachEvent("onactivate",_a2);doc.detachEvent("ondeactivate",_a3);doc=null;};}else{doc.body.addEventListener("mousedown",_a1,true);var _a4=function(evt){dijit._onFocusNode(_a0||evt.target);};doc.addEventListener("focus",_a4,true);var _a5=function(evt){dijit._onBlurNode(_a0||evt.target);};doc.addEventListener("blur",_a5,true);return function(){doc.body.removeEventListener("mousedown",_a1,true);doc.removeEventListener("focus",_a4,true);doc.removeEventListener("blur",_a5,true);doc=null;};}}},unregisterWin:function(_a6){_a6&&_a6();},_onBlurNode:function(_a7){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_a8,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _a9=[];try{while(_a8){var _aa=dojo.attr(_a8,"dijitPopupParent");if(_aa){_a8=dijit.byId(_aa).domNode;}else{if(_a8.tagName&&_a8.tagName.toLowerCase()=="body"){if(_a8===dojo.body()){break;}_a8=dojo.window.get(_a8.ownerDocument).frameElement;}else{var id=_a8.getAttribute&&_a8.getAttribute("widgetId"),_ab=id&&dijit.byId(id);if(_ab&&!(by=="mouse"&&_ab.get("disabled"))){_a9.unshift(id);}_a8=_a8.parentNode;}}}}catch(e){}dijit._setStack(_a9,by);},_onFocusNode:function(_ac){if(!_ac){return;}if(_ac.nodeType==9){return;}dijit._onTouchNode(_ac);if(_ac==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_ac;dojo.publish("focusNode",[_ac]);},_setStack:function(_ad,by){var _ae=dijit._activeStack;dijit._activeStack=_ad;for(var _af=0;_af<Math.min(_ae.length,_ad.length);_af++){if(_ae[_af]!=_ad[_af]){break;}}var _b0;for(var i=_ae.length-1;i>=_af;i--){_b0=dijit.byId(_ae[i]);if(_b0){_b0._focused=false;_b0.set("focused",false);_b0._hasBeenBlurred=true;if(_b0._onBlur){_b0._onBlur(by);}dojo.publish("widgetBlur",[_b0,by]);}}for(i=_af;i<_ad.length;i++){_b0=dijit.byId(_ad[i]);if(_b0){_b0._focused=true;_b0.set("focused",true);if(_b0._onFocus){_b0._onFocus(by);}dojo.publish("widgetFocus",[_b0,by]);}}}});dojo.addOnLoad(function(){var _b1=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_b1);_b1=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_b2){this.pairs=[];this.returnWrappers=_b2||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_b3,_b4,_b5,_b6,_b7){this.pairs[((_b7)?"unshift":"push")]([_b3,_b4,_b5,_b6]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _b8=this.pairs[i];if(_b8[1].apply(this,arguments)){if((_b8[3])||(this.returnWrappers)){return _b8[2];}else{return _b8[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_b9){for(var i=0;i<this.pairs.length;i++){var _ba=this.pairs[i];if(_ba[0]==_b9){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){return dojo.window.getBox();};dijit.placeOnScreen=function(_bb,pos,_bc,_bd){var _be=dojo.map(_bc,function(_bf){var c={corner:_bf,pos:{x:pos.x,y:pos.y}};if(_bd){c.pos.x+=_bf.charAt(1)=="L"?_bd.x:-_bd.x;c.pos.y+=_bf.charAt(0)=="T"?_bd.y:-_bd.y;}return c;});return dijit._place(_bb,_be);};dijit._place=function(_c0,_c1,_c2,_c3){var _c4=dojo.window.getBox();if(!_c0.parentNode||String(_c0.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_c0);}var _c5=null;dojo.some(_c1,function(_c6){var _c7=_c6.corner;var pos=_c6.pos;var _c8=0;var _c9={w:_c7.charAt(1)=="L"?(_c4.l+_c4.w)-pos.x:pos.x-_c4.l,h:_c7.charAt(1)=="T"?(_c4.t+_c4.h)-pos.y:pos.y-_c4.t};if(_c2){var res=_c2(_c0,_c6.aroundCorner,_c7,_c9,_c3);_c8=typeof res=="undefined"?0:res;}var _ca=_c0.style;var _cb=_ca.display;var _cc=_ca.visibility;_ca.visibility="hidden";_ca.display="";var mb=dojo.marginBox(_c0);_ca.display=_cb;_ca.visibility=_cc;var _cd=Math.max(_c4.l,_c7.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_ce=Math.max(_c4.t,_c7.charAt(0)=="T"?pos.y:(pos.y-mb.h)),_cf=Math.min(_c4.l+_c4.w,_c7.charAt(1)=="L"?(_cd+mb.w):pos.x),_d0=Math.min(_c4.t+_c4.h,_c7.charAt(0)=="T"?(_ce+mb.h):pos.y),_d1=_cf-_cd,_d2=_d0-_ce;_c8+=(mb.w-_d1)+(mb.h-_d2);if(_c5==null||_c8<_c5.overflow){_c5={corner:_c7,aroundCorner:_c6.aroundCorner,x:_cd,y:_ce,w:_d1,h:_d2,overflow:_c8,spaceAvailable:_c9};}return !_c8;});if(_c5.overflow&&_c2){_c2(_c0,_c5.aroundCorner,_c5.corner,_c5.spaceAvailable,_c3);}var l=dojo._isBodyLtr(),s=_c0.style;s.top=_c5.y+"px";s[l?"left":"right"]=(l?_c5.x:_c4.w-_c5.x-_c5.w)+"px";return _c5;};dijit.placeOnScreenAroundNode=function(_d3,_d4,_d5,_d6){_d4=dojo.byId(_d4);var _d7=dojo.position(_d4,true);return dijit._placeOnScreenAroundRect(_d3,_d7.x,_d7.y,_d7.w,_d7.h,_d5,_d6);};dijit.placeOnScreenAroundRectangle=function(_d8,_d9,_da,_db){return dijit._placeOnScreenAroundRect(_d8,_d9.x,_d9.y,_d9.width,_d9.height,_da,_db);};dijit._placeOnScreenAroundRect=function(_dc,x,y,_dd,_de,_df,_e0){var _e1=[];for(var _e2 in _df){_e1.push({aroundCorner:_e2,corner:_df[_e2],pos:{x:x+(_e2.charAt(1)=="L"?0:_dd),y:y+(_e2.charAt(0)=="T"?0:_de)}});}return dijit._place(_dc,_e1,_e0,{w:_dd,h:_de});};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(_e3,_e4,_e5,_e6){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function(_e7,_e8){var _e9={};dojo.forEach(_e7,function(pos){switch(pos){case "after":_e9[_e8?"BR":"BL"]=_e8?"BL":"BR";break;case "before":_e9[_e8?"BL":"BR"]=_e8?"BR":"BL";break;case "below-alt":_e8=!_e8;case "below":_e9[_e8?"BL":"BR"]=_e8?"TL":"TR";_e9[_e8?"BR":"BL"]=_e8?"TR":"TL";break;case "above-alt":_e8=!_e8;case "above":default:_e9[_e8?"TL":"TR"]=_e8?"BL":"BR";_e9[_e8?"TR":"TL"]=_e8?"BR":"BL";break;}});return _e9;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_ea){var _eb=_ea.declaredClass?_ea._popupWrapper:(dojo.hasClass(_ea.parentNode,"dijitPopup")&&_ea.parentNode),_ec=_ea.domNode||_ea;if(!_eb){_eb=dojo.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},dojo.body());_eb.appendChild(_ec);var s=_ec.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_ea.declaredClass){_ea._popupWrapper=_eb;dojo.connect(_ea,"destroy",function(){dojo.destroy(_eb);delete _ea._popupWrapper;});}}return _eb;},moveOffScreen:function(_ed){var _ee=this._createWrapper(_ed);dojo.style(_ee,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_ef){var _f0=this._createWrapper(_ef);dojo.style(_f0,"display","none");},getTopPopup:function(){var _f1=this._stack;for(var pi=_f1.length-1;pi>0&&_f1[pi].parent===_f1[pi-1].widget;pi--){}return _f1[pi];},open:function(_f2){var _f3=this._stack,_f4=_f2.popup,_f5=_f2.orient||((_f2.parent?_f2.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_f6=_f2.around,id=(_f2.around&&_f2.around.id)?(_f2.around.id+"_dropdown"):("popup_"+this._idGen++);while(_f3.length&&(!_f2.parent||!dojo.isDescendant(_f2.parent.domNode,_f3[_f3.length-1].widget.domNode))){dijit.popup.close(_f3[_f3.length-1].widget);}var _f7=this._createWrapper(_f4);dojo.attr(_f7,{id:id,style:{zIndex:this._beginZIndex+_f3.length},"class":"dijitPopup "+(_f4.baseClass||_f4["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:_f2.parent?_f2.parent.id:""});if(dojo.isIE||dojo.isMoz){if(!_f4.bgIframe){_f4.bgIframe=new dijit.BackgroundIframe(_f7);}}var _f8=_f6?dijit.placeOnScreenAroundElement(_f7,_f6,_f5,_f4.orient?dojo.hitch(_f4,"orient"):null):dijit.placeOnScreen(_f7,_f2,_f5=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_f2.padding);_f7.style.display="";_f7.style.visibility="visible";_f4.domNode.style.visibility="visible";var _f9=[];_f9.push(dojo.connect(_f7,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_f2.onCancel){dojo.stopEvent(evt);_f2.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _fa=this.getTopPopup();if(_fa&&_fa.onCancel){_fa.onCancel();}}}}));if(_f4.onCancel){_f9.push(dojo.connect(_f4,"onCancel",_f2.onCancel));}_f9.push(dojo.connect(_f4,_f4.onExecute?"onExecute":"onChange",this,function(){var _fb=this.getTopPopup();if(_fb&&_fb.onExecute){_fb.onExecute();}}));_f3.push({widget:_f4,parent:_f2.parent,onExecute:_f2.onExecute,onCancel:_f2.onCancel,onClose:_f2.onClose,handlers:_f9});if(_f4.onOpen){_f4.onOpen(_f8);}return _f8;},close:function(_fc){var _fd=this._stack;while((_fc&&dojo.some(_fd,function(_fe){return _fe.widget==_fc;}))||(!_fc&&_fd.length)){var top=_fd.pop(),_ff=top.widget,_100=top.onClose;if(_ff.onClose){_ff.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_ff&&_ff.domNode){this.hide(_ff);}if(_100){_100();}}}};dijit._frames=new function(){var _101=[];this.pop=function(){var _102;if(_101.length){_102=_101.pop();_102.style.display="";}else{if(dojo.isIE<9){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_102=dojo.doc.createElement(html);}else{_102=dojo.create("iframe");_102.src="javascript:\"\"";_102.className="dijitBackgroundIframe";dojo.style(_102,"opacity",0.1);}_102.tabIndex=-1;dijit.setWaiRole(_102,"presentation");}return _102;};this.push=function(_103){_103.style.display="none";_101.push(_103);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _104=(this.iframe=dijit._frames.pop());node.appendChild(_104);if(dojo.isIE<7||dojo.isQuirks){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_104,{width:"100%",height:"100%"});}}};dojo.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node,pos){dojo.window.scrollIntoView(node,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_105=d.isOpera,maj=Math.floor,ff=d.isFF,_106=d.boxModel.replace(/-/,""),_107={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_ie9:maj(ie)==9,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_105,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_107["dj_"+_106]=true;var _108="";for(var clz in _107){if(_107[clz]){_108+=clz+" ";}}html.className=d.trim(html.className+" "+_108);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _109="dj_rtl dijitRtl "+_108.replace(/ /g,"-rtl ");html.className=d.trim(html.className+" "+_109);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_10a,node,_10b,obj,_10c,_10d,_10e){if(obj!=this._obj){this.stop();this._initialDelay=_10d||500;this._subsequentDelay=_10c||0.9;this._minDelay=_10e||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_10a,_10b);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_10f,_110,_111,_112,_113,_114){if(_10f.keyCode){_10f.charOrCode=_10f.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_10f.charCode){_10f.charOrCode=String.fromCharCode(_10f.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_10f.charOrCode&&(_10f.ctrlKey===undefined||_10f.ctrlKey==evt.ctrlKey)&&(_10f.altKey===undefined||_10f.altKey==evt.altKey)&&(_10f.metaKey===undefined||_10f.metaKey==(evt.metaKey||false))&&(_10f.shiftKey===undefined||_10f.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_110,node,_111,_10f,_112,_113,_114);}else{if(dijit.typematic._obj==_10f){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_10f){dijit.typematic.stop();}})];},addMouseListener:function(node,_115,_116,_117,_118,_119){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_115,node,_116,node,_117,_118,_119);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){evt.preventDefault();}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_115,node,_116,node,_117,_118,_119);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_11a,_11b,_11c,_11d,_11e,_11f,_120,_121){return this.addKeyListener(_11b,_11c,_11d,_11e,_11f,_120,_121).concat(this.addMouseListener(_11a,_11d,_11e,_11f,_120,_121));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _122=cs.backgroundImage;var _123=(cs.borderTopColor==cs.borderRightColor)||(_122!=null&&(_122=="none"||_122=="url(invalid-url:)"));dojo[_123?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{hasWaiRole:function(elem,role){var _124=this.getWaiRole(elem);return role?(_124.indexOf(role)>-1):(_124.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){dojo.attr(elem,"role",role);},removeWaiRole:function(elem,role){var _125=dojo.attr(elem,"role");if(!_125){return;}if(role){var t=dojo.trim((" "+_125+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_126){return elem.hasAttribute?elem.hasAttribute("aria-"+_126):!!elem.getAttribute("aria-"+_126);},getWaiState:function(elem,_127){return elem.getAttribute("aria-"+_127)||"";},setWaiState:function(elem,_128,_129){elem.setAttribute("aria-"+_128,_129);},removeWaiState:function(elem,_12a){elem.removeAttribute("aria-"+_12a);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.connect(dojo,"_connect",function(_12b,_12c){if(_12b&&dojo.isFunction(_12b._onConnect)){_12b._onConnect(_12c);}});dijit._connectOnUseEventHandler=function(_12d){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _12e=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_12e);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_12e);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){dojo.declare("dijit._Widget",dijit._WidgetBase,{_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,create:function(_12f,_130){this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}this.inherited(arguments);if(this.domNode){for(attr in this.params){this._onConnect(attr);}}},_onConnect:function(_131){if(_131 in this._deferredConnects){var _132=this[this._deferredConnects[_131]||"domNode"];this.connect(_132,_131.toLowerCase(),_131);delete this._deferredConnects[_131];}},focused:false,isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},setAttribute:function(attr,_133){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_133);},attr:function(name,_134){if(dojo.config.isDebug){var _135=arguments.callee._ach||(arguments.callee._ach={}),_136=(arguments.callee.caller||"unknown caller").toString();if(!_135[_136]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_136,"","2.0");_135[_136]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},nodesWithKeyClick:["input","button"],connect:function(obj,_137,_138){var d=dojo,dc=d._connect,_139=this.inherited(arguments,[obj,_137=="ondijitclick"?"onclick":_137,_138]);if(_137=="ondijitclick"){if(d.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_138);_139.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;if(!("openDropDown" in this&&obj==this._buttonNode)){e.preventDefault();}}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target==dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}}return _139;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.getObject("string",true,dojo);dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_13a,map,_13b,_13c){_13c=_13c||dojo.global;_13b=_13b?dojo.hitch(_13c,_13b):function(v){return v;};return _13a.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_13d,key,_13e){var _13f=dojo.getObject(key,false,map);if(_13e){_13f=dojo.getObject(_13e,false,_13c).call(_13c,_13f,key);}return _13b(_13f,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function(_140,_141){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _142=dojo.date.stamp._isoRegExp.exec(_140),_143=null;if(_142){_142.shift();if(_142[1]){_142[1]--;}if(_142[6]){_142[6]*=1000;}if(_141){_141=new Date(_141);dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _141["get"+prop]();}),function(_144,_145){_142[_145]=_142[_145]||_144;});}_143=new Date(_142[0]||1970,_142[1]||0,_142[2]||1,_142[3]||0,_142[4]||0,_142[5]||0,_142[6]||0);if(_142[0]<100){_143.setFullYear(_142[0]||1970);}var _146=0,_147=_142[7]&&_142[7].charAt(0);if(_147!="Z"){_146=((_142[8]||0)*60)+(Number(_142[9])||0);if(_147!="-"){_146*=-1;}}if(_147){_146-=_143.getTimezoneOffset();}if(_146){_143.setTime(_143.getTime()+_146*60000);}}return _143;};dojo.date.stamp.toISOString=function(_148,_149){var _14a=function(n){return (n<10)?"0"+n:n;};_149=_149||{};var _14b=[],_14c=_149.zulu?"getUTC":"get",date="";if(_149.selector!="time"){var year=_148[_14c+"FullYear"]();date=["0000".substr((year+"").length)+year,_14a(_148[_14c+"Month"]()+1),_14a(_148[_14c+"Date"]())].join("-");}_14b.push(date);if(_149.selector!="date"){var time=[_14a(_148[_14c+"Hours"]()),_14a(_148[_14c+"Minutes"]()),_14a(_148[_14c+"Seconds"]())].join(":");var _14d=_148[_14c+"Milliseconds"]();if(_149.milliseconds){time+="."+(_14d<100?"0":"")+_14a(_14d);}if(_149.zulu){time+="Z";}else{if(_149.selector!="time"){var _14e=_148.getTimezoneOffset();var _14f=Math.abs(_14e);time+=(_14e>0?"-":"+")+_14a(Math.floor(_14f/60))+":"+_14a(_14f%60);}}_14b.push(time);}return _14b.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");new Date("X");dojo.parser=new function(){var d=dojo;function _150(_151){if(d.isString(_151)){return "string";}if(typeof _151=="number"){return "number";}if(typeof _151=="boolean"){return "boolean";}if(d.isFunction(_151)){return "function";}if(d.isArray(_151)){return "array";}if(_151 instanceof Date){return "date";}if(_151 instanceof d._Url){return "url";}return "object";};function _152(_153,type){switch(type){case "string":return _153;case "number":return _153.length?Number(_153):NaN;case "boolean":return typeof _153=="boolean"?_153:!(_153.toLowerCase()=="false");case "function":if(d.isFunction(_153)){_153=_153.toString();_153=d.trim(_153.substring(_153.indexOf("{")+1,_153.length-1));}try{if(_153===""||_153.search(/[^\w\.]+/i)!=-1){return new Function(_153);}else{return d.getObject(_153,false)||new Function(_153);}}catch(e){return new Function();}case "array":return _153?_153.split(/\s*,\s*/):[];case "date":switch(_153){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_153);}case "url":return d.baseUrl+_153;default:return d.fromJson(_153);}};var _154={},_155={};d.connect(d,"extend",function(){_155={};});function _156(cls,_157){for(var name in cls){if(name.charAt(0)=="_"){continue;}if(name in _154){continue;}_157[name]=_150(cls[name]);}return _157;};function _158(_159,_15a){var c=_155[_159];if(!c){var cls=d.getObject(_159),_15b=null;if(!cls){return null;}if(!_15a){_15b=_156(cls.prototype,{});}c={cls:cls,params:_15b};}else{if(!_15a&&!c.params){c.params=_156(c.cls.prototype,{});}}return c;};this._functionFromScript=function(_15c,_15d){var _15e="";var _15f="";var _160=(_15c.getAttribute(_15d+"args")||_15c.getAttribute("args"));if(_160){d.forEach(_160.split(/\s*,\s*/),function(part,idx){_15e+="var "+part+" = arguments["+idx+"]; ";});}var _161=_15c.getAttribute("with");if(_161&&_161.length){d.forEach(_161.split(/\s*,\s*/),function(part){_15e+="with("+part+"){";_15f+="}";});}return new Function(_15e+_15c.innerHTML+_15f);};this.instantiate=function(_162,_163,args){var _164=[],_163=_163||{};args=args||{};var _165=(args.scope||d._scopeName)+"Type",_166="data-"+(args.scope||d._scopeName)+"-";d.forEach(_162,function(obj){if(!obj){return;}var node,type,_167,_168,_169,_16a;if(obj.node){node=obj.node;type=obj.type;_16a=obj.fastpath;_167=obj.clsInfo||(type&&_158(type,_16a));_168=_167&&_167.cls;_169=obj.scripts;}else{node=obj;type=_165 in _163?_163[_165]:node.getAttribute(_165);_167=type&&_158(type);_168=_167&&_167.cls;_169=(_168&&(_168._noScript||_168.prototype._noScript)?[]:d.query("> script[type^='dojo/']",node));}if(!_167){throw new Error("Could not load class '"+type);}var _16b={};if(args.defaults){d._mixin(_16b,args.defaults);}if(obj.inherited){d._mixin(_16b,obj.inherited);}if(_16a){var _16c=node.getAttribute(_166+"props");if(_16c&&_16c.length){try{_16c=d.fromJson.call(args.propsThis,"{"+_16c+"}");d._mixin(_16b,_16c);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_16c+"'");}}var _16d=node.getAttribute(_166+"attach-point");if(_16d){_16b.dojoAttachPoint=_16d;}var _16e=node.getAttribute(_166+"attach-event");if(_16e){_16b.dojoAttachEvent=_16e;}dojo.mixin(_16b,_163);}else{var _16f=node.attributes;for(var name in _167.params){var item=name in _163?{value:_163[name],specified:true}:_16f.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _170=item.value;switch(name){case "class":_170="className" in _163?_163.className:node.className;break;case "style":_170="style" in _163?_163.style:(node.style&&node.style.cssText);}var _171=_167.params[name];if(typeof _170=="string"){_16b[name]=_152(_170,_171);}else{_16b[name]=_170;}}}var _172=[],_173=[];d.forEach(_169,function(_174){node.removeChild(_174);var _175=(_174.getAttribute(_166+"event")||_174.getAttribute("event")),type=_174.getAttribute("type"),nf=d.parser._functionFromScript(_174,_166);if(_175){if(type=="dojo/connect"){_172.push({event:_175,func:nf});}else{_16b[_175]=nf;}}else{_173.push(nf);}});var _176=_168.markupFactory||_168.prototype&&_168.prototype.markupFactory;var _177=_176?_176(_16b,node,_168):new _168(_16b,node);_164.push(_177);var _178=(node.getAttribute(_166+"id")||node.getAttribute("jsId"));if(_178){d.setObject(_178,_177);}d.forEach(_172,function(_179){d.connect(_177,_179.event,null,_179.func);});d.forEach(_173,function(func){func.call(_177);});});if(!_163._started){d.forEach(_164,function(_17a){if(!args.noStart&&_17a&&dojo.isFunction(_17a.startup)&&!_17a._started&&(!_17a.getParent||!_17a.getParent())){_17a.startup();}});}return _164;};this.parse=function(_17b,args){var root;if(!args&&_17b&&_17b.rootNode){args=_17b;root=args.rootNode;}else{root=_17b;}args=args||{};var _17c=(args.scope||d._scopeName)+"Type",_17d="data-"+(args.scope||d._scopeName)+"-";function scan(_17e,list){var _17f=dojo.clone(_17e.inherited);dojo.forEach(["dir","lang"],function(name){var val=_17e.node.getAttribute(name);if(val){_17f[name]=val;}});var _180=_17e.clsInfo&&!_17e.clsInfo.cls.prototype._noScript?_17e.scripts:null;var _181=(!_17e.clsInfo||!_17e.clsInfo.cls.prototype.stopParser)||(args&&args.template);for(var _182=_17e.node.firstChild;_182;_182=_182.nextSibling){if(_182.nodeType==1){var type,_183=_181&&_182.getAttribute(_17d+"type");if(_183){type=_183;}else{type=_181&&_182.getAttribute(_17c);}var _184=_183==type;if(type){var _185={"type":type,fastpath:_184,clsInfo:_158(type,_184),node:_182,scripts:[],inherited:_17f};list.push(_185);scan(_185,list);}else{if(_180&&_182.nodeName.toLowerCase()=="script"){type=_182.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_180.push(_182);}}else{if(_181){scan({node:_182,inherited:_17f},list);}}}}}};var list=[];scan({node:root?dojo.byId(root):dojo.body(),inherited:(args&&args.inherited)||{dir:dojo._isBodyLtr()?"ltr":"rtl"}},list);var _186=args&&args.template?{template:true}:null;return this.instantiate(list,_186,args);};}();(function(){var _187=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.getObject("dijit.wai.onload")===dojo._loaders[0]){dojo._loaders.splice(1,0,_187);}else{dojo._loaders.unshift(_187);}})();}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");var cache={};dojo.cache=function(_188,url,_189){if(typeof _188=="string"){var _18a=dojo.moduleUrl(_188,url);}else{_18a=_188;_189=url;}var key=_18a.toString();var val=_189;if(_189!=undefined&&!dojo.isString(_189)){val=("value" in _189?_189.value:undefined);}var _18b=_189&&_189.sanitize?true:false;if(typeof val=="string"){val=cache[key]=_18b?dojo.cache._sanitize(val):val;}else{if(val===null){delete cache[key];}else{if(!(key in cache)){val=dojo._getText(key);cache[key]=_18b?dojo.cache._sanitize(val):val;}val=cache[key];}}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _18c=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_18c){val=_18c[1];}}else{val="";}return val;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _18d=this.declaredClass,_18e=this;return dojo.string.substitute(tmpl,this,function(_18f,key){if(key.charAt(0)=="!"){_18f=dojo.getObject(key.substr(1),false,_18e);}if(typeof _18f=="undefined"){throw new Error(_18d+" template:"+key);}if(_18f==null){return "";}return key.charAt(0)=="!"?_18f:_18f.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _190=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_190)){node=dojo._toDom(this._stringRepl(_190));if(node.nodeType!=1){throw new Error("Invalid template: "+_190);}}else{node=_190.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"}));this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_191){var dest=this.containerNode;if(_191&&dest){while(_191.hasChildNodes()){dest.appendChild(_191.firstChild);}}},_attachTemplateNodes:function(_192,_193){_193=_193||function(n,p){return n.getAttribute(p);};var _194=dojo.isArray(_192)?_192:(_192.all||_192.getElementsByTagName("*"));var x=dojo.isArray(_192)?0:-1;for(;x<_194.length;x++){var _195=(x==-1)?_192:_194[x];if(this.widgetsInTemplate&&(_193(_195,"dojoType")||_193(_195,"data-dojo-type"))){continue;}var _196=_193(_195,"dojoAttachPoint")||_193(_195,"data-dojo-attach-point");if(_196){var _197,_198=_196.split(/\s*,\s*/);while((_197=_198.shift())){if(dojo.isArray(this[_197])){this[_197].push(_195);}else{this[_197]=_195;}this._attachPoints.push(_197);}}var _199=_193(_195,"dojoAttachEvent")||_193(_195,"data-dojo-attach-event");if(_199){var _19a,_19b=_199.split(/\s*,\s*/);var trim=dojo.trim;while((_19a=_19b.shift())){if(_19a){var _19c=null;if(_19a.indexOf(":")!=-1){var _19d=_19a.split(":");_19a=trim(_19d[0]);_19c=trim(_19d[1]);}else{_19a=trim(_19a);}if(!_19c){_19c=_19a;}this._attachEvents.push(this.connect(_195,_19a,_19c));}}}var role=_193(_195,"waiRole");if(role){dijit.setWaiRole(_195,role);}var _19e=_193(_195,"waiState");if(_19e){dojo.forEach(_19e.split(/\s*,\s*/),function(_19f){if(_19f.indexOf("-")!=-1){var pair=_19f.split("-");dijit.setWaiState(_195,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_1a0){delete this[_1a0];},this);this._attachPoints=[];dojo.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_1a1,_1a2,_1a3){var _1a4=dijit._Templated._templateCache;var key=_1a2||_1a1;var _1a5=_1a4[key];if(_1a5){try{if(!_1a5.ownerDocument||_1a5.ownerDocument==dojo.doc){return _1a5;}}catch(e){}dojo.destroy(_1a5);}if(!_1a2){_1a2=dojo.cache(_1a1,{sanitize:true});}_1a2=dojo.string.trim(_1a2);if(_1a3||_1a2.match(/\$\{([^\}]+)\}/g)){return (_1a4[key]=_1a2);}else{var node=dojo._toDom(_1a2);if(node.nodeType!=1){throw new Error("Invalid template: "+_1a2);}return (_1a4[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _1a6=dijit._Templated._templateCache;for(var key in _1a6){var _1a7=_1a6[key];if(typeof _1a7=="object"){dojo.destroy(_1a7);}delete _1a6[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dojox.string.Builder"]){dojo._hasResource["dojox.string.Builder"]=true;dojo.provide("dojox.string.Builder");dojox.string.Builder=function(str){var b="";this.length=0;this.append=function(s){if(arguments.length>1){var tmp="",l=arguments.length;switch(l){case 9:tmp=""+arguments[8]+tmp;case 8:tmp=""+arguments[7]+tmp;case 7:tmp=""+arguments[6]+tmp;case 6:tmp=""+arguments[5]+tmp;case 5:tmp=""+arguments[4]+tmp;case 4:tmp=""+arguments[3]+tmp;case 3:tmp=""+arguments[2]+tmp;case 2:b+=""+arguments[0]+arguments[1]+tmp;break;default:var i=0;while(i<arguments.length){tmp+=arguments[i++];}b+=tmp;}}else{b+=s;}this.length=b.length;return this;};this.concat=function(s){return this.append.apply(this,arguments);};this.appendArray=function(_1a8){return this.append.apply(this,_1a8);};this.clear=function(){b="";this.length=0;return this;};this.replace=function(_1a9,_1aa){b=b.replace(_1a9,_1aa);this.length=b.length;return this;};this.remove=function(_1ab,len){if(len===undefined){len=b.length;}if(len==0){return this;}b=b.substr(0,_1ab)+b.substr(_1ab+len);this.length=b.length;return this;};this.insert=function(_1ac,str){if(_1ac==0){b=str+b;}else{b=b.slice(0,_1ac)+str+b.slice(_1ac);}this.length=b.length;return this;};this.toString=function(){return b;};if(str){this.append(str);}};}if(!dojo._hasResource["dojox.string.tokenize"]){dojo._hasResource["dojox.string.tokenize"]=true;dojo.provide("dojox.string.tokenize");dojox.string.tokenize=function(str,re,_1ad,_1ae){var _1af=[];var _1b0,_1b1,_1b2=0;while(_1b0=re.exec(str)){_1b1=str.slice(_1b2,re.lastIndex-_1b0[0].length);if(_1b1.length){_1af.push(_1b1);}if(_1ad){if(dojo.isOpera){var copy=_1b0.slice(0);while(copy.length<_1b0.length){copy.push(null);}_1b0=copy;}var _1b3=_1ad.apply(_1ae,_1b0.slice(1).concat(_1af.length));if(typeof _1b3!="undefined"){_1af.push(_1b3);}}_1b2=re.lastIndex;}_1b1=str.slice(_1b2);if(_1b1.length){_1af.push(_1b1);}return _1af;};}if(!dojo._hasResource["dojox.dtl._base"]){dojo._hasResource["dojox.dtl._base"]=true;dojo.provide("dojox.dtl._base");dojo.experimental("dojox.dtl");(function(){var dd=dojox.dtl;dd.TOKEN_BLOCK=-1;dd.TOKEN_VAR=-2;dd.TOKEN_COMMENT=-3;dd.TOKEN_TEXT=3;dd._Context=dojo.extend(function(dict){if(dict){dojo._mixin(this,dict);if(dict.get){this._getter=dict.get;delete this.get;}}},{push:function(){var last=this;var _1b4=dojo.delegate(this);_1b4.pop=function(){return last;};return _1b4;},pop:function(){throw new Error("pop() called on empty Context");},get:function(key,_1b5){var n=this._normalize;if(this._getter){var got=this._getter(key);if(typeof got!="undefined"){return n(got);}}if(typeof this[key]!="undefined"){return n(this[key]);}return _1b5;},_normalize:function(_1b6){if(_1b6 instanceof Date){_1b6.year=_1b6.getFullYear();_1b6.month=_1b6.getMonth()+1;_1b6.day=_1b6.getDate();_1b6.date=_1b6.year+"-"+("0"+_1b6.month).slice(-2)+"-"+("0"+_1b6.day).slice(-2);_1b6.hour=_1b6.getHours();_1b6.minute=_1b6.getMinutes();_1b6.second=_1b6.getSeconds();_1b6.microsecond=_1b6.getMilliseconds();}return _1b6;},update:function(dict){var _1b7=this.push();if(dict){dojo._mixin(this,dict);}return _1b7;}});var _1b8=/("(?:[^"\\]*(?:\\.[^"\\]*)*)"|'(?:[^'\\]*(?:\\.[^'\\]*)*)'|[^\s]+)/g;var _1b9=/\s+/g;var _1ba=function(_1bb,_1bc){_1bb=_1bb||_1b9;if(!(_1bb instanceof RegExp)){_1bb=new RegExp(_1bb,"g");}if(!_1bb.global){throw new Error("You must use a globally flagged RegExp with split "+_1bb);}_1bb.exec("");var part,_1bd=[],_1be=0,i=0;while(part=_1bb.exec(this)){_1bd.push(this.slice(_1be,_1bb.lastIndex-part[0].length));_1be=_1bb.lastIndex;if(_1bc&&(++i>_1bc-1)){break;}}_1bd.push(this.slice(_1be));return _1bd;};dd.Token=function(_1bf,_1c0){this.token_type=_1bf;this.contents=new String(dojo.trim(_1c0));this.contents.split=_1ba;this.split=function(){return String.prototype.split.apply(this.contents,arguments);};};dd.Token.prototype.split_contents=function(_1c1){var bit,bits=[],i=0;_1c1=_1c1||999;while(i++<_1c1&&(bit=_1b8.exec(this.contents))){bit=bit[0];if(bit.charAt(0)=="\""&&bit.slice(-1)=="\""){bits.push("\""+bit.slice(1,-1).replace("\\\"","\"").replace("\\\\","\\")+"\"");}else{if(bit.charAt(0)=="'"&&bit.slice(-1)=="'"){bits.push("'"+bit.slice(1,-1).replace("\\'","'").replace("\\\\","\\")+"'");}else{bits.push(bit);}}}return bits;};var ddt=dd.text={_get:function(_1c2,name,_1c3){var _1c4=dd.register.get(_1c2,name.toLowerCase(),_1c3);if(!_1c4){if(!_1c3){throw new Error("No tag found for "+name);}return null;}var fn=_1c4[1];var _1c5=_1c4[2];var _1c6;if(fn.indexOf(":")!=-1){_1c6=fn.split(":");fn=_1c6.pop();}dojo["require"](_1c5);var _1c7=dojo.getObject(_1c5);return _1c7[fn||name]||_1c7[name+"_"]||_1c7[fn+"_"];},getTag:function(name,_1c8){return ddt._get("tag",name,_1c8);},getFilter:function(name,_1c9){return ddt._get("filter",name,_1c9);},getTemplate:function(file){return new dd.Template(ddt.getTemplateString(file));},getTemplateString:function(file){return dojo._getText(file.toString())||"";},_resolveLazy:function(_1ca,sync,json){if(sync){if(json){return dojo.fromJson(dojo._getText(_1ca))||{};}else{return dd.text.getTemplateString(_1ca);}}else{return dojo.xhrGet({handleAs:(json)?"json":"text",url:_1ca});}},_resolveTemplateArg:function(arg,sync){if(ddt._isTemplate(arg)){if(!sync){var d=new dojo.Deferred();d.callback(arg);return d;}return arg;}return ddt._resolveLazy(arg,sync);},_isTemplate:function(arg){return (typeof arg=="undefined")||(typeof arg=="string"&&(arg.match(/^\s*[<{]/)||arg.indexOf(" ")!=-1));},_resolveContextArg:function(arg,sync){if(arg.constructor==Object){if(!sync){var d=new dojo.Deferred;d.callback(arg);return d;}return arg;}return ddt._resolveLazy(arg,sync,true);},_re:/(?:\{\{\s*(.+?)\s*\}\}|\{%\s*(load\s*)?(.+?)\s*%\})/g,tokenize:function(str){return dojox.string.tokenize(str,ddt._re,ddt._parseDelims);},_parseDelims:function(varr,load,tag){if(varr){return [dd.TOKEN_VAR,varr];}else{if(load){var _1cb=dojo.trim(tag).split(/\s+/g);for(var i=0,part;part=_1cb[i];i++){dojo["require"](part);}}else{return [dd.TOKEN_BLOCK,tag];}}}};dd.Template=dojo.extend(function(_1cc,_1cd){var str=_1cd?_1cc:ddt._resolveTemplateArg(_1cc,true)||"";var _1ce=ddt.tokenize(str);var _1cf=new dd._Parser(_1ce);this.nodelist=_1cf.parse();},{update:function(node,_1d0){return ddt._resolveContextArg(_1d0).addCallback(this,function(_1d1){var _1d2=this.render(new dd._Context(_1d1));if(node.forEach){node.forEach(function(item){item.innerHTML=_1d2;});}else{dojo.byId(node).innerHTML=_1d2;}return this;});},render:function(_1d3,_1d4){_1d4=_1d4||this.getBuffer();_1d3=_1d3||new dd._Context({});return this.nodelist.render(_1d3,_1d4)+"";},getBuffer:function(){return new dojox.string.Builder();}});var qfRe=/\{\{\s*(.+?)\s*\}\}/g;dd.quickFilter=function(str){if(!str){return new dd._NodeList();}if(str.indexOf("{%")==-1){return new dd._QuickNodeList(dojox.string.tokenize(str,qfRe,function(_1d5){return new dd._Filter(_1d5);}));}};dd._QuickNodeList=dojo.extend(function(_1d6){this.contents=_1d6;},{render:function(_1d7,_1d8){for(var i=0,l=this.contents.length;i<l;i++){if(this.contents[i].resolve){_1d8=_1d8.concat(this.contents[i].resolve(_1d7));}else{_1d8=_1d8.concat(this.contents[i]);}}return _1d8;},dummyRender:function(_1d9){return this.render(_1d9,dd.Template.prototype.getBuffer()).toString();},clone:function(_1da){return this;}});dd._Filter=dojo.extend(function(_1db){if(!_1db){throw new Error("Filter must be called with variable name");}this.contents=_1db;var _1dc=this._cache[_1db];if(_1dc){this.key=_1dc[0];this.filters=_1dc[1];}else{this.filters=[];dojox.string.tokenize(_1db,this._re,this._tokenize,this);this._cache[_1db]=[this.key,this.filters];}},{_cache:{},_re:/(?:^_\("([^\\"]*(?:\\.[^\\"])*)"\)|^"([^\\"]*(?:\\.[^\\"]*)*)"|^([a-zA-Z0-9_.]+)|\|(\w+)(?::(?:_\("([^\\"]*(?:\\.[^\\"])*)"\)|"([^\\"]*(?:\\.[^\\"]*)*)"|([a-zA-Z0-9_.]+)|'([^\\']*(?:\\.[^\\']*)*)'))?|^'([^\\']*(?:\\.[^\\']*)*)')/g,_values:{0:"\"",1:"\"",2:"",8:"\""},_args:{4:"\"",5:"\"",6:"",7:"'"},_tokenize:function(){var pos,arg;for(var i=0,has=[];i<arguments.length;i++){has[i]=(typeof arguments[i]!="undefined"&&typeof arguments[i]=="string"&&arguments[i]);}if(!this.key){for(pos in this._values){if(has[pos]){this.key=this._values[pos]+arguments[pos]+this._values[pos];break;}}}else{for(pos in this._args){if(has[pos]){var _1dd=arguments[pos];if(this._args[pos]=="'"){_1dd=_1dd.replace(/\\'/g,"'");}else{if(this._args[pos]=="\""){_1dd=_1dd.replace(/\\"/g,"\"");}}arg=[!this._args[pos],_1dd];break;}}var fn=ddt.getFilter(arguments[3]);if(!dojo.isFunction(fn)){throw new Error(arguments[3]+" is not registered as a filter");}this.filters.push([fn,arg]);}},getExpression:function(){return this.contents;},resolve:function(_1de){if(typeof this.key=="undefined"){return "";}var str=this.resolvePath(this.key,_1de);for(var i=0,_1df;_1df=this.filters[i];i++){if(_1df[1]){if(_1df[1][0]){str=_1df[0](str,this.resolvePath(_1df[1][1],_1de));}else{str=_1df[0](str,_1df[1][1]);}}else{str=_1df[0](str);}}return str;},resolvePath:function(path,_1e0){var _1e1,_1e2;var _1e3=path.charAt(0);var last=path.slice(-1);if(!isNaN(parseInt(_1e3))){_1e1=(path.indexOf(".")==-1)?parseInt(path):parseFloat(path);}else{if(_1e3=="\""&&_1e3==last){_1e1=path.slice(1,-1);}else{if(path=="true"){return true;}if(path=="false"){return false;}if(path=="null"||path=="None"){return null;}_1e2=path.split(".");_1e1=_1e0.get(_1e2[0]);if(dojo.isFunction(_1e1)){var self=_1e0.getThis&&_1e0.getThis();if(_1e1.alters_data){_1e1="";}else{if(self){_1e1=_1e1.call(self);}else{_1e1="";}}}for(var i=1;i<_1e2.length;i++){var part=_1e2[i];if(_1e1){var base=_1e1;if(dojo.isObject(_1e1)&&part=="items"&&typeof _1e1[part]=="undefined"){var _1e4=[];for(var key in _1e1){_1e4.push([key,_1e1[key]]);}_1e1=_1e4;continue;}if(_1e1.get&&dojo.isFunction(_1e1.get)&&_1e1.get.safe){_1e1=_1e1.get(part);}else{if(typeof _1e1[part]=="undefined"){_1e1=_1e1[part];break;}else{_1e1=_1e1[part];}}if(dojo.isFunction(_1e1)){if(_1e1.alters_data){_1e1="";}else{_1e1=_1e1.call(base);}}else{if(_1e1 instanceof Date){_1e1=dd._Context.prototype._normalize(_1e1);}}}else{return "";}}}}return _1e1;}});dd._TextNode=dd._Node=dojo.extend(function(obj){this.contents=obj;},{set:function(data){this.contents=data;return this;},render:function(_1e5,_1e6){return _1e6.concat(this.contents);},isEmpty:function(){return !dojo.trim(this.contents);},clone:function(){return this;}});dd._NodeList=dojo.extend(function(_1e7){this.contents=_1e7||[];this.last="";},{push:function(node){this.contents.push(node);return this;},concat:function(_1e8){this.contents=this.contents.concat(_1e8);return this;},render:function(_1e9,_1ea){for(var i=0;i<this.contents.length;i++){_1ea=this.contents[i].render(_1e9,_1ea);if(!_1ea){throw new Error("Template must return buffer");}}return _1ea;},dummyRender:function(_1eb){return this.render(_1eb,dd.Template.prototype.getBuffer()).toString();},unrender:function(){return arguments[1];},clone:function(){return this;},rtrim:function(){while(1){i=this.contents.length-1;if(this.contents[i] instanceof dd._TextNode&&this.contents[i].isEmpty()){this.contents.pop();}else{break;}}return this;}});dd._VarNode=dojo.extend(function(str){this.contents=new dd._Filter(str);},{render:function(_1ec,_1ed){var str=this.contents.resolve(_1ec);if(!str.safe){str=dd._base.escape(""+str);}return _1ed.concat(str);}});dd._noOpNode=new function(){this.render=this.unrender=function(){return arguments[1];};this.clone=function(){return this;};};dd._Parser=dojo.extend(function(_1ee){this.contents=_1ee;},{i:0,parse:function(_1ef){var _1f0={},_1f1;_1ef=_1ef||[];for(var i=0;i<_1ef.length;i++){_1f0[_1ef[i]]=true;}var _1f2=new dd._NodeList();while(this.i<this.contents.length){_1f1=this.contents[this.i++];if(typeof _1f1=="string"){_1f2.push(new dd._TextNode(_1f1));}else{var type=_1f1[0];var text=_1f1[1];if(type==dd.TOKEN_VAR){_1f2.push(new dd._VarNode(text));}else{if(type==dd.TOKEN_BLOCK){if(_1f0[text]){--this.i;return _1f2;}var cmd=text.split(/\s+/g);if(cmd.length){cmd=cmd[0];var fn=ddt.getTag(cmd);if(fn){_1f2.push(fn(this,new dd.Token(type,text)));}}}}}}if(_1ef.length){throw new Error("Could not find closing tag(s): "+_1ef.toString());}this.contents.length=0;return _1f2;},next_token:function(){var _1f3=this.contents[this.i++];return new dd.Token(_1f3[0],_1f3[1]);},delete_first_token:function(){this.i++;},skip_past:function(_1f4){while(this.i<this.contents.length){var _1f5=this.contents[this.i++];if(_1f5[0]==dd.TOKEN_BLOCK&&_1f5[1]==_1f4){return;}}throw new Error("Unclosed tag found when looking for "+_1f4);},create_variable_node:function(expr){return new dd._VarNode(expr);},create_text_node:function(expr){return new dd._TextNode(expr||"");},getTemplate:function(file){return new dd.Template(file);}});dd.register={_registry:{attributes:[],tags:[],filters:[]},get:function(_1f6,name){var _1f7=dd.register._registry[_1f6+"s"];for(var i=0,_1f8;_1f8=_1f7[i];i++){if(typeof _1f8[0]=="string"){if(_1f8[0]==name){return _1f8;}}else{if(name.match(_1f8[0])){return _1f8;}}}},getAttributeTags:function(){var tags=[];var _1f9=dd.register._registry.attributes;for(var i=0,_1fa;_1fa=_1f9[i];i++){if(_1fa.length==3){tags.push(_1fa);}else{var fn=dojo.getObject(_1fa[1]);if(fn&&dojo.isFunction(fn)){_1fa.push(fn);tags.push(_1fa);}}}return tags;},_any:function(type,base,_1fb){for(var path in _1fb){for(var i=0,fn;fn=_1fb[path][i];i++){var key=fn;if(dojo.isArray(fn)){key=fn[0];fn=fn[1];}if(typeof key=="string"){if(key.substr(0,5)=="attr:"){var attr=fn;if(attr.substr(0,5)=="attr:"){attr=attr.slice(5);}dd.register._registry.attributes.push([attr.toLowerCase(),base+"."+path+"."+attr]);}key=key.toLowerCase();}dd.register._registry[type].push([key,fn,base+"."+path]);}}},tags:function(base,_1fc){dd.register._any("tags",base,_1fc);},filters:function(base,_1fd){dd.register._any("filters",base,_1fd);}};var _1fe=/&/g;var _1ff=/</g;var _200=/>/g;var _201=/'/g;var _202=/"/g;dd._base.escape=function(_203){return dd.mark_safe(_203.replace(_1fe,"&amp;").replace(_1ff,"&lt;").replace(_200,"&gt;").replace(_202,"&quot;").replace(_201,"&#39;"));};dd._base.safe=function(_204){if(typeof _204=="string"){_204=new String(_204);}if(typeof _204=="object"){_204.safe=true;}return _204;};dd.mark_safe=dd._base.safe;dd.register.tags("dojox.dtl.tag",{"date":["now"],"logic":["if","for","ifequal","ifnotequal"],"loader":["extends","block","include","load","ssi"],"misc":["comment","debug","filter","firstof","spaceless","templatetag","widthratio","with"],"loop":["cycle","ifchanged","regroup"]});dd.register.filters("dojox.dtl.filter",{"dates":["date","time","timesince","timeuntil"],"htmlstrings":["linebreaks","linebreaksbr","removetags","striptags"],"integers":["add","get_digit"],"lists":["dictsort","dictsortreversed","first","join","length","length_is","random","slice","unordered_list"],"logic":["default","default_if_none","divisibleby","yesno"],"misc":["filesizeformat","pluralize","phone2numeric","pprint"],"strings":["addslashes","capfirst","center","cut","fix_ampersands","floatformat","iriencode","linenumbers","ljust","lower","make_list","rjust","slugify","stringformat","title","truncatewords","truncatewords_html","upper","urlencode","urlize","urlizetrunc","wordcount","wordwrap"]});dd.register.filters("dojox.dtl",{"_base":["escape","safe"]});})();}if(!dojo._hasResource["dojox.dtl.Context"]){dojo._hasResource["dojox.dtl.Context"]=true;dojo.provide("dojox.dtl.Context");dojox.dtl.Context=dojo.extend(function(dict){this._this={};dojox.dtl._Context.call(this,dict);},dojox.dtl._Context.prototype,{getKeys:function(){var keys=[];for(var key in this){if(this.hasOwnProperty(key)&&key!="_this"){keys.push(key);}}return keys;},extend:function(obj){return dojo.delegate(this,obj);},filter:function(_205){var _206=new dojox.dtl.Context();var keys=[];var i,arg;if(_205 instanceof dojox.dtl.Context){keys=_205.getKeys();}else{if(typeof _205=="object"){for(var key in _205){keys.push(key);}}else{for(i=0;arg=arguments[i];i++){if(typeof arg=="string"){keys.push(arg);}}}}for(i=0,key;key=keys[i];i++){_206[key]=this[key];}return _206;},setThis:function(_207){this._this=_207;},getThis:function(){return this._this;},hasKey:function(key){if(this._getter){var got=this._getter(key);if(typeof got!="undefined"){return true;}}if(typeof this[key]!="undefined"){return true;}return false;}});}if(!dojo._hasResource["dojox.dtl.dom"]){dojo._hasResource["dojox.dtl.dom"]=true;dojo.provide("dojox.dtl.dom");(function(){var dd=dojox.dtl;dd.BOOLS={checked:1,disabled:1,readonly:1};dd.TOKEN_CHANGE=-11;dd.TOKEN_ATTR=-12;dd.TOKEN_CUSTOM=-13;dd.TOKEN_NODE=1;var ddt=dd.text;var ddh=dd.dom={_attributes:{},_uppers:{},_re4:/^function anonymous\(\)\s*{\s*(.*)\s*}$/,_reTrim:/(?:^[\n\s]*(\{%)?\s*|\s*(%\})?[\n\s]*$)/g,_reSplit:/\s*%\}[\n\s]*\{%\s*/g,getTemplate:function(text){if(typeof this._commentable=="undefined"){this._commentable=false;var div=document.createElement("div");div.innerHTML="<!--Test comment handling, and long comments, using comments whenever possible.-->";if(div.childNodes.length&&div.childNodes[0].nodeType==8&&div.childNodes[0].data=="comment"){this._commentable=true;}}if(!this._commentable){text=text.replace(/<!--({({|%).*?(%|})})-->/g,"$1");}if(dojo.isIE){text=text.replace(/\b(checked|disabled|readonly|style)="/g,"t$1=\"");}text=text.replace(/\bstyle="/g,"tstyle=\"");var _208;var _209=dojo.isWebKit;var _20a=[[true,"select","option"],[_209,"tr","td|th"],[_209,"thead","tr","th"],[_209,"tbody","tr","td"],[_209,"table","tbody|thead|tr","tr","td"]];var _20b=[];for(var i=0,pair;pair=_20a[i];i++){if(!pair[0]){continue;}if(text.indexOf("<"+pair[1])!=-1){var _20c=new RegExp("<"+pair[1]+"(?:.|\n)*?>((?:.|\n)+?)</"+pair[1]+">","ig");tagLoop:while(_208=_20c.exec(text)){var _20d=pair[2].split("|");var _20e=[];for(var j=0,_20f;_20f=_20d[j];j++){_20e.push("<"+_20f+"(?:.|\n)*?>(?:.|\n)*?</"+_20f+">");}var tags=[];var _210=dojox.string.tokenize(_208[1],new RegExp("("+_20e.join("|")+")","ig"),function(data){var tag=/<(\w+)/.exec(data)[1];if(!tags[tag]){tags[tag]=true;tags.push(tag);}return {data:data};});if(tags.length){var tag=(tags.length==1)?tags[0]:pair[2].split("|")[0];var _211=[];for(var j=0,jl=_210.length;j<jl;j++){var _212=_210[j];if(dojo.isObject(_212)){_211.push(_212.data);}else{var _213=_212.replace(this._reTrim,"");if(!_213){continue;}_212=_213.split(this._reSplit);for(var k=0,kl=_212.length;k<kl;k++){var _214="";for(var p=2,pl=pair.length;p<pl;p++){if(p==2){_214+="<"+tag+" dtlinstruction=\"{% "+_212[k].replace("\"","\\\"")+" %}\">";}else{if(tag==pair[p]){continue;}else{_214+="<"+pair[p]+">";}}}_214+="DTL";for(var p=pair.length-1;p>1;p--){if(p==2){_214+="</"+tag+">";}else{if(tag==pair[p]){continue;}else{_214+="</"+pair[p]+">";}}}_211.push("ÿ"+_20b.length);_20b.push(_214);}}}text=text.replace(_208[1],_211.join(""));}}}}for(var i=_20b.length;i--;){text=text.replace("ÿ"+i,_20b[i]);}var re=/\b([a-zA-Z_:][a-zA-Z0-9_\-\.:]*)=['"]/g;while(_208=re.exec(text)){var _215=_208[1].toLowerCase();if(_215=="dtlinstruction"){continue;}if(_215!=_208[1]){this._uppers[_215]=_208[1];}this._attributes[_215]=true;}var div=document.createElement("div");div.innerHTML=text;var _216={nodes:[]};while(div.childNodes.length){_216.nodes.push(div.removeChild(div.childNodes[0]));}return _216;},tokenize:function(_217){var _218=[];for(var i=0,node;node=_217[i++];){if(node.nodeType!=1){this.__tokenize(node,_218);}else{this._tokenize(node,_218);}}return _218;},_swallowed:[],_tokenize:function(node,_219){var _21a=false;var _21b=this._swallowed;var i,j,tag,_21c;if(!_219.first){_21a=_219.first=true;var tags=dd.register.getAttributeTags();for(i=0;tag=tags[i];i++){try{(tag[2])({swallowNode:function(){throw 1;}},new dd.Token(dd.TOKEN_ATTR,""));}catch(e){_21b.push(tag);}}}for(i=0;tag=_21b[i];i++){var text=node.getAttribute(tag[0]);if(text){var _21b=false;var _21d=(tag[2])({swallowNode:function(){_21b=true;return node;}},new dd.Token(dd.TOKEN_ATTR,tag[0]+" "+text));if(_21b){if(node.parentNode&&node.parentNode.removeChild){node.parentNode.removeChild(node);}_219.push([dd.TOKEN_CUSTOM,_21d]);return;}}}var _21e=[];if(dojo.isIE&&node.tagName=="SCRIPT"){_21e.push({nodeType:3,data:node.text});node.text="";}else{for(i=0;_21c=node.childNodes[i];i++){_21e.push(_21c);}}_219.push([dd.TOKEN_NODE,node]);var _21f=false;if(_21e.length){_219.push([dd.TOKEN_CHANGE,node]);_21f=true;}for(var key in this._attributes){var _220=false;var _221="";if(key=="class"){_221=node.className||_221;}else{if(key=="for"){_221=node.htmlFor||_221;}else{if(key=="value"&&node.value==node.innerHTML){continue;}else{if(node.getAttribute){_221=node.getAttribute(key,2)||_221;if(key=="href"||key=="src"){if(dojo.isIE){var hash=location.href.lastIndexOf(location.hash);var href=location.href.substring(0,hash).split("/");href.pop();href=href.join("/")+"/";if(_221.indexOf(href)==0){_221=_221.replace(href,"");}_221=decodeURIComponent(_221);}}else{if(key=="tstyle"){_220=key;key="style";}else{if(dd.BOOLS[key.slice(1)]&&dojo.trim(_221)){key=key.slice(1);}else{if(this._uppers[key]&&dojo.trim(_221)){_220=this._uppers[key];}}}}}}}}if(_220){node.setAttribute(_220,"");node.removeAttribute(_220);}if(typeof _221=="function"){_221=_221.toString().replace(this._re4,"$1");}if(!_21f){_219.push([dd.TOKEN_CHANGE,node]);_21f=true;}_219.push([dd.TOKEN_ATTR,node,key,_221]);}for(i=0,_21c;_21c=_21e[i];i++){if(_21c.nodeType==1){var _222=_21c.getAttribute("dtlinstruction");if(_222){_21c.parentNode.removeChild(_21c);_21c={nodeType:8,data:_222};}}this.__tokenize(_21c,_219);}if(!_21a&&node.parentNode&&node.parentNode.tagName){if(_21f){_219.push([dd.TOKEN_CHANGE,node,true]);}_219.push([dd.TOKEN_CHANGE,node.parentNode]);node.parentNode.removeChild(node);}else{_219.push([dd.TOKEN_CHANGE,node,true,true]);}},__tokenize:function(_223,_224){var data=_223.data;switch(_223.nodeType){case 1:this._tokenize(_223,_224);return;case 3:if(data.match(/[^\s\n]/)&&(data.indexOf("{{")!=-1||data.indexOf("{%")!=-1)){var _225=ddt.tokenize(data);for(var j=0,text;text=_225[j];j++){if(typeof text=="string"){_224.push([dd.TOKEN_TEXT,text]);}else{_224.push(text);}}}else{_224.push([_223.nodeType,_223]);}if(_223.parentNode){_223.parentNode.removeChild(_223);}return;case 8:if(data.indexOf("{%")==0){var text=dojo.trim(data.slice(2,-2));if(text.substr(0,5)=="load "){var _226=dojo.trim(text).split(/\s+/g);for(var i=1,part;part=_226[i];i++){dojo["require"](part);}}_224.push([dd.TOKEN_BLOCK,text]);}if(data.indexOf("{{")==0){_224.push([dd.TOKEN_VAR,dojo.trim(data.slice(2,-2))]);}if(_223.parentNode){_223.parentNode.removeChild(_223);}return;}}};dd.DomTemplate=dojo.extend(function(obj){if(!obj.nodes){var node=dojo.byId(obj);if(node&&node.nodeType==1){dojo.forEach(["class","src","href","name","value"],function(item){ddh._attributes[item]=true;});obj={nodes:[node]};}else{if(typeof obj=="object"){obj=ddt.getTemplateString(obj);}obj=ddh.getTemplate(obj);}}var _227=ddh.tokenize(obj.nodes);if(dd.tests){this.tokens=_227.slice(0);}var _228=new dd._DomParser(_227);this.nodelist=_228.parse();},{_count:0,_re:/\bdojo:([a-zA-Z0-9_]+)\b/g,setClass:function(str){this.getRootNode().className=str;},getRootNode:function(){return this.buffer.rootNode;},getBuffer:function(){return new dd.DomBuffer();},render:function(_229,_22a){_22a=this.buffer=_22a||this.getBuffer();this.rootNode=null;var _22b=this.nodelist.render(_229||new dd.Context({}),_22a);for(var i=0,node;node=_22a._cache[i];i++){if(node._cache){node._cache.length=0;}}return _22b;},unrender:function(_22c,_22d){return this.nodelist.unrender(_22c,_22d);}});dd.DomBuffer=dojo.extend(function(_22e){this._parent=_22e;this._cache=[];},{concat:function(node){var _22f=this._parent;if(_22f&&node.parentNode&&node.parentNode===_22f&&!_22f._dirty){return this;}if(node.nodeType==1&&!this.rootNode){this.rootNode=node||true;return this;}if(!_22f){if(node.nodeType==3&&dojo.trim(node.data)){throw new Error("Text should not exist outside of the root node in template");}return this;}if(this._closed){if(node.nodeType==3&&!dojo.trim(node.data)){return this;}else{throw new Error("Content should not exist outside of the root node in template");}}if(_22f._dirty){if(node._drawn&&node.parentNode==_22f){var _230=_22f._cache;if(_230){for(var i=0,_231;_231=_230[i];i++){this.onAddNode&&this.onAddNode(_231);_22f.insertBefore(_231,node);this.onAddNodeComplete&&this.onAddNodeComplete(_231);}_230.length=0;}}_22f._dirty=false;}if(!_22f._cache){_22f._cache=[];this._cache.push(_22f);}_22f._dirty=true;_22f._cache.push(node);return this;},remove:function(obj){if(typeof obj=="string"){if(this._parent){this._parent.removeAttribute(obj);}}else{if(obj.nodeType==1&&!this.getRootNode()&&!this._removed){this._removed=true;return this;}if(obj.parentNode){this.onRemoveNode&&this.onRemoveNode(obj);if(obj.parentNode){obj.parentNode.removeChild(obj);}}}return this;},setAttribute:function(key,_232){var old=dojo.attr(this._parent,key);if(this.onChangeAttribute&&old!=_232){this.onChangeAttribute(this._parent,key,old,_232);}if(key=="style"){this._parent.style.cssText=_232;}else{dojo.attr(this._parent,key,_232);}return this;},addEvent:function(_233,type,fn,args){if(!_233.getThis()){throw new Error("You must use Context.setObject(instance)");}this.onAddEvent&&this.onAddEvent(this.getParent(),type,fn);var _234=fn;if(dojo.isArray(args)){_234=function(e){this[fn].apply(this,[e].concat(args));};}return dojo.connect(this.getParent(),type,_233.getThis(),_234);},setParent:function(node,up,root){if(!this._parent){this._parent=this._first=node;}if(up&&root&&node===this._first){this._closed=true;}if(up){var _235=this._parent;var _236="";var ie=dojo.isIE&&_235.tagName=="SCRIPT";if(ie){_235.text="";}if(_235._dirty){var _237=_235._cache;var _238=(_235.tagName=="SELECT"&&!_235.options.length);for(var i=0,_239;_239=_237[i];i++){if(_239!==_235){this.onAddNode&&this.onAddNode(_239);if(ie){_236+=_239.data;}else{_235.appendChild(_239);if(_238&&_239.defaultSelected&&i){_238=i;}}this.onAddNodeComplete&&this.onAddNodeComplete(_239);}}if(_238){_235.options.selectedIndex=(typeof _238=="number")?_238:0;}_237.length=0;_235._dirty=false;}if(ie){_235.text=_236;}}this._parent=node;this.onSetParent&&this.onSetParent(node,up,root);return this;},getParent:function(){return this._parent;},getRootNode:function(){return this.rootNode;}});dd._DomNode=dojo.extend(function(node){this.contents=node;},{render:function(_23a,_23b){this._rendered=true;return _23b.concat(this.contents);},unrender:function(_23c,_23d){if(!this._rendered){return _23d;}this._rendered=false;return _23d.remove(this.contents);},clone:function(_23e){return new this.constructor(this.contents);}});dd._DomNodeList=dojo.extend(function(_23f){this.contents=_23f||[];},{push:function(node){this.contents.push(node);},unshift:function(node){this.contents.unshift(node);},render:function(_240,_241,_242){_241=_241||dd.DomTemplate.prototype.getBuffer();if(_242){var _243=_241.getParent();}for(var i=0;i<this.contents.length;i++){_241=this.contents[i].render(_240,_241);if(!_241){throw new Error("Template node render functions must return their buffer");}}if(_243){_241.setParent(_243);}return _241;},dummyRender:function(_244,_245,_246){var div=document.createElement("div");var _247=_245.getParent();var old=_247._clone;_247._clone=div;var _248=this.clone(_245,div);if(old){_247._clone=old;}else{_247._clone=null;}_245=dd.DomTemplate.prototype.getBuffer();_248.unshift(new dd.ChangeNode(div));_248.unshift(new dd._DomNode(div));_248.push(new dd.ChangeNode(div,true));_248.render(_244,_245);if(_246){return _245.getRootNode();}var html=div.innerHTML;return (dojo.isIE)?html.replace(/\s*_(dirty|clone)="[^"]*"/g,""):html;},unrender:function(_249,_24a,_24b){if(_24b){var _24c=_24a.getParent();}for(var i=0;i<this.contents.length;i++){_24a=this.contents[i].unrender(_249,_24a);if(!_24a){throw new Error("Template node render functions must return their buffer");}}if(_24c){_24a.setParent(_24c);}return _24a;},clone:function(_24d){var _24e=_24d.getParent();var _24f=this.contents;var _250=new dd._DomNodeList();var _251=[];for(var i=0;i<_24f.length;i++){var _252=_24f[i].clone(_24d);if(_252 instanceof dd.ChangeNode||_252 instanceof dd._DomNode){var item=_252.contents._clone;if(item){_252.contents=item;}else{if(_24e!=_252.contents&&_252 instanceof dd._DomNode){var node=_252.contents;_252.contents=_252.contents.cloneNode(false);_24d.onClone&&_24d.onClone(node,_252.contents);_251.push(node);node._clone=_252.contents;}}}_250.push(_252);}for(var i=0,_252;_252=_251[i];i++){_252._clone=null;}return _250;},rtrim:function(){while(1){var i=this.contents.length-1;if(this.contents[i] instanceof dd._DomTextNode&&this.contents[i].isEmpty()){this.contents.pop();}else{break;}}return this;}});dd._DomVarNode=dojo.extend(function(str){this.contents=new dd._Filter(str);},{render:function(_253,_254){var str=this.contents.resolve(_253);var type="text";if(str){if(str.render&&str.getRootNode){type="injection";}else{if(str.safe){if(str.nodeType){type="node";}else{if(str.toString){str=str.toString();type="html";}}}}}if(this._type&&type!=this._type){this.unrender(_253,_254);}this._type=type;switch(type){case "text":this._rendered=true;this._txt=this._txt||document.createTextNode(str);if(this._txt.data!=str){var old=this._txt.data;this._txt.data=str;_254.onChangeData&&_254.onChangeData(this._txt,old,this._txt.data);}return _254.concat(this._txt);case "injection":var root=str.getRootNode();if(this._rendered&&root!=this._root){_254=this.unrender(_253,_254);}this._root=root;var _255=this._injected=new dd._DomNodeList();_255.push(new dd.ChangeNode(_254.getParent()));_255.push(new dd._DomNode(root));_255.push(str);_255.push(new dd.ChangeNode(_254.getParent()));this._rendered=true;return _255.render(_253,_254);case "node":this._rendered=true;if(this._node&&this._node!=str&&this._node.parentNode&&this._node.parentNode===_254.getParent()){this._node.parentNode.removeChild(this._node);}this._node=str;return _254.concat(str);case "html":if(this._rendered&&this._src!=str){_254=this.unrender(_253,_254);}this._src=str;if(!this._rendered){this._rendered=true;this._html=this._html||[];var div=(this._div=this._div||document.createElement("div"));div.innerHTML=str;var _256=div.childNodes;while(_256.length){var _257=div.removeChild(_256[0]);this._html.push(_257);_254=_254.concat(_257);}}return _254;default:return _254;}},unrender:function(_258,_259){if(!this._rendered){return _259;}this._rendered=false;switch(this._type){case "text":return _259.remove(this._txt);case "injection":return this._injection.unrender(_258,_259);case "node":if(this._node.parentNode===_259.getParent()){return _259.remove(this._node);}return _259;case "html":for(var i=0,l=this._html.length;i<l;i++){_259=_259.remove(this._html[i]);}return _259;default:return _259;}},clone:function(){return new this.constructor(this.contents.getExpression());}});dd.ChangeNode=dojo.extend(function(node,up,root){this.contents=node;this.up=up;this.root=root;},{render:function(_25a,_25b){return _25b.setParent(this.contents,this.up,this.root);},unrender:function(_25c,_25d){if(!_25d.getParent()){return _25d;}return _25d.setParent(this.contents);},clone:function(){return new this.constructor(this.contents,this.up,this.root);}});dd.AttributeNode=dojo.extend(function(key,_25e){this.key=key;this.value=_25e;this.contents=_25e;if(this._pool[_25e]){this.nodelist=this._pool[_25e];}else{if(!(this.nodelist=dd.quickFilter(_25e))){this.nodelist=(new dd.Template(_25e,true)).nodelist;}this._pool[_25e]=this.nodelist;}this.contents="";},{_pool:{},render:function(_25f,_260){var key=this.key;var _261=this.nodelist.dummyRender(_25f);if(dd.BOOLS[key]){_261=!(_261=="false"||_261=="undefined"||!_261);}if(_261!==this.contents){this.contents=_261;return _260.setAttribute(key,_261);}return _260;},unrender:function(_262,_263){this.contents="";return _263.remove(this.key);},clone:function(_264){return new this.constructor(this.key,this.value);}});dd._DomTextNode=dojo.extend(function(str){this.contents=document.createTextNode(str);this.upcoming=str;},{set:function(data){this.upcoming=data;return this;},render:function(_265,_266){if(this.contents.data!=this.upcoming){var old=this.contents.data;this.contents.data=this.upcoming;_266.onChangeData&&_266.onChangeData(this.contents,old,this.upcoming);}return _266.concat(this.contents);},unrender:function(_267,_268){return _268.remove(this.contents);},isEmpty:function(){return !dojo.trim(this.contents.data);},clone:function(){return new this.constructor(this.contents.data);}});dd._DomParser=dojo.extend(function(_269){this.contents=_269;},{i:0,parse:function(_26a){var _26b={};var _26c=this.contents;if(!_26a){_26a=[];}for(var i=0;i<_26a.length;i++){_26b[_26a[i]]=true;}var _26d=new dd._DomNodeList();while(this.i<_26c.length){var _26e=_26c[this.i++];var type=_26e[0];var _26f=_26e[1];if(type==dd.TOKEN_CUSTOM){_26d.push(_26f);}else{if(type==dd.TOKEN_CHANGE){var _270=new dd.ChangeNode(_26f,_26e[2],_26e[3]);_26f[_270.attr]=_270;_26d.push(_270);}else{if(type==dd.TOKEN_ATTR){var fn=ddt.getTag("attr:"+_26e[2],true);if(fn&&_26e[3]){if(_26e[3].indexOf("{%")!=-1||_26e[3].indexOf("{{")!=-1){_26f.setAttribute(_26e[2],"");}_26d.push(fn(null,new dd.Token(type,_26e[2]+" "+_26e[3])));}else{if(dojo.isString(_26e[3])){if(_26e[2]=="style"||_26e[3].indexOf("{%")!=-1||_26e[3].indexOf("{{")!=-1){_26d.push(new dd.AttributeNode(_26e[2],_26e[3]));}else{if(dojo.trim(_26e[3])){try{dojo.attr(_26f,_26e[2],_26e[3]);}catch(e){}}}}}}else{if(type==dd.TOKEN_NODE){var fn=ddt.getTag("node:"+_26f.tagName.toLowerCase(),true);if(fn){_26d.push(fn(null,new dd.Token(type,_26f),_26f.tagName.toLowerCase()));}_26d.push(new dd._DomNode(_26f));}else{if(type==dd.TOKEN_VAR){_26d.push(new dd._DomVarNode(_26f));}else{if(type==dd.TOKEN_TEXT){_26d.push(new dd._DomTextNode(_26f.data||_26f));}else{if(type==dd.TOKEN_BLOCK){if(_26b[_26f]){--this.i;return _26d;}var cmd=_26f.split(/\s+/g);if(cmd.length){cmd=cmd[0];var fn=ddt.getTag(cmd);if(typeof fn!="function"){throw new Error("Function not found for "+cmd);}var tpl=fn(this,new dd.Token(type,_26f));if(tpl){_26d.push(tpl);}}}}}}}}}}if(_26a.length){throw new Error("Could not find closing tag(s): "+_26a.toString());}return _26d;},next_token:function(){var _271=this.contents[this.i++];return new dd.Token(_271[0],_271[1]);},delete_first_token:function(){this.i++;},skip_past:function(_272){return dd._Parser.prototype.skip_past.call(this,_272);},create_variable_node:function(expr){return new dd._DomVarNode(expr);},create_text_node:function(expr){return new dd._DomTextNode(expr||"");},getTemplate:function(loc){return new dd.DomTemplate(ddh.getTemplate(loc));}});})();}if(!dojo._hasResource["dojox.dtl.render.dom"]){dojo._hasResource["dojox.dtl.render.dom"]=true;dojo.provide("dojox.dtl.render.dom");dojox.dtl.render.dom.Render=function(_273,tpl){this._tpl=tpl;this.domNode=dojo.byId(_273);};dojo.extend(dojox.dtl.render.dom.Render,{setAttachPoint:function(node){this.domNode=node;},render:function(_274,tpl,_275){if(!this.domNode){throw new Error("You cannot use the Render object without specifying where you want to render it");}this._tpl=tpl=tpl||this._tpl;_275=_275||tpl.getBuffer();_274=_274||new dojox.dtl.Context();var frag=tpl.render(_274,_275).getParent();if(!frag){throw new Error("Rendered template does not have a root node");}if(this.domNode!==frag){this.domNode.parentNode.replaceChild(frag,this.domNode);this.domNode=frag;}}});}if(!dojo._hasResource["dojox.dtl.contrib.dijit"]){dojo._hasResource["dojox.dtl.contrib.dijit"]=true;dojo.provide("dojox.dtl.contrib.dijit");(function(){var dd=dojox.dtl;var ddcd=dd.contrib.dijit;ddcd.AttachNode=dojo.extend(function(keys,_276){this._keys=keys;this._object=_276;},{render:function(_277,_278){if(!this._rendered){this._rendered=true;for(var i=0,key;key=this._keys[i];i++){_277.getThis()[key]=this._object||_278.getParent();}}return _278;},unrender:function(_279,_27a){if(this._rendered){this._rendered=false;for(var i=0,key;key=this._keys[i];i++){if(_279.getThis()[key]===(this._object||_27a.getParent())){delete _279.getThis()[key];}}}return _27a;},clone:function(_27b){return new this.constructor(this._keys,this._object);}});ddcd.EventNode=dojo.extend(function(_27c,obj){this._command=_27c;var type,_27d=_27c.split(/\s*,\s*/);var trim=dojo.trim;var _27e=[];var fns=[];while(type=_27d.pop()){if(type){var fn=null;if(type.indexOf(":")!=-1){var _27f=type.split(":");type=trim(_27f[0]);fn=trim(_27f.slice(1).join(":"));}else{type=trim(type);}if(!fn){fn=type;}_27e.push(type);fns.push(fn);}}this._types=_27e;this._fns=fns;this._object=obj;this._rendered=[];},{_clear:false,render:function(_280,_281){for(var i=0,type;type=this._types[i];i++){if(!this._clear&&!this._object){_281.getParent()[type]=null;}var fn=this._fns[i];var args;if(fn.indexOf(" ")!=-1){if(this._rendered[i]){dojo.disconnect(this._rendered[i]);this._rendered[i]=false;}args=dojo.map(fn.split(" ").slice(1),function(item){return new dd._Filter(item).resolve(_280);});fn=fn.split(" ",2)[0];}if(!this._rendered[i]){if(!this._object){this._rendered[i]=_281.addEvent(_280,type,fn,args);}else{this._rendered[i]=dojo.connect(this._object,type,_280.getThis(),fn);}}}this._clear=true;return _281;},unrender:function(_282,_283){while(this._rendered.length){dojo.disconnect(this._rendered.pop());}return _283;},clone:function(){return new this.constructor(this._command,this._object);}});function _284(n1){var n2=n1.cloneNode(true);if(dojo.isIE){dojo.query("script",n2).forEach("item.text = this[index].text;",dojo.query("script",n1));}return n2;};ddcd.DojoTypeNode=dojo.extend(function(node,_285){this._node=node;this._parsed=_285;var _286=node.getAttribute("dojoAttachEvent");if(_286){this._events=new ddcd.EventNode(dojo.trim(_286));}var _287=node.getAttribute("dojoAttachPoint");if(_287){this._attach=new ddcd.AttachNode(dojo.trim(_287).split(/\s*,\s*/));}if(!_285){this._dijit=dojo.parser.instantiate([_284(node)])[0];}else{node=_284(node);var old=ddcd.widgetsInTemplate;ddcd.widgetsInTemplate=false;this._template=new dd.DomTemplate(node);ddcd.widgetsInTemplate=old;}},{render:function(_288,_289){if(this._parsed){var _28a=new dd.DomBuffer();this._template.render(_288,_28a);var root=_284(_28a.getRootNode());var div=document.createElement("div");div.appendChild(root);var _28b=div.innerHTML;div.removeChild(root);if(_28b!=this._rendered){this._rendered=_28b;if(this._dijit){this._dijit.destroyRecursive();}this._dijit=dojo.parser.instantiate([root])[0];}}var node=this._dijit.domNode;if(this._events){this._events._object=this._dijit;this._events.render(_288,_289);}if(this._attach){this._attach._object=this._dijit;this._attach.render(_288,_289);}return _289.concat(node);},unrender:function(_28c,_28d){return _28d.remove(this._dijit.domNode);},clone:function(){return new this.constructor(this._node,this._parsed);}});dojo.mixin(ddcd,{widgetsInTemplate:true,dojoAttachPoint:function(_28e,_28f){return new ddcd.AttachNode(_28f.contents.slice(16).split(/\s*,\s*/));},dojoAttachEvent:function(_290,_291){return new ddcd.EventNode(_291.contents.slice(16));},dojoType:function(_292,_293){var _294=false;if(_293.contents.slice(-7)==" parsed"){_294=true;}var _295=_293.contents.slice(9);var _296=_294?_295.slice(0,-7):_295.toString();if(ddcd.widgetsInTemplate){var node=_292.swallowNode();node.setAttribute("dojoType",_296);return new ddcd.DojoTypeNode(node,_294);}return new dd.AttributeNode("dojoType",_296);},on:function(_297,_298){var _299=_298.contents.split();return new ddcd.EventNode(_299[0]+":"+_299.slice(1).join(" "));}});dd.register.tags("dojox.dtl.contrib",{"dijit":["attr:dojoType","attr:dojoAttachPoint",["attr:attach","dojoAttachPoint"],"attr:dojoAttachEvent",[/(attr:)?on(click|key(up))/i,"on"]]});})();}if(!dojo._hasResource["dojox.dtl._DomTemplated"]){dojo._hasResource["dojox.dtl._DomTemplated"]=true;dojo.provide("dojox.dtl._DomTemplated");dojox.dtl._DomTemplated=function(){};dojox.dtl._DomTemplated.prototype={_dijitTemplateCompat:false,buildRendering:function(){this.domNode=this.srcNodeRef;if(!this._render){var ddcd=dojox.dtl.contrib.dijit;var old=ddcd.widgetsInTemplate;ddcd.widgetsInTemplate=this.widgetsInTemplate;this.template=this.template||this._getCachedTemplate(this.templatePath,this.templateString);this._render=new dojox.dtl.render.dom.Render(this.domNode,this.template);ddcd.widgetsInTemplate=old;}var _29a=this._getContext();if(!this._created){delete _29a._getter;}this.render(_29a);this.domNode=this.template.getRootNode();if(this.srcNodeRef&&this.srcNodeRef.parentNode){dojo.destroy(this.srcNodeRef);delete this.srcNodeRef;}},setTemplate:function(_29b,_29c){if(dojox.dtl.text._isTemplate(_29b)){this.template=this._getCachedTemplate(null,_29b);}else{this.template=this._getCachedTemplate(_29b);}this.render(_29c);},render:function(_29d,tpl){if(tpl){this.template=tpl;}this._render.render(this._getContext(_29d),this.template);},_getContext:function(_29e){if(!(_29e instanceof dojox.dtl.Context)){_29e=false;}_29e=_29e||new dojox.dtl.Context(this);_29e.setThis(this);return _29e;},_getCachedTemplate:function(_29f,_2a0){if(!this._templates){this._templates={};}var key=_2a0||_29f.toString();var _2a1=this._templates;if(_2a1[key]){return _2a1[key];}return (_2a1[key]=new dojox.dtl.DomTemplate(dijit._Templated.getCachedTemplate(_29f,_2a0,true)));}};}if(!dojo._hasResource["dojox.dtl.tag.loader"]){dojo._hasResource["dojox.dtl.tag.loader"]=true;dojo.provide("dojox.dtl.tag.loader");(function(){var dd=dojox.dtl;var ddtl=dd.tag.loader;ddtl.BlockNode=dojo.extend(function(name,_2a2){this.name=name;this.nodelist=_2a2;},{"super":function(){if(this.parent){var html=this.parent.nodelist.dummyRender(this.context,null,true);if(typeof html=="string"){html=new String(html);}html.safe=true;return html;}return "";},render:function(_2a3,_2a4){var name=this.name;var _2a5=this.nodelist;var _2a6;if(_2a4.blocks){var _2a7=_2a4.blocks[name];if(_2a7){_2a6=_2a7.parent;_2a5=_2a7.nodelist;_2a7.used=true;}}this.rendered=_2a5;_2a3=_2a3.push();this.context=_2a3;this.parent=null;if(_2a5!=this.nodelist){this.parent=this;}_2a3.block=this;if(_2a4.getParent){var _2a8=_2a4.getParent();var _2a9=dojo.connect(_2a4,"onSetParent",function(node,up,root){if(up&&root){_2a4.setParent(_2a8);}});}_2a4=_2a5.render(_2a3,_2a4,this);_2a9&&dojo.disconnect(_2a9);_2a3=_2a3.pop();return _2a4;},unrender:function(_2aa,_2ab){return this.rendered.unrender(_2aa,_2ab);},clone:function(_2ac){return new this.constructor(this.name,this.nodelist.clone(_2ac));},toString:function(){return "dojox.dtl.tag.loader.BlockNode";}});ddtl.ExtendsNode=dojo.extend(function(_2ad,_2ae,_2af,_2b0,key){this.getTemplate=_2ad;this.nodelist=_2ae;this.shared=_2af;this.parent=_2b0;this.key=key;},{parents:{},getParent:function(_2b1){var _2b2=this.parent;if(!_2b2){var _2b3;_2b2=this.parent=_2b1.get(this.key,false);if(!_2b2){throw new Error("extends tag used a variable that did not resolve");}if(typeof _2b2=="object"){var url=_2b2.url||_2b2.templatePath;if(_2b2.shared){this.shared=true;}if(url){_2b2=this.parent=url.toString();}else{if(_2b2.templateString){_2b3=_2b2.templateString;_2b2=this.parent=" ";}else{_2b2=this.parent=this.parent.toString();}}}if(_2b2&&_2b2.indexOf("shared:")===0){this.shared=true;_2b2=this.parent=_2b2.substring(7,_2b2.length);}}if(!_2b2){throw new Error("Invalid template name in 'extends' tag.");}if(_2b2.render){return _2b2;}if(this.parents[_2b2]){return this.parents[_2b2];}this.parent=this.getTemplate(_2b3||dojox.dtl.text.getTemplateString(_2b2));if(this.shared){this.parents[_2b2]=this.parent;}return this.parent;},render:function(_2b4,_2b5){var _2b6=this.getParent(_2b4);_2b6.blocks=_2b6.blocks||{};_2b5.blocks=_2b5.blocks||{};for(var i=0,node;node=this.nodelist.contents[i];i++){if(node instanceof dojox.dtl.tag.loader.BlockNode){var old=_2b6.blocks[node.name];if(old&&old.nodelist!=node.nodelist){_2b5=old.nodelist.unrender(_2b4,_2b5);}_2b6.blocks[node.name]=_2b5.blocks[node.name]={shared:this.shared,nodelist:node.nodelist,used:false};}}this.rendered=_2b6;return _2b6.nodelist.render(_2b4,_2b5,this);},unrender:function(_2b7,_2b8){return this.rendered.unrender(_2b7,_2b8,this);},toString:function(){return "dojox.dtl.block.ExtendsNode";}});ddtl.IncludeNode=dojo.extend(function(path,_2b9,_2ba,text,_2bb){this._path=path;this.constant=_2b9;this.path=(_2b9)?path:new dd._Filter(path);this.getTemplate=_2ba;this.text=text;this.parsed=(arguments.length==5)?_2bb:true;},{_cache:[{},{}],render:function(_2bc,_2bd){var _2be=((this.constant)?this.path:this.path.resolve(_2bc)).toString();var _2bf=Number(this.parsed);var _2c0=false;if(_2be!=this.last){_2c0=true;if(this.last){_2bd=this.unrender(_2bc,_2bd);}this.last=_2be;}var _2c1=this._cache[_2bf];if(_2bf){if(!_2c1[_2be]){_2c1[_2be]=dd.text._resolveTemplateArg(_2be,true);}if(_2c0){var _2c2=this.getTemplate(_2c1[_2be]);this.rendered=_2c2.nodelist;}return this.rendered.render(_2bc,_2bd,this);}else{if(this.text instanceof dd._TextNode){if(_2c0){this.rendered=this.text;this.rendered.set(dd.text._resolveTemplateArg(_2be,true));}return this.rendered.render(_2bc,_2bd);}else{if(!_2c1[_2be]){var _2c3=[];var div=document.createElement("div");div.innerHTML=dd.text._resolveTemplateArg(_2be,true);var _2c4=div.childNodes;while(_2c4.length){var _2c5=div.removeChild(_2c4[0]);_2c3.push(_2c5);}_2c1[_2be]=_2c3;}if(_2c0){this.nodelist=[];var _2c6=true;for(var i=0,_2c7;_2c7=_2c1[_2be][i];i++){this.nodelist.push(_2c7.cloneNode(true));}}for(var i=0,node;node=this.nodelist[i];i++){_2bd=_2bd.concat(node);}}}return _2bd;},unrender:function(_2c8,_2c9){if(this.rendered){_2c9=this.rendered.unrender(_2c8,_2c9);}if(this.nodelist){for(var i=0,node;node=this.nodelist[i];i++){_2c9=_2c9.remove(node);}}return _2c9;},clone:function(_2ca){return new this.constructor(this._path,this.constant,this.getTemplate,this.text.clone(_2ca),this.parsed);}});dojo.mixin(ddtl,{block:function(_2cb,_2cc){var _2cd=_2cc.contents.split();var name=_2cd[1];_2cb._blocks=_2cb._blocks||{};_2cb._blocks[name]=_2cb._blocks[name]||[];_2cb._blocks[name].push(name);var _2ce=_2cb.parse(["endblock","endblock "+name]).rtrim();_2cb.next_token();return new dojox.dtl.tag.loader.BlockNode(name,_2ce);},extends_:function(_2cf,_2d0){var _2d1=_2d0.contents.split();var _2d2=false;var _2d3=null;var key=null;if(_2d1[1].charAt(0)=="\""||_2d1[1].charAt(0)=="'"){_2d3=_2d1[1].substring(1,_2d1[1].length-1);}else{key=_2d1[1];}if(_2d3&&_2d3.indexOf("shared:")==0){_2d2=true;_2d3=_2d3.substring(7,_2d3.length);}var _2d4=_2cf.parse();return new dojox.dtl.tag.loader.ExtendsNode(_2cf.getTemplate,_2d4,_2d2,_2d3,key);},include:function(_2d5,_2d6){var _2d7=_2d6.contents.split();if(_2d7.length!=2){throw new Error(_2d7[0]+" tag takes one argument: the name of the template to be included");}var path=_2d7[1];var _2d8=false;if((path.charAt(0)=="\""||path.slice(-1)=="'")&&path.charAt(0)==path.slice(-1)){path=path.slice(1,-1);_2d8=true;}return new ddtl.IncludeNode(path,_2d8,_2d5.getTemplate,_2d5.create_text_node());},ssi:function(_2d9,_2da){var _2db=_2da.contents.split();var _2dc=false;if(_2db.length==3){_2dc=(_2db.pop()=="parsed");if(!_2dc){throw new Error("Second (optional) argument to ssi tag must be 'parsed'");}}var node=ddtl.include(_2d9,new dd.Token(_2da.token_type,_2db.join(" ")));node.parsed=_2dc;return node;}});})();}if(!dojo._hasResource["dojox.dtl.tag.logic"]){dojo._hasResource["dojox.dtl.tag.logic"]=true;dojo.provide("dojox.dtl.tag.logic");(function(){var dd=dojox.dtl;var ddt=dd.text;var ddtl=dd.tag.logic;ddtl.IfNode=dojo.extend(function(_2dd,_2de,_2df,type){this.bools=_2dd;this.trues=_2de;this.falses=_2df;this.type=type;},{render:function(_2e0,_2e1){var i,bool,_2e2,_2e3,_2e4;if(this.type=="or"){for(i=0;bool=this.bools[i];i++){_2e2=bool[0];_2e3=bool[1];_2e4=_2e3.resolve(_2e0);if((_2e4&&!_2e2)||(_2e2&&!_2e4)){if(this.falses){_2e1=this.falses.unrender(_2e0,_2e1);}return (this.trues)?this.trues.render(_2e0,_2e1,this):_2e1;}}if(this.trues){_2e1=this.trues.unrender(_2e0,_2e1);}return (this.falses)?this.falses.render(_2e0,_2e1,this):_2e1;}else{for(i=0;bool=this.bools[i];i++){_2e2=bool[0];_2e3=bool[1];_2e4=_2e3.resolve(_2e0);if(_2e4==_2e2){if(this.trues){_2e1=this.trues.unrender(_2e0,_2e1);}return (this.falses)?this.falses.render(_2e0,_2e1,this):_2e1;}}if(this.falses){_2e1=this.falses.unrender(_2e0,_2e1);}return (this.trues)?this.trues.render(_2e0,_2e1,this):_2e1;}return _2e1;},unrender:function(_2e5,_2e6){_2e6=(this.trues)?this.trues.unrender(_2e5,_2e6):_2e6;_2e6=(this.falses)?this.falses.unrender(_2e5,_2e6):_2e6;return _2e6;},clone:function(_2e7){var _2e8=(this.trues)?this.trues.clone(_2e7):null;var _2e9=(this.falses)?this.falses.clone(_2e7):null;return new this.constructor(this.bools,_2e8,_2e9,this.type);}});ddtl.IfEqualNode=dojo.extend(function(var1,var2,_2ea,_2eb,_2ec){this.var1=new dd._Filter(var1);this.var2=new dd._Filter(var2);this.trues=_2ea;this.falses=_2eb;this.negate=_2ec;},{render:function(_2ed,_2ee){var var1=this.var1.resolve(_2ed);var var2=this.var2.resolve(_2ed);var1=(typeof var1!="undefined")?var1:"";var2=(typeof var1!="undefined")?var2:"";if((this.negate&&var1!=var2)||(!this.negate&&var1==var2)){if(this.falses){_2ee=this.falses.unrender(_2ed,_2ee,this);}return (this.trues)?this.trues.render(_2ed,_2ee,this):_2ee;}if(this.trues){_2ee=this.trues.unrender(_2ed,_2ee,this);}return (this.falses)?this.falses.render(_2ed,_2ee,this):_2ee;},unrender:function(_2ef,_2f0){return ddtl.IfNode.prototype.unrender.call(this,_2ef,_2f0);},clone:function(_2f1){var _2f2=this.trues?this.trues.clone(_2f1):null;var _2f3=this.falses?this.falses.clone(_2f1):null;return new this.constructor(this.var1.getExpression(),this.var2.getExpression(),_2f2,_2f3,this.negate);}});ddtl.ForNode=dojo.extend(function(_2f4,loop,_2f5,_2f6){this.assign=_2f4;this.loop=new dd._Filter(loop);this.reversed=_2f5;this.nodelist=_2f6;this.pool=[];},{render:function(_2f7,_2f8){var i,j,k;var _2f9=false;var _2fa=this.assign;for(k=0;k<_2fa.length;k++){if(typeof _2f7[_2fa[k]]!="undefined"){_2f9=true;_2f7=_2f7.push();break;}}if(!_2f9&&_2f7.forloop){_2f9=true;_2f7=_2f7.push();}var _2fb=this.loop.resolve(_2f7)||[];for(i=_2fb.length;i<this.pool.length;i++){this.pool[i].unrender(_2f7,_2f8,this);}if(this.reversed){_2fb=_2fb.slice(0).reverse();}var _2fc=dojo.isObject(_2fb)&&!dojo.isArrayLike(_2fb);var _2fd=[];if(_2fc){for(var key in _2fb){_2fd.push(_2fb[key]);}}else{_2fd=_2fb;}var _2fe=_2f7.forloop={parentloop:_2f7.get("forloop",{})};var j=0;for(i=0;i<_2fd.length;i++){var item=_2fd[i];_2fe.counter0=j;_2fe.counter=j+1;_2fe.revcounter0=_2fd.length-j-1;_2fe.revcounter=_2fd.length-j;_2fe.first=!j;_2fe.last=(j==_2fd.length-1);if(_2fa.length>1&&dojo.isArrayLike(item)){if(!_2f9){_2f9=true;_2f7=_2f7.push();}var _2ff={};for(k=0;k<item.length&&k<_2fa.length;k++){_2ff[_2fa[k]]=item[k];}dojo.mixin(_2f7,_2ff);}else{_2f7[_2fa[0]]=item;}if(j+1>this.pool.length){this.pool.push(this.nodelist.clone(_2f8));}_2f8=this.pool[j++].render(_2f7,_2f8,this);}delete _2f7.forloop;if(_2f9){_2f7=_2f7.pop();}else{for(k=0;k<_2fa.length;k++){delete _2f7[_2fa[k]];}}return _2f8;},unrender:function(_300,_301){for(var i=0,pool;pool=this.pool[i];i++){_301=pool.unrender(_300,_301);}return _301;},clone:function(_302){return new this.constructor(this.assign,this.loop.getExpression(),this.reversed,this.nodelist.clone(_302));}});dojo.mixin(ddtl,{if_:function(_303,_304){var i,part,type,_305=[],_306=_304.contents.split();_306.shift();_304=_306.join(" ");_306=_304.split(" and ");if(_306.length==1){type="or";_306=_304.split(" or ");}else{type="and";for(i=0;i<_306.length;i++){if(_306[i].indexOf(" or ")!=-1){throw new Error("'if' tags can't mix 'and' and 'or'");}}}for(i=0;part=_306[i];i++){var not=false;if(part.indexOf("not ")==0){part=part.slice(4);not=true;}_305.push([not,new dd._Filter(part)]);}var _307=_303.parse(["else","endif"]);var _308=false;var _304=_303.next_token();if(_304.contents=="else"){_308=_303.parse(["endif"]);_303.next_token();}return new ddtl.IfNode(_305,_307,_308,type);},_ifequal:function(_309,_30a,_30b){var _30c=_30a.split_contents();if(_30c.length!=3){throw new Error(_30c[0]+" takes two arguments");}var end="end"+_30c[0];var _30d=_309.parse(["else",end]);var _30e=false;var _30a=_309.next_token();if(_30a.contents=="else"){_30e=_309.parse([end]);_309.next_token();}return new ddtl.IfEqualNode(_30c[1],_30c[2],_30d,_30e,_30b);},ifequal:function(_30f,_310){return ddtl._ifequal(_30f,_310);},ifnotequal:function(_311,_312){return ddtl._ifequal(_311,_312,true);},for_:function(_313,_314){var _315=_314.contents.split();if(_315.length<4){throw new Error("'for' statements should have at least four words: "+_314.contents);}var _316=_315[_315.length-1]=="reversed";var _317=(_316)?-3:-2;if(_315[_315.length+_317]!="in"){throw new Error("'for' tag received an invalid argument: "+_314.contents);}var _318=_315.slice(1,_317).join(" ").split(/ *, */);for(var i=0;i<_318.length;i++){if(!_318[i]||_318[i].indexOf(" ")!=-1){throw new Error("'for' tag received an invalid argument: "+_314.contents);}}var _319=_313.parse(["endfor"]);_313.next_token();return new ddtl.ForNode(_318,_315[_315.length+_317+1],_316,_319);}});})();}if(!dojo._hasResource["dojox.dtl.tag.loop"]){dojo._hasResource["dojox.dtl.tag.loop"]=true;dojo.provide("dojox.dtl.tag.loop");(function(){var dd=dojox.dtl;var ddtl=dd.tag.loop;ddtl.CycleNode=dojo.extend(function(_31a,name,text,_31b){this.cyclevars=_31a;this.name=name;this.contents=text;this.shared=_31b||{counter:-1,map:{}};},{render:function(_31c,_31d){if(_31c.forloop&&!_31c.forloop.counter0){this.shared.counter=-1;}++this.shared.counter;var _31e=this.cyclevars[this.shared.counter%this.cyclevars.length];var map=this.shared.map;if(!map[_31e]){map[_31e]=new dd._Filter(_31e);}_31e=map[_31e].resolve(_31c,_31d);if(this.name){_31c[this.name]=_31e;}this.contents.set(_31e);return this.contents.render(_31c,_31d);},unrender:function(_31f,_320){return this.contents.unrender(_31f,_320);},clone:function(_321){return new this.constructor(this.cyclevars,this.name,this.contents.clone(_321),this.shared);}});ddtl.IfChangedNode=dojo.extend(function(_322,vars,_323){this.nodes=_322;this._vars=vars;this.shared=_323||{last:null,counter:0};this.vars=dojo.map(vars,function(item){return new dojox.dtl._Filter(item);});},{render:function(_324,_325){if(_324.forloop){if(_324.forloop.counter<=this.shared.counter){this.shared.last=null;}this.shared.counter=_324.forloop.counter;}var _326;if(this.vars.length){_326=dojo.toJson(dojo.map(this.vars,function(item){return item.resolve(_324);}));}else{_326=this.nodes.dummyRender(_324,_325);}if(_326!=this.shared.last){var _327=(this.shared.last===null);this.shared.last=_326;_324=_324.push();_324.ifchanged={firstloop:_327};_325=this.nodes.render(_324,_325);_324=_324.pop();}else{_325=this.nodes.unrender(_324,_325);}return _325;},unrender:function(_328,_329){return this.nodes.unrender(_328,_329);},clone:function(_32a){return new this.constructor(this.nodes.clone(_32a),this._vars,this.shared);}});ddtl.RegroupNode=dojo.extend(function(_32b,key,_32c){this._expression=_32b;this.expression=new dd._Filter(_32b);this.key=key;this.alias=_32c;},{_push:function(_32d,_32e,_32f){if(_32f.length){_32d.push({grouper:_32e,list:_32f});}},render:function(_330,_331){_330[this.alias]=[];var list=this.expression.resolve(_330);if(list){var last=null;var _332=[];for(var i=0;i<list.length;i++){var id=list[i][this.key];if(last!==id){this._push(_330[this.alias],last,_332);last=id;_332=[list[i]];}else{_332.push(list[i]);}}this._push(_330[this.alias],last,_332);}return _331;},unrender:function(_333,_334){return _334;},clone:function(_335,_336){return this;}});dojo.mixin(ddtl,{cycle:function(_337,_338){var args=_338.split_contents();if(args.length<2){throw new Error("'cycle' tag requires at least two arguments");}if(args[1].indexOf(",")!=-1){var vars=args[1].split(",");args=[args[0]];for(var i=0;i<vars.length;i++){args.push("\""+vars[i]+"\"");}}if(args.length==2){var name=args[args.length-1];if(!_337._namedCycleNodes){throw new Error("No named cycles in template: '"+name+"' is not defined");}if(!_337._namedCycleNodes[name]){throw new Error("Named cycle '"+name+"' does not exist");}return _337._namedCycleNodes[name];}if(args.length>4&&args[args.length-2]=="as"){var name=args[args.length-1];var node=new ddtl.CycleNode(args.slice(1,args.length-2),name,_337.create_text_node());if(!_337._namedCycleNodes){_337._namedCycleNodes={};}_337._namedCycleNodes[name]=node;}else{node=new ddtl.CycleNode(args.slice(1),null,_337.create_text_node());}return node;},ifchanged:function(_339,_33a){var _33b=_33a.contents.split();var _33c=_339.parse(["endifchanged"]);_339.delete_first_token();return new ddtl.IfChangedNode(_33c,_33b.slice(1));},regroup:function(_33d,_33e){var _33f=dojox.string.tokenize(_33e.contents,/(\s+)/g,function(_340){return _340;});if(_33f.length<11||_33f[_33f.length-3]!="as"||_33f[_33f.length-7]!="by"){throw new Error("Expected the format: regroup list by key as newList");}var _341=_33f.slice(2,-8).join("");var key=_33f[_33f.length-5];var _342=_33f[_33f.length-1];return new ddtl.RegroupNode(_341,key,_342);}});})();}if(!dojo._hasResource["dojox.dtl.filter.lists"]){dojo._hasResource["dojox.dtl.filter.lists"]=true;dojo.provide("dojox.dtl.filter.lists");dojo.mixin(dojox.dtl.filter.lists,{_dictsort:function(a,b){if(a[0]==b[0]){return 0;}return (a[0]<b[0])?-1:1;},dictsort:function(_343,arg){if(!arg){return _343;}var i,item,_344=[];if(!dojo.isArray(_343)){var obj=_343,_343=[];for(var key in obj){_343.push(obj[key]);}}for(i=0;i<_343.length;i++){_344.push([new dojox.dtl._Filter("var."+arg).resolve(new dojox.dtl._Context({"var":_343[i]})),_343[i]]);}_344.sort(dojox.dtl.filter.lists._dictsort);var _345=[];for(i=0;item=_344[i];i++){_345.push(item[1]);}return _345;},dictsortreversed:function(_346,arg){if(!arg){return _346;}var _347=dojox.dtl.filter.lists.dictsort(_346,arg);return _347.reverse();},first:function(_348){return (_348.length)?_348[0]:"";},join:function(_349,arg){return _349.join(arg||",");},length:function(_34a){return (isNaN(_34a.length))?(_34a+"").length:_34a.length;},length_is:function(_34b,arg){return _34b.length==parseInt(arg);},random:function(_34c){return _34c[Math.floor(Math.random()*_34c.length)];},slice:function(_34d,arg){arg=arg||"";var _34e=arg.split(":");var bits=[];for(var i=0;i<_34e.length;i++){if(!_34e[i].length){bits.push(null);}else{bits.push(parseInt(_34e[i]));}}if(bits[0]===null){bits[0]=0;}if(bits[0]<0){bits[0]=_34d.length+bits[0];}if(bits.length<2||bits[1]===null){bits[1]=_34d.length;}if(bits[1]<0){bits[1]=_34d.length+bits[1];}return _34d.slice(bits[0],bits[1]);},_unordered_list:function(_34f,tabs){var ddl=dojox.dtl.filter.lists;var i,_350="";for(i=0;i<tabs;i++){_350+="\t";}if(_34f[1]&&_34f[1].length){var _351=[];for(i=0;i<_34f[1].length;i++){_351.push(ddl._unordered_list(_34f[1][i],tabs+1));}return _350+"<li>"+_34f[0]+"\n"+_350+"<ul>\n"+_351.join("\n")+"\n"+_350+"</ul>\n"+_350+"</li>";}else{return _350+"<li>"+_34f[0]+"</li>";}},unordered_list:function(_352){return dojox.dtl.filter.lists._unordered_list(_352,1);}});}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.getObject("date",true,dojo);dojo.date.getDaysInMonth=function(_353){var _354=_353.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_354==1&&dojo.date.isLeapYear(_353)){return 29;}return days[_354];};dojo.date.isLeapYear=function(_355){var year=_355.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_356){var str=_356.toString();var tz="";var _357;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_357=str.match(pat))){tz=_357[1];}else{str=_356.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_357=str.match(pat))){tz=_357[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_358,_359,_35a){_358=new Date(+_358);_359=new Date(+(_359||new Date()));if(_35a=="date"){_358.setHours(0,0,0,0);_359.setHours(0,0,0,0);}else{if(_35a=="time"){_358.setFullYear(0,0,0);_359.setFullYear(0,0,0);}}if(_358>_359){return 1;}if(_358<_359){return -1;}return 0;};dojo.date.add=function(date,_35b,_35c){var sum=new Date(+date);var _35d=false;var _35e="Date";switch(_35b){case "day":break;case "weekday":var days,_35f;var mod=_35c%5;if(!mod){days=(_35c>0)?5:-5;_35f=(_35c>0)?((_35c-5)/5):((_35c+5)/5);}else{days=mod;_35f=parseInt(_35c/5);}var strt=date.getDay();var adj=0;if(strt==6&&_35c>0){adj=1;}else{if(strt==0&&_35c<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_35c>0)?2:-2;}_35c=(7*_35f)+days+adj;break;case "year":_35e="FullYear";_35d=true;break;case "week":_35c*=7;break;case "quarter":_35c*=3;case "month":_35d=true;_35e="Month";break;default:_35e="UTC"+_35b.charAt(0).toUpperCase()+_35b.substring(1)+"s";}if(_35e){sum["set"+_35e](sum["get"+_35e]()+_35c);}if(_35d&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_360,_361,_362){_361=_361||new Date();_362=_362||"day";var _363=_361.getFullYear()-_360.getFullYear();var _364=1;switch(_362){case "quarter":var m1=_360.getMonth();var m2=_361.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_363*4);_364=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_360,_361,"day"));var _365=parseInt(dojo.date.difference(_360,_361,"week"));var mod=days%7;if(mod==0){days=_365*5;}else{var adj=0;var aDay=_360.getDay();var bDay=_361.getDay();_365=parseInt(days/7);mod=days%7;var _366=new Date(_360);_366.setDate(_366.getDate()+(_365*7));var _367=_366.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_367+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_367+mod)<0:adj=2;}}}days+=adj;days-=(_365*2);}_364=days;break;case "year":_364=_363;break;case "month":_364=(_361.getMonth()-_360.getMonth())+(_363*12);break;case "week":_364=parseInt(dojo.date.difference(_360,_361,"day")/7);break;case "day":_364/=24;case "hour":_364/=60;case "minute":_364/=60;case "second":_364/=1000;case "millisecond":_364*=_361.getTime()-_360.getTime();}return Math.round(_364);};}if(!dojo._hasResource["dojox.date.php"]){dojo._hasResource["dojox.date.php"]=true;dojo.provide("dojox.date.php");dojox.date.php.format=function(date,_368){var df=new dojox.date.php.DateFormat(_368);return df.format(date);};dojox.date.php.DateFormat=function(_369){if(!this.regex){var keys=[];for(var key in this.constructor.prototype){if(dojo.isString(key)&&key.length==1&&dojo.isFunction(this[key])){keys.push(key);}}this.constructor.prototype.regex=new RegExp("(?:(\\\\.)|(["+keys.join("")+"]))","g");}var _36a=[];this.tokens=dojox.string.tokenize(_369,this.regex,function(_36b,_36c,i){if(_36c){_36a.push([i,_36c]);return _36c;}if(_36b){return _36b.charAt(1);}});this.replacements=_36a;};dojo.extend(dojox.date.php.DateFormat,{weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdays_3:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_3:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthdays:[31,28,31,30,31,30,31,31,30,31,30,31],format:function(date){this.date=date;for(var i=0,_36d;_36d=this.replacements[i];i++){this.tokens[_36d[0]]=this[_36d[1]]();}return this.tokens.join("");},d:function(){var j=this.j();return (j.length==1)?"0"+j:j;},D:function(){return this.weekdays_3[this.date.getDay()];},j:function(){return this.date.getDate()+"";},l:function(){return this.weekdays[this.date.getDay()];},N:function(){var w=this.w();return (!w)?7:w;},S:function(){switch(this.date.getDate()){case 11:case 12:case 13:return "th";case 1:case 21:case 31:return "st";case 2:case 22:return "nd";case 3:case 23:return "rd";default:return "th";}},w:function(){return this.date.getDay()+"";},z:function(){var _36e=this.date.getTime()-new Date(this.date.getFullYear(),0,1).getTime();return Math.floor(_36e/86400000)+"";},W:function(){var week;var _36f=new Date(this.date.getFullYear(),0,1).getDay()+1;var w=this.date.getDay()+1;var z=parseInt(this.z());if(z<=(8-_36f)&&_36f>4){var _370=new Date(this.date.getFullYear()-1,this.date.getMonth(),this.date.getDate());if(_36f==5||(_36f==6&&dojo.date.isLeapYear(_370))){week=53;}else{week=52;}}else{var i;if(Boolean(this.L())){i=366;}else{i=365;}if((i-z)<(4-w)){week=1;}else{var j=z+(7-w)+(_36f-1);week=Math.ceil(j/7);if(_36f>4){--week;}}}return week;},F:function(){return this.months[this.date.getMonth()];},m:function(){var n=this.n();return (n.length==1)?"0"+n:n;},M:function(){return this.months_3[this.date.getMonth()];},n:function(){return this.date.getMonth()+1+"";},t:function(){return (Boolean(this.L())&&this.date.getMonth()==1)?29:this.monthdays[this.getMonth()];},L:function(){return (dojo.date.isLeapYear(this.date))?"1":"0";},o:function(){},Y:function(){return this.date.getFullYear()+"";},y:function(){return this.Y().slice(-2);},a:function(){return this.date.getHours()>=12?"pm":"am";},b:function(){return this.a().toUpperCase();},B:function(){var off=this.date.getTimezoneOffset()+60;var secs=(this.date.getHours()*3600)+(this.date.getMinutes()*60)+this.getSeconds()+(off*60);var beat=Math.abs(Math.floor(secs/86.4)%1000)+"";while(beat.length<2){beat="0"+beat;}return beat;},g:function(){return (this.date.getHours()>12)?this.date.getHours()-12+"":this.date.getHours()+"";},G:function(){return this.date.getHours()+"";},h:function(){var g=this.g();return (g.length==1)?"0"+g:g;},H:function(){var G=this.G();return (G.length==1)?"0"+G:G;},i:function(){var mins=this.date.getMinutes()+"";return (mins.length==1)?"0"+mins:mins;},s:function(){var secs=this.date.getSeconds()+"";return (secs.length==1)?"0"+secs:secs;},e:function(){return dojo.date.getTimezoneName(this.date);},I:function(){},O:function(){var off=Math.abs(this.date.getTimezoneOffset());var _371=Math.floor(off/60)+"";var mins=(off%60)+"";if(_371.length==1){_371="0"+_371;}if(mins.length==1){_371="0"+mins;}return ((this.date.getTimezoneOffset()<0)?"+":"-")+_371+mins;},P:function(){var O=this.O();return O.substring(0,2)+":"+O.substring(2,4);},T:function(){return this.e().substring(0,3);},Z:function(){return this.date.getTimezoneOffset()*-60;},c:function(){return this.Y()+"-"+this.m()+"-"+this.d()+"T"+this.h()+":"+this.i()+":"+this.s()+this.P();},r:function(){return this.D()+", "+this.d()+" "+this.M()+" "+this.Y()+" "+this.H()+":"+this.i()+":"+this.s()+" "+this.O();},U:function(){return Math.floor(this.date.getTime()/1000);}});}if(!dojo._hasResource["dojox.dtl.utils.date"]){dojo._hasResource["dojox.dtl.utils.date"]=true;dojo.provide("dojox.dtl.utils.date");dojox.dtl.utils.date.DateFormat=function(_372){dojox.date.php.DateFormat.call(this,_372);};dojo.extend(dojox.dtl.utils.date.DateFormat,dojox.date.php.DateFormat.prototype,{f:function(){return (!this.date.getMinutes())?this.g():this.g()+":"+this.i();},N:function(){return dojox.dtl.utils.date._months_ap[this.date.getMonth()];},P:function(){if(!this.date.getMinutes()&&!this.date.getHours()){return "midnight";}if(!this.date.getMinutes()&&this.date.getHours()==12){return "noon";}return this.f()+" "+this.a();}});dojo.mixin(dojox.dtl.utils.date,{format:function(date,_373){var df=new dojox.dtl.utils.date.DateFormat(_373);return df.format(date);},timesince:function(d,now){if(!(d instanceof Date)){d=new Date(d.year,d.month,d.day);}if(!now){now=new Date();}var _374=Math.abs(now.getTime()-d.getTime());for(var i=0,_375;_375=dojox.dtl.utils.date._chunks[i];i++){var _376=Math.floor(_374/_375[0]);if(_376){break;}}return _376+" "+_375[1](_376);},_chunks:[[60*60*24*365*1000,function(n){return (n==1)?"year":"years";}],[60*60*24*30*1000,function(n){return (n==1)?"month":"months";}],[60*60*24*7*1000,function(n){return (n==1)?"week":"weeks";}],[60*60*24*1000,function(n){return (n==1)?"day":"days";}],[60*60*1000,function(n){return (n==1)?"hour":"hours";}],[60*1000,function(n){return (n==1)?"minute":"minutes";}]],_months_ap:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]});}if(!dojo._hasResource["dojox.dtl.filter.dates"]){dojo._hasResource["dojox.dtl.filter.dates"]=true;dojo.provide("dojox.dtl.filter.dates");(function(){var ddfd=dojox.dtl.filter.dates;dojo.mixin(ddfd,{_toDate:function(_377){if(_377 instanceof Date){return _377;}_377=new Date(_377);if(_377.getTime()==new Date(0).getTime()){return "";}return _377;},date:function(_378,arg){_378=ddfd._toDate(_378);if(!_378){return "";}arg=arg||"N j, Y";return dojox.dtl.utils.date.format(_378,arg);},time:function(_379,arg){_379=ddfd._toDate(_379);if(!_379){return "";}arg=arg||"P";return dojox.dtl.utils.date.format(_379,arg);},timesince:function(_37a,arg){_37a=ddfd._toDate(_37a);if(!_37a){return "";}var _37b=dojox.dtl.utils.date.timesince;if(arg){return _37b(arg,_37a);}return _37b(_37a);},timeuntil:function(_37c,arg){_37c=ddfd._toDate(_37c);if(!_37c){return "";}var _37d=dojox.dtl.utils.date.timesince;if(arg){return _37d(arg,_37c);}return _37d(new Date(),_37c);}});})();}if(!dojo._hasResource["dojox.dtl.filter.htmlstrings"]){dojo._hasResource["dojox.dtl.filter.htmlstrings"]=true;dojo.provide("dojox.dtl.filter.htmlstrings");dojo.mixin(dojox.dtl.filter.htmlstrings,{_linebreaksrn:/(\r\n|\n\r)/g,_linebreaksn:/\n{2,}/g,_linebreakss:/(^\s+|\s+$)/g,_linebreaksbr:/\n/g,_removetagsfind:/[a-z0-9]+/g,_striptags:/<[^>]*?>/g,linebreaks:function(_37e){var _37f=[];var dh=dojox.dtl.filter.htmlstrings;_37e=_37e.replace(dh._linebreaksrn,"\n");var _380=_37e.split(dh._linebreaksn);for(var i=0;i<_380.length;i++){var part=_380[i].replace(dh._linebreakss,"").replace(dh._linebreaksbr,"<br />");_37f.push("<p>"+part+"</p>");}return _37f.join("\n\n");},linebreaksbr:function(_381){var dh=dojox.dtl.filter.htmlstrings;return _381.replace(dh._linebreaksrn,"\n").replace(dh._linebreaksbr,"<br />");},removetags:function(_382,arg){var dh=dojox.dtl.filter.htmlstrings;var tags=[];var _383;while(_383=dh._removetagsfind.exec(arg)){tags.push(_383[0]);}tags="("+tags.join("|")+")";return _382.replace(new RegExp("</?s*"+tags+"s*[^>]*>","gi"),"");},striptags:function(_384){return _384.replace(dojox.dtl.filter.htmlstrings._striptags,"");}});}if(!dojo._hasResource["dojox.string.sprintf"]){dojo._hasResource["dojox.string.sprintf"]=true;dojo.provide("dojox.string.sprintf");dojox.string.sprintf=function(_385,_386){for(var args=[],i=1;i<arguments.length;i++){args.push(arguments[i]);}var _387=new dojox.string.sprintf.Formatter(_385);return _387.format.apply(_387,args);};dojox.string.sprintf.Formatter=function(_388){var _389=[];this._mapped=false;this._format=_388;this._tokens=dojox.string.tokenize(_388,this._re,this._parseDelim,this);};dojo.extend(dojox.string.sprintf.Formatter,{_re:/\%(?:\(([\w_]+)\)|([1-9]\d*)\$)?([0 +\-\#]*)(\*|\d+)?(\.)?(\*|\d+)?[hlL]?([\%scdeEfFgGiouxX])/g,_parseDelim:function(_38a,_38b,_38c,_38d,_38e,_38f,_390){if(_38a){this._mapped=true;}return {mapping:_38a,intmapping:_38b,flags:_38c,_minWidth:_38d,period:_38e,_precision:_38f,specifier:_390};},_specifiers:{b:{base:2,isInt:true},o:{base:8,isInt:true},x:{base:16,isInt:true},X:{extend:["x"],toUpper:true},d:{base:10,isInt:true},i:{extend:["d"]},u:{extend:["d"],isUnsigned:true},c:{setArg:function(_391){if(!isNaN(_391.arg)){var num=parseInt(_391.arg);if(num<0||num>127){throw new Error("invalid character code passed to %c in sprintf");}_391.arg=isNaN(num)?""+num:String.fromCharCode(num);}}},s:{setMaxWidth:function(_392){_392.maxWidth=(_392.period==".")?_392.precision:-1;}},e:{isDouble:true,doubleNotation:"e"},E:{extend:["e"],toUpper:true},f:{isDouble:true,doubleNotation:"f"},F:{extend:["f"]},g:{isDouble:true,doubleNotation:"g"},G:{extend:["g"],toUpper:true}},format:function(_393){if(this._mapped&&typeof _393!="object"){throw new Error("format requires a mapping");}var str="";var _394=0;for(var i=0,_395;i<this._tokens.length;i++){_395=this._tokens[i];if(typeof _395=="string"){str+=_395;}else{if(this._mapped){if(typeof _393[_395.mapping]=="undefined"){throw new Error("missing key "+_395.mapping);}_395.arg=_393[_395.mapping];}else{if(_395.intmapping){var _394=parseInt(_395.intmapping)-1;}if(_394>=arguments.length){throw new Error("got "+arguments.length+" printf arguments, insufficient for '"+this._format+"'");}_395.arg=arguments[_394++];}if(!_395.compiled){_395.compiled=true;_395.sign="";_395.zeroPad=false;_395.rightJustify=false;_395.alternative=false;var _396={};for(var fi=_395.flags.length;fi--;){var flag=_395.flags.charAt(fi);_396[flag]=true;switch(flag){case " ":_395.sign=" ";break;case "+":_395.sign="+";break;case "0":_395.zeroPad=(_396["-"])?false:true;break;case "-":_395.rightJustify=true;_395.zeroPad=false;break;case "#":_395.alternative=true;break;default:throw Error("bad formatting flag '"+_395.flags.charAt(fi)+"'");}}_395.minWidth=(_395._minWidth)?parseInt(_395._minWidth):0;_395.maxWidth=-1;_395.toUpper=false;_395.isUnsigned=false;_395.isInt=false;_395.isDouble=false;_395.precision=1;if(_395.period=="."){if(_395._precision){_395.precision=parseInt(_395._precision);}else{_395.precision=0;}}var _397=this._specifiers[_395.specifier];if(typeof _397=="undefined"){throw new Error("unexpected specifier '"+_395.specifier+"'");}if(_397.extend){dojo.mixin(_397,this._specifiers[_397.extend]);delete _397.extend;}dojo.mixin(_395,_397);}if(typeof _395.setArg=="function"){_395.setArg(_395);}if(typeof _395.setMaxWidth=="function"){_395.setMaxWidth(_395);}if(_395._minWidth=="*"){if(this._mapped){throw new Error("* width not supported in mapped formats");}_395.minWidth=parseInt(arguments[_394++]);if(isNaN(_395.minWidth)){throw new Error("the argument for * width at position "+_394+" is not a number in "+this._format);}if(_395.minWidth<0){_395.rightJustify=true;_395.minWidth=-_395.minWidth;}}if(_395._precision=="*"&&_395.period=="."){if(this._mapped){throw new Error("* precision not supported in mapped formats");}_395.precision=parseInt(arguments[_394++]);if(isNaN(_395.precision)){throw Error("the argument for * precision at position "+_394+" is not a number in "+this._format);}if(_395.precision<0){_395.precision=1;_395.period="";}}if(_395.isInt){if(_395.period=="."){_395.zeroPad=false;}this.formatInt(_395);}else{if(_395.isDouble){if(_395.period!="."){_395.precision=6;}this.formatDouble(_395);}}this.fitField(_395);str+=""+_395.arg;}}return str;},_zeros10:"0000000000",_spaces10:"          ",formatInt:function(_398){var i=parseInt(_398.arg);if(!isFinite(i)){if(typeof _398.arg!="number"){throw new Error("format argument '"+_398.arg+"' not an integer; parseInt returned "+i);}i=0;}if(i<0&&(_398.isUnsigned||_398.base!=10)){i=4294967295+i+1;}if(i<0){_398.arg=(-i).toString(_398.base);this.zeroPad(_398);_398.arg="-"+_398.arg;}else{_398.arg=i.toString(_398.base);if(!i&&!_398.precision){_398.arg="";}else{this.zeroPad(_398);}if(_398.sign){_398.arg=_398.sign+_398.arg;}}if(_398.base==16){if(_398.alternative){_398.arg="0x"+_398.arg;}_398.arg=_398.toUpper?_398.arg.toUpperCase():_398.arg.toLowerCase();}if(_398.base==8){if(_398.alternative&&_398.arg.charAt(0)!="0"){_398.arg="0"+_398.arg;}}},formatDouble:function(_399){var f=parseFloat(_399.arg);if(!isFinite(f)){if(typeof _399.arg!="number"){throw new Error("format argument '"+_399.arg+"' not a float; parseFloat returned "+f);}f=0;}switch(_399.doubleNotation){case "e":_399.arg=f.toExponential(_399.precision);break;case "f":_399.arg=f.toFixed(_399.precision);break;case "g":if(Math.abs(f)<0.0001){_399.arg=f.toExponential(_399.precision>0?_399.precision-1:_399.precision);}else{_399.arg=f.toPrecision(_399.precision);}if(!_399.alternative){_399.arg=_399.arg.replace(/(\..*[^0])0*/,"$1");_399.arg=_399.arg.replace(/\.0*e/,"e").replace(/\.0$/,"");}break;default:throw new Error("unexpected double notation '"+_399.doubleNotation+"'");}_399.arg=_399.arg.replace(/e\+(\d)$/,"e+0$1").replace(/e\-(\d)$/,"e-0$1");if(dojo.isOpera){_399.arg=_399.arg.replace(/^\./,"0.");}if(_399.alternative){_399.arg=_399.arg.replace(/^(\d+)$/,"$1.");_399.arg=_399.arg.replace(/^(\d+)e/,"$1.e");}if(f>=0&&_399.sign){_399.arg=_399.sign+_399.arg;}_399.arg=_399.toUpper?_399.arg.toUpperCase():_399.arg.toLowerCase();},zeroPad:function(_39a,_39b){_39b=(arguments.length==2)?_39b:_39a.precision;if(typeof _39a.arg!="string"){_39a.arg=""+_39a.arg;}var _39c=_39b-10;while(_39a.arg.length<_39c){_39a.arg=(_39a.rightJustify)?_39a.arg+this._zeros10:this._zeros10+_39a.arg;}var pad=_39b-_39a.arg.length;_39a.arg=(_39a.rightJustify)?_39a.arg+this._zeros10.substring(0,pad):this._zeros10.substring(0,pad)+_39a.arg;},fitField:function(_39d){if(_39d.maxWidth>=0&&_39d.arg.length>_39d.maxWidth){return _39d.arg.substring(0,_39d.maxWidth);}if(_39d.zeroPad){this.zeroPad(_39d,_39d.minWidth);return;}this.spacePad(_39d);},spacePad:function(_39e,_39f){_39f=(arguments.length==2)?_39f:_39e.minWidth;if(typeof _39e.arg!="string"){_39e.arg=""+_39e.arg;}var _3a0=_39f-10;while(_39e.arg.length<_3a0){_39e.arg=(_39e.rightJustify)?_39e.arg+this._spaces10:this._spaces10+_39e.arg;}var pad=_39f-_39e.arg.length;_39e.arg=(_39e.rightJustify)?_39e.arg+this._spaces10.substring(0,pad):this._spaces10.substring(0,pad)+_39e.arg;}});}if(!dojo._hasResource["dojox.dtl.filter.strings"]){dojo._hasResource["dojox.dtl.filter.strings"]=true;dojo.provide("dojox.dtl.filter.strings");dojo.mixin(dojox.dtl.filter.strings,{_urlquote:function(url,safe){if(!safe){safe="/";}return dojox.string.tokenize(url,/([^\w-_.])/g,function(_3a1){if(safe.indexOf(_3a1)==-1){if(_3a1==" "){return "+";}else{return "%"+_3a1.charCodeAt(0).toString(16).toUpperCase();}}return _3a1;}).join("");},addslashes:function(_3a2){return _3a2.replace(/\\/g,"\\\\").replace(/"/g,"\\\"").replace(/'/g,"\\'");},capfirst:function(_3a3){_3a3=""+_3a3;return _3a3.charAt(0).toUpperCase()+_3a3.substring(1);},center:function(_3a4,arg){arg=arg||_3a4.length;_3a4=_3a4+"";var diff=arg-_3a4.length;if(diff%2){_3a4=_3a4+" ";diff-=1;}for(var i=0;i<diff;i+=2){_3a4=" "+_3a4+" ";}return _3a4;},cut:function(_3a5,arg){arg=arg+""||"";_3a5=_3a5+"";return _3a5.replace(new RegExp(arg,"g"),"");},_fix_ampersands:/&(?!(\w+|#\d+);)/g,fix_ampersands:function(_3a6){return _3a6.replace(dojox.dtl.filter.strings._fix_ampersands,"&amp;");},floatformat:function(_3a7,arg){arg=parseInt(arg||-1,10);_3a7=parseFloat(_3a7);var m=_3a7-_3a7.toFixed(0);if(!m&&arg<0){return _3a7.toFixed();}_3a7=_3a7.toFixed(Math.abs(arg));return (arg<0)?parseFloat(_3a7)+"":_3a7;},iriencode:function(_3a8){return dojox.dtl.filter.strings._urlquote(_3a8,"/#%[]=:;$&()+,!");},linenumbers:function(_3a9){var df=dojox.dtl.filter;var _3aa=_3a9.split("\n");var _3ab=[];var _3ac=(_3aa.length+"").length;for(var i=0,line;i<_3aa.length;i++){line=_3aa[i];_3ab.push(df.strings.ljust(i+1,_3ac)+". "+dojox.dtl._base.escape(line));}return _3ab.join("\n");},ljust:function(_3ad,arg){_3ad=_3ad+"";arg=parseInt(arg,10);while(_3ad.length<arg){_3ad=_3ad+" ";}return _3ad;},lower:function(_3ae){return (_3ae+"").toLowerCase();},make_list:function(_3af){var _3b0=[];if(typeof _3af=="number"){_3af=_3af+"";}if(_3af.charAt){for(var i=0;i<_3af.length;i++){_3b0.push(_3af.charAt(i));}return _3b0;}if(typeof _3af=="object"){for(var key in _3af){_3b0.push(_3af[key]);}return _3b0;}return [];},rjust:function(_3b1,arg){_3b1=_3b1+"";arg=parseInt(arg,10);while(_3b1.length<arg){_3b1=" "+_3b1;}return _3b1;},slugify:function(_3b2){_3b2=_3b2.replace(/[^\w\s-]/g,"").toLowerCase();return _3b2.replace(/[\-\s]+/g,"-");},_strings:{},stringformat:function(_3b3,arg){arg=""+arg;var _3b4=dojox.dtl.filter.strings._strings;if(!_3b4[arg]){_3b4[arg]=new dojox.string.sprintf.Formatter("%"+arg);}return _3b4[arg].format(_3b3);},title:function(_3b5){var last,_3b6="";for(var i=0,_3b7;i<_3b5.length;i++){_3b7=_3b5.charAt(i);if(last==" "||last=="\n"||last=="\t"||!last){_3b6+=_3b7.toUpperCase();}else{_3b6+=_3b7.toLowerCase();}last=_3b7;}return _3b6;},_truncatewords:/[ \n\r\t]/,truncatewords:function(_3b8,arg){arg=parseInt(arg,10);if(!arg){return _3b8;}for(var i=0,j=_3b8.length,_3b9=0,_3ba,last;i<_3b8.length;i++){_3ba=_3b8.charAt(i);if(dojox.dtl.filter.strings._truncatewords.test(last)){if(!dojox.dtl.filter.strings._truncatewords.test(_3ba)){++_3b9;if(_3b9==arg){return _3b8.substring(0,j+1);}}}else{if(!dojox.dtl.filter.strings._truncatewords.test(_3ba)){j=i;}}last=_3ba;}return _3b8;},_truncate_words:/(&.*?;|<.*?>|(\w[\w\-]*))/g,_truncate_tag:/<(\/)?([^ ]+?)(?: (\/)| .*?)?>/,_truncate_singlets:{br:true,col:true,link:true,base:true,img:true,param:true,area:true,hr:true,input:true},truncatewords_html:function(_3bb,arg){arg=parseInt(arg,10);if(arg<=0){return "";}var _3bc=dojox.dtl.filter.strings;var _3bd=0;var open=[];var _3be=dojox.string.tokenize(_3bb,_3bc._truncate_words,function(all,word){if(word){++_3bd;if(_3bd<arg){return word;}else{if(_3bd==arg){return word+" ...";}}}var tag=all.match(_3bc._truncate_tag);if(!tag||_3bd>=arg){return;}var _3bf=tag[1];var _3c0=tag[2].toLowerCase();var _3c1=tag[3];if(_3bf||_3bc._truncate_singlets[_3c0]){}else{if(_3bf){var i=dojo.indexOf(open,_3c0);if(i!=-1){open=open.slice(i+1);}}else{open.unshift(_3c0);}}return all;}).join("");_3be=_3be.replace(/\s+$/g,"");for(var i=0,tag;tag=open[i];i++){_3be+="</"+tag+">";}return _3be;},upper:function(_3c2){return _3c2.toUpperCase();},urlencode:function(_3c3){return dojox.dtl.filter.strings._urlquote(_3c3);},_urlize:/^((?:[(>]|&lt;)*)(.*?)((?:[.,)>\n]|&gt;)*)$/,_urlize2:/^\S+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+$/,urlize:function(_3c4){return dojox.dtl.filter.strings.urlizetrunc(_3c4);},urlizetrunc:function(_3c5,arg){arg=parseInt(arg);return dojox.string.tokenize(_3c5,/(\S+)/g,function(word){var _3c6=dojox.dtl.filter.strings._urlize.exec(word);if(!_3c6){return word;}var lead=_3c6[1];var _3c7=_3c6[2];var _3c8=_3c6[3];var _3c9=_3c7.indexOf("www.")==0;var _3ca=_3c7.indexOf("@")!=-1;var _3cb=_3c7.indexOf(":")!=-1;var _3cc=_3c7.indexOf("http://")==0;var _3cd=_3c7.indexOf("https://")==0;var _3ce=/[a-zA-Z0-9]/.test(_3c7.charAt(0));var _3cf=_3c7.substring(_3c7.length-4);var _3d0=_3c7;if(arg>3){_3d0=_3d0.substring(0,arg-3)+"...";}if(_3c9||(!_3ca&&!_3cc&&_3c7.length&&_3ce&&(_3cf==".org"||_3cf==".net"||_3cf==".com"))){return "<a href=\"http://"+_3c7+"\" rel=\"nofollow\">"+_3d0+"</a>";}else{if(_3cc||_3cd){return "<a href=\""+_3c7+"\" rel=\"nofollow\">"+_3d0+"</a>";}else{if(_3ca&&!_3c9&&!_3cb&&dojox.dtl.filter.strings._urlize2.test(_3c7)){return "<a href=\"mailto:"+_3c7+"\">"+_3c7+"</a>";}}}return word;}).join("");},wordcount:function(_3d1){_3d1=dojo.trim(_3d1);if(!_3d1){return 0;}return _3d1.split(/\s+/g).length;},wordwrap:function(_3d2,arg){arg=parseInt(arg);var _3d3=[];var _3d4=_3d2.split(/\s+/g);if(_3d4.length){var word=_3d4.shift();_3d3.push(word);var pos=word.length-word.lastIndexOf("\n")-1;for(var i=0;i<_3d4.length;i++){word=_3d4[i];if(word.indexOf("\n")!=-1){var _3d5=word.split(/\n/g);}else{var _3d5=[word];}pos+=_3d5[0].length+1;if(arg&&pos>arg){_3d3.push("\n");pos=_3d5[_3d5.length-1].length;}else{_3d3.push(" ");if(_3d5.length>1){pos=_3d5[_3d5.length-1].length;}}_3d3.push(word);}}return _3d3.join("");}});}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _3d6=this;dojo.mixin(_3d6,args);_3d6.node=args.node;_3d6._showArgs=dojo.mixin({},args);_3d6._showArgs.node=_3d6.node;_3d6._showArgs.duration=_3d6.showDuration;_3d6.showAnim=_3d6.showFunc(_3d6._showArgs);_3d6._hideArgs=dojo.mixin({},args);_3d6._hideArgs.node=_3d6.node;_3d6._hideArgs.duration=_3d6.hideDuration;_3d6.hideAnim=_3d6.hideFunc(_3d6._hideArgs);dojo.connect(_3d6.showAnim,"beforeBegin",dojo.hitch(_3d6.hideAnim,"stop",true));dojo.connect(_3d6.hideAnim,"beforeBegin",dojo.hitch(_3d6.showAnim,"stop",true));},show:function(_3d7){return this.showAnim.play(_3d7||0);},hide:function(_3d8){return this.hideAnim.play(_3d8||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_3d9={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _3da=function(_3db){this._index=-1;this._animations=_3db||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_3da,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_3dc,_3dd){if(!this._current){this._current=this._animations[this._index=0];}if(!_3dd&&this._current.status()=="playing"){return this;}var _3de=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_3df=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_3e0=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_3de);d.disconnect(_3df);d.disconnect(_3e0);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_3e1,_3e2){this.pause();var _3e3=this.duration*_3e1;this._current=null;d.some(this._animations,function(a){if(a.duration<=_3e3){this._current=a;return true;}_3e3-=a.duration;return false;});if(this._current){this._current.gotoPercent(_3e3/this._current.duration,_3e2);}return this;},stop:function(_3e4){if(this._current){if(_3e4){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_3da,_3d9);dojo.fx.chain=function(_3e5){return new _3da(_3e5);};var _3e6=function(_3e7){this._animations=_3e7||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_3e7,function(a){var _3e8=a.duration;if(a.delay){_3e8+=a.delay;}if(this.duration<_3e8){this.duration=_3e8;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_3e6,{_doAction:function(_3e9,args){d.forEach(this._animations,function(a){a[_3e9].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_3ea,args){var t=this._pseudoAnimation;t[_3ea].apply(t,args);},play:function(_3eb,_3ec){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_3ed,_3ee){var ms=this.duration*_3ed;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_3ee);});this._call("gotoPercent",arguments);return this;},stop:function(_3ef){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_3e6,_3d9);dojo.fx.combine=function(_3f0){return new _3e6(_3f0);};dojo.fx.wipeIn=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _3f1=d.style(node,"height");return Math.max(_3f1,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!dojo._hasResource["dojox.highlight._base"]){dojo._hasResource["dojox.highlight._base"]=true;dojo.provide("dojox.highlight._base");(function(){var dh=dojox.highlight,_3f2="\\b(0x[A-Za-z0-9]+|\\d+(\\.\\d+)?)";dh.constants={IDENT_RE:"[a-zA-Z][a-zA-Z0-9_]*",UNDERSCORE_IDENT_RE:"[a-zA-Z_][a-zA-Z0-9_]*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:_3f2,APOS_STRING_MODE:{className:"string",begin:"'",end:"'",illegal:"\\n",contains:["escape"],relevance:0},QUOTE_STRING_MODE:{className:"string",begin:"\"",end:"\"",illegal:"\\n",contains:["escape"],relevance:0},BACKSLASH_ESCAPE:{className:"escape",begin:"\\\\.",end:"^",relevance:0},C_LINE_COMMENT_MODE:{className:"comment",begin:"//",end:"$",relevance:0},C_BLOCK_COMMENT_MODE:{className:"comment",begin:"/\\*",end:"\\*/"},HASH_COMMENT_MODE:{className:"comment",begin:"#",end:"$"},C_NUMBER_MODE:{className:"number",begin:_3f2,end:"^",relevance:0}};function esc(_3f3){return _3f3.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;");};function _3f4(_3f5){return dojo.every(_3f5.childNodes,function(node){return node.nodeType==3||String(node.nodeName).toLowerCase()=="br";});};function _3f6(_3f7){var _3f8=[];dojo.forEach(_3f7.childNodes,function(node){if(node.nodeType==3){_3f8.push(node.nodeValue);}else{if(String(node.nodeName).toLowerCase()=="br"){_3f8.push("\n");}else{throw "Complex markup";}}});return _3f8.join("");};function _3f9(mode){if(!mode.keywordGroups){for(var key in mode.keywords){var kw=mode.keywords[key];if(kw instanceof Object){mode.keywordGroups=mode.keywords;}else{mode.keywordGroups={keyword:mode.keywords};}break;}}};function _3fa(lang){if(lang.defaultMode&&lang.modes){_3f9(lang.defaultMode);dojo.forEach(lang.modes,_3f9);}};var _3fb=function(_3fc,_3fd){this.langName=_3fc;this.lang=dh.languages[_3fc];this.modes=[this.lang.defaultMode];this.relevance=0;this.keywordCount=0;this.result=[];if(!this.lang.defaultMode.illegalRe){this.buildRes();_3fa(this.lang);}try{this.highlight(_3fd);this.result=this.result.join("");}catch(e){if(e=="Illegal"){this.relevance=0;this.keywordCount=0;this.partialResult=this.result.join("");this.result=esc(_3fd);}else{throw e;}}};dojo.extend(_3fb,{buildRes:function(){dojo.forEach(this.lang.modes,function(mode){if(mode.begin){mode.beginRe=this.langRe("^"+mode.begin);}if(mode.end){mode.endRe=this.langRe("^"+mode.end);}if(mode.illegal){mode.illegalRe=this.langRe("^(?:"+mode.illegal+")");}},this);this.lang.defaultMode.illegalRe=this.langRe("^(?:"+this.lang.defaultMode.illegal+")");},subMode:function(_3fe){var _3ff=this.modes[this.modes.length-1].contains;if(_3ff){var _400=this.lang.modes;for(var i=0;i<_3ff.length;++i){var _401=_3ff[i];for(var j=0;j<_400.length;++j){var mode=_400[j];if(mode.className==_401&&mode.beginRe.test(_3fe)){return mode;}}}}return null;},endOfMode:function(_402){for(var i=this.modes.length-1;i>=0;--i){var mode=this.modes[i];if(mode.end&&mode.endRe.test(_402)){return this.modes.length-i;}if(!mode.endsWithParent){break;}}return 0;},isIllegal:function(_403){var _404=this.modes[this.modes.length-1].illegalRe;return _404&&_404.test(_403);},langRe:function(_405,_406){var mode="m"+(this.lang.case_insensitive?"i":"")+(_406?"g":"");return new RegExp(_405,mode);},buildTerminators:function(){var mode=this.modes[this.modes.length-1],_407={};if(mode.contains){dojo.forEach(this.lang.modes,function(_408){if(dojo.indexOf(mode.contains,_408.className)>=0){_407[_408.begin]=1;}});}for(var i=this.modes.length-1;i>=0;--i){var m=this.modes[i];if(m.end){_407[m.end]=1;}if(!m.endsWithParent){break;}}if(mode.illegal){_407[mode.illegal]=1;}var t=[];for(i in _407){t.push(i);}mode.terminatorsRe=this.langRe("("+t.join("|")+")");},eatModeChunk:function(_409,_40a){var mode=this.modes[this.modes.length-1];if(!mode.terminatorsRe){this.buildTerminators();}_409=_409.substr(_40a);var _40b=mode.terminatorsRe.exec(_409);if(!_40b){return {buffer:_409,lexeme:"",end:true};}return {buffer:_40b.index?_409.substr(0,_40b.index):"",lexeme:_40b[0],end:false};},keywordMatch:function(mode,_40c){var _40d=_40c[0];if(this.lang.case_insensitive){_40d=_40d.toLowerCase();}for(var _40e in mode.keywordGroups){if(_40d in mode.keywordGroups[_40e]){return _40e;}}return "";},buildLexemes:function(mode){var _40f={};dojo.forEach(mode.lexems,function(_410){_40f[_410]=1;});var t=[];for(var i in _40f){t.push(i);}mode.lexemsRe=this.langRe("("+t.join("|")+")",true);},processKeywords:function(_411){var mode=this.modes[this.modes.length-1];if(!mode.keywords||!mode.lexems){return esc(_411);}if(!mode.lexemsRe){this.buildLexemes(mode);}mode.lexemsRe.lastIndex=0;var _412=[],_413=0,_414=mode.lexemsRe.exec(_411);while(_414){_412.push(esc(_411.substr(_413,_414.index-_413)));var _415=this.keywordMatch(mode,_414);if(_415){++this.keywordCount;_412.push("<span class=\""+_415+"\">"+esc(_414[0])+"</span>");}else{_412.push(esc(_414[0]));}_413=mode.lexemsRe.lastIndex;_414=mode.lexemsRe.exec(_411);}_412.push(esc(_411.substr(_413,_411.length-_413)));return _412.join("");},processModeInfo:function(_416,_417,end){var mode=this.modes[this.modes.length-1];if(end){this.result.push(this.processKeywords(mode.buffer+_416));return;}if(this.isIllegal(_417)){throw "Illegal";}var _418=this.subMode(_417);if(_418){mode.buffer+=_416;this.result.push(this.processKeywords(mode.buffer));if(_418.excludeBegin){this.result.push(_417+"<span class=\""+_418.className+"\">");_418.buffer="";}else{this.result.push("<span class=\""+_418.className+"\">");_418.buffer=_417;}this.modes.push(_418);this.relevance+=typeof _418.relevance=="number"?_418.relevance:1;return;}var _419=this.endOfMode(_417);if(_419){mode.buffer+=_416;if(mode.excludeEnd){this.result.push(this.processKeywords(mode.buffer)+"</span>"+_417);}else{this.result.push(this.processKeywords(mode.buffer+_417)+"</span>");}while(_419>1){this.result.push("</span>");--_419;this.modes.pop();}this.modes.pop();this.modes[this.modes.length-1].buffer="";return;}},highlight:function(_41a){var _41b=0;this.lang.defaultMode.buffer="";do{var _41c=this.eatModeChunk(_41a,_41b);this.processModeInfo(_41c.buffer,_41c.lexeme,_41c.end);_41b+=_41c.buffer.length+_41c.lexeme.length;}while(!_41c.end);if(this.modes.length>1){throw "Illegal";}}});function _41d(node,_41e,text){if(String(node.tagName).toLowerCase()=="code"&&String(node.parentNode.tagName).toLowerCase()=="pre"){var _41f=document.createElement("div"),_420=node.parentNode.parentNode;_41f.innerHTML="<pre><code class=\""+_41e+"\">"+text+"</code></pre>";_420.replaceChild(_41f.firstChild,node.parentNode);}else{node.className=_41e;node.innerHTML=text;}};function _421(lang,str){var _422=new _3fb(lang,str);return {result:_422.result,langName:lang,partialResult:_422.partialResult};};function _423(_424,lang){var _425=_421(lang,_3f6(_424));_41d(_424,_424.className,_425.result);};function _426(str){var _427="",_428="",_429=2,_42a=str;for(var key in dh.languages){if(!dh.languages[key].defaultMode){continue;}var _42b=new _3fb(key,_42a),_42c=_42b.keywordCount+_42b.relevance,_42d=0;if(!_427||_42c>_42d){_42d=_42c;_427=_42b.result;_428=_42b.langName;}}return {result:_427,langName:_428};};function _42e(_42f){var _430=_426(_3f6(_42f));if(_430.result){_41d(_42f,_430.langName,_430.result);}};dojox.highlight.processString=function(str,lang){return lang?_421(lang,str):_426(str);};dojox.highlight.init=function(node){node=dojo.byId(node);if(dojo.hasClass(node,"no-highlight")){return;}if(!_3f4(node)){return;}var _431=node.className.split(/\s+/),flag=dojo.some(_431,function(_432){if(_432.charAt(0)!="_"&&dh.languages[_432]){_423(node,_432);return true;}return false;});if(!flag){_42e(node);}};dh.Code=function(p,n){dh.init(n);};})();}if(!dojo._hasResource["dojox.highlight"]){dojo._hasResource["dojox.highlight"]=true;dojo.provide("dojox.highlight");}if(!dojo._hasResource["dojox.highlight.languages.xml"]){dojo._hasResource["dojox.highlight.languages.xml"]=true;dojo.provide("dojox.highlight.languages.xml");(function(){var _433={className:"comment",begin:"<!--",end:"-->"};var _434={className:"attribute",begin:" [a-zA-Z-]+=",end:"^",contains:["value"]};var _435={className:"value",begin:"\"",end:"\""};var dh=dojox.highlight,dhc=dh.constants;dh.languages.xml={defaultMode:{contains:["pi","comment","cdata","tag"]},case_insensitive:true,modes:[{className:"pi",begin:"<\\?",end:"\\?>",relevance:10},_433,{className:"cdata",begin:"<\\!\\[CDATA\\[",end:"\\]\\]>"},{className:"tag",begin:"</?",end:">",contains:["title","tag_internal"],relevance:1.5},{className:"title",begin:"[A-Za-z:_][A-Za-z0-9\\._:-]+",end:"^",relevance:0},{className:"tag_internal",begin:"^",endsWithParent:true,contains:["attribute"],relevance:0,illegal:"[\\+\\.]"},_434,_435],XML_COMMENT:_433,XML_ATTR:_434,XML_VALUE:_435};})();}if(!dojo._hasResource["dojox.highlight.languages.html"]){dojo._hasResource["dojox.highlight.languages.html"]=true;dojo.provide("dojox.highlight.languages.html");(function(){var _436={"code":1,"kbd":1,"font":1,"noscript":1,"style":1,"img":1,"title":1,"menu":1,"tt":1,"tr":1,"param":1,"li":1,"tfoot":1,"th":1,"input":1,"td":1,"dl":1,"blockquote":1,"fieldset":1,"big":1,"dd":1,"abbr":1,"optgroup":1,"dt":1,"button":1,"isindex":1,"p":1,"small":1,"div":1,"dir":1,"em":1,"frame":1,"meta":1,"sub":1,"bdo":1,"label":1,"acronym":1,"sup":1,"body":1,"xml":1,"basefont":1,"base":1,"br":1,"address":1,"strong":1,"legend":1,"ol":1,"script":1,"caption":1,"s":1,"col":1,"h2":1,"h3":1,"h1":1,"h6":1,"h4":1,"h5":1,"table":1,"select":1,"noframes":1,"span":1,"area":1,"dfn":1,"strike":1,"cite":1,"thead":1,"head":1,"option":1,"form":1,"hr":1,"var":1,"link":1,"b":1,"colgroup":1,"ul":1,"applet":1,"del":1,"iframe":1,"pre":1,"frameset":1,"ins":1,"tbody":1,"html":1,"samp":1,"map":1,"object":1,"a":1,"xmlns":1,"center":1,"textarea":1,"i":1,"q":1,"u":1};var _437={className:"doctype",begin:"<!DOCTYPE",end:">",relevance:10};var _438={className:"attribute",begin:" [a-zA-Z]+",end:"^"};var _439={className:"value",begin:"[a-zA-Z0-9]+",end:"^"};var dh=dojox.highlight,dhc=dh.constants,dhl=dh.languages,x=dhl.xml;dhl.html={defaultMode:{contains:["tag","comment","doctype"]},case_insensitive:true,modes:[x.XML_COMMENT,_437,{className:"tag",lexems:[dhc.IDENT_RE],keywords:_436,begin:"<[A-Za-z/]",end:">",contains:["attribute"],illegal:"[\\+\\.]"},x.XML_ATTR,_438,x.XML_VALUE,_439],HTML_TAGS:_436,HTML_DOCTYPE:_437,HTML_ATTR:_438,HTML_VALUE:_439};})();}if(!dojo._hasResource["dojox.highlight.languages.css"]){dojo._hasResource["dojox.highlight.languages.css"]=true;dojo.provide("dojox.highlight.languages.css");(function(){var dh=dojox.highlight,dhc=dh.constants,dhl=dh.languages;dhl.css={defaultMode:{contains:["id","class","attr_selector","rules","comment"],keywords:dhl.html.HTML_TAGS,lexems:[dhc.IDENT_RE],illegal:"="},case_insensitive:true,modes:[{className:"id",begin:"\\#[A-Za-z0-9_-]+",end:"^"},{className:"class",begin:"\\.[A-Za-z0-9_-]+",end:"^",relevance:0},{className:"attr_selector",begin:"\\[",end:"\\]",illegal:"$"},{className:"rules",begin:"{",end:"}",lexems:["[A-Za-z-]+"],keywords:{"play-during":1,"counter-reset":1,"counter-increment":1,"min-height":1,"quotes":1,"border-top":1,"pitch":1,"font":1,"pause":1,"list-style-image":1,"border-width":1,"cue":1,"outline-width":1,"border-left":1,"elevation":1,"richness":1,"speech-rate":1,"border-bottom":1,"border-spacing":1,"background":1,"list-style-type":1,"text-align":1,"page-break-inside":1,"orphans":1,"page-break-before":1,"text-transform":1,"line-height":1,"padding-left":1,"font-size":1,"right":1,"word-spacing":1,"padding-top":1,"outline-style":1,"bottom":1,"content":1,"border-right-style":1,"padding-right":1,"border-left-style":1,"voice-family":1,"background-color":1,"border-bottom-color":1,"outline-color":1,"unicode-bidi":1,"max-width":1,"font-family":1,"caption-side":1,"border-right-width":1,"pause-before":1,"border-top-style":1,"color":1,"border-collapse":1,"border-bottom-width":1,"float":1,"height":1,"max-height":1,"margin-right":1,"border-top-width":1,"speak":1,"speak-header":1,"top":1,"cue-before":1,"min-width":1,"width":1,"font-variant":1,"border-top-color":1,"background-position":1,"empty-cells":1,"direction":1,"border-right":1,"visibility":1,"padding":1,"border-style":1,"background-attachment":1,"overflow":1,"border-bottom-style":1,"cursor":1,"margin":1,"display":1,"border-left-width":1,"letter-spacing":1,"vertical-align":1,"clip":1,"border-color":1,"list-style":1,"padding-bottom":1,"pause-after":1,"speak-numeral":1,"margin-left":1,"widows":1,"border":1,"font-style":1,"border-left-color":1,"pitch-range":1,"background-repeat":1,"table-layout":1,"margin-bottom":1,"speak-punctuation":1,"font-weight":1,"border-right-color":1,"page-break-after":1,"position":1,"white-space":1,"text-indent":1,"background-image":1,"volume":1,"stress":1,"outline":1,"clear":1,"z-index":1,"text-decoration":1,"margin-top":1,"azimuth":1,"cue-after":1,"left":1,"list-style-position":1},contains:["comment","value"]},dhc.C_BLOCK_COMMENT_MODE,{className:"value",begin:":",end:";",endsWithParent:true,excludeBegin:true,excludeEnd:true}]};})();}if(!dojo._hasResource["dojox.highlight.languages.django"]){dojo._hasResource["dojox.highlight.languages.django"]=true;dojo.provide("dojox.highlight.languages.django");(function(){var dh=dojox.highlight,dhc=dh.constants,dhl=dh.languages,x=dhl.xml,h=dhl.html;dhl.django={defaultMode:{contains:["tag","comment","doctype","template_comment","template_tag","variable"]},case_insensitive:true,modes:[x.XML_COMMENT,h.HTML_DOCTYPE,{className:"tag",lexems:[dhc.IDENT_RE],keywords:h.HTML_TAGS,begin:"<[A-Za-z/]",end:">",contains:["attribute","template_comment","template_tag","variable"]},x.XML_ATTR,h.HTML_ATTR,{className:"value",begin:"\"",end:"\"",contains:["template_comment","template_tag","variable"]},h.HTML_VALUE,{className:"template_comment",begin:"\\{\\%\\s*comment\\s*\\%\\}",end:"\\{\\%\\s*endcomment\\s*\\%\\}"},{className:"template_comment",begin:"\\{#",end:"#\\}"},{className:"template_tag",begin:"\\{\\%",end:"\\%\\}",lexems:[dhc.IDENT_RE],keywords:{"comment":1,"endcomment":1,"load":1,"templatetag":1,"ifchanged":1,"endifchanged":1,"if":1,"endif":1,"firstof":1,"for":1,"endfor":1,"in":1,"ifnotequal":1,"endifnotequal":1,"widthratio":1,"extends":1,"include":1,"spaceless":1,"endspaceless":1,"regroup":1,"by":1,"as":1,"ifequal":1,"endifequal":1,"ssi":1,"now":1,"with":1,"cycle":1,"url":1,"filter":1,"endfilter":1,"debug":1,"block":1,"endblock":1,"else":1},contains:["filter"]},{className:"variable",begin:"\\{\\{",end:"\\}\\}",contains:["filter"]},{className:"filter",begin:"\\|[A-Za-z]+\\:?",end:"^",excludeEnd:true,lexems:[dhc.IDENT_RE],keywords:{"truncatewords":1,"removetags":1,"linebreaksbr":1,"yesno":1,"get_digit":1,"timesince":1,"random":1,"striptags":1,"filesizeformat":1,"escape":1,"linebreaks":1,"length_is":1,"ljust":1,"rjust":1,"cut":1,"urlize":1,"fix_ampersands":1,"title":1,"floatformat":1,"capfirst":1,"pprint":1,"divisibleby":1,"add":1,"make_list":1,"unordered_list":1,"urlencode":1,"timeuntil":1,"urlizetrunc":1,"wordcount":1,"stringformat":1,"linenumbers":1,"slice":1,"date":1,"dictsort":1,"dictsortreversed":1,"default_if_none":1,"pluralize":1,"lower":1,"join":1,"center":1,"default":1,"truncatewords_html":1,"upper":1,"length":1,"phone2numeric":1,"wordwrap":1,"time":1,"addslashes":1,"slugify":1,"first":1},contains:["argument"]},{className:"argument",begin:"\"",end:"\""}]};})();}if(!dojo._hasResource["dojox.highlight.languages.javascript"]){dojo._hasResource["dojox.highlight.languages.javascript"]=true;dojo.provide("dojox.highlight.languages.javascript");(function(){var dh=dojox.highlight,dhc=dh.constants;dh.languages.javascript={defaultMode:{lexems:[dhc.UNDERSCORE_IDENT_RE],contains:["string","comment","number","regexp","function"],keywords:{"keyword":{"in":1,"if":1,"for":1,"while":1,"finally":1,"var":1,"new":1,"function":1,"do":1,"return":1,"void":1,"else":1,"break":1,"catch":1,"instanceof":1,"with":1,"throw":1,"case":1,"default":1,"try":1,"this":1,"switch":1,"continue":1,"typeof":1,"delete":1},"literal":{"true":1,"false":1,"null":1}}},modes:[dhc.C_LINE_COMMENT_MODE,dhc.C_BLOCK_COMMENT_MODE,dhc.C_NUMBER_MODE,dhc.APOS_STRING_MODE,dhc.QUOTE_STRING_MODE,dhc.BACKSLASH_ESCAPE,{className:"regexp",begin:"/.*?[^\\\\/]/[gim]*",end:"^"},{className:"function",begin:"function\\b",end:"{",lexems:[dhc.UNDERSCORE_IDENT_RE],keywords:{"function":1},contains:["title","params"]},{className:"title",begin:dhc.UNDERSCORE_IDENT_RE,end:"^"},{className:"params",begin:"\\(",end:"\\)",contains:["string","comment"]}]};})();}if(!dojo._hasResource["dojox.highlight.languages._www"]){dojo._hasResource["dojox.highlight.languages._www"]=true;dojo.provide("dojox.highlight.languages._www");}if(!dojo._hasResource["CodeGlass.beautify"]){dojo._hasResource["CodeGlass.beautify"]=true;dojo.provide("CodeGlass.beautify");dojo.mixin(CodeGlass,{js_beautify:function(_43a,_43b){var _43c,_43d,_43e,_43f,_440,_441,_442,_443,_444;var _445,_446,_447,_448,_449,_44a,_44b;var _44c,_44d,_44e,_44f,_450,_451;var _452;_43b=_43b||{};var _453=_43b.indent_size||4;var _454=_43b.indent_char||" ";var _455=typeof _43b.preserve_newlines==="undefined"?true:_43b.preserve_newlines;var _456=_43b.indent_level||0;var _457=_43b.space_after_anon_function==="undefined"?false:_43b.space_after_anon_function;function _458(){while(_43d.length&&(_43d[_43d.length-1]===" "||_43d[_43d.length-1]===_444)){_43d.pop();}};function _459(_45a){_45a=typeof _45a==="undefined"?true:_45a;_451=false;_458();if(!_43d.length){return;}if(_43d[_43d.length-1]!=="\n"||!_45a){_43d.push("\n");}for(var i=0;i<_452;i+=1){_43d.push(_444);}};function _45b(){var _45c=" ";if(_43d.length){_45c=_43d[_43d.length-1];}if(_45c!==" "&&_45c!=="\n"&&_45c!==_444){_43d.push(" ");}};function _45d(){_43d.push(_43e);};function _45e(){_452+=1;};function _45f(){if(_452){_452-=1;}};function _460(){if(_43d.length&&_43d[_43d.length-1]===_444){_43d.pop();}};function _461(mode){_443.push(_442);_442=mode;};function _462(){_44e=_442==="DO_BLOCK";_442=_443.pop();};function _463(what,arr){for(var i=0;i<arr.length;i+=1){if(arr[i]===what){return true;}}return false;};function _464(){var _465=0,_466=0;for(var i=_43d.length-1;i>=0;i--){switch(_43d[i]){case ":":if(_465===0){_466++;}break;case "?":if(_465===0){if(_466===0){return true;}else{_466--;}}break;case "{":if(_465===0){return false;}_465--;break;case "(":case "[":_465--;break;case ")":case "]":case "}":_465++;break;}}};function _467(){var _468=0;if(_448>=_43c.length){return ["","TK_EOF"];}var c=_43c.charAt(_448);_448+=1;while(_463(c,_445)){if(_448>=_43c.length){return ["","TK_EOF"];}if(c==="\n"){_468+=1;}c=_43c.charAt(_448);_448+=1;}var _469=false;if(_455){if(_468>1){for(var i=0;i<2;i+=1){_459(i===0);}}_469=(_468===1);}if(_463(c,_446)){if(_448<_43c.length){while(_463(_43c.charAt(_448),_446)){c+=_43c.charAt(_448);_448+=1;if(_448===_43c.length){break;}}}if(_448!==_43c.length&&c.match(/^[0-9]+[Ee]$/)&&(_43c.charAt(_448)==="-"||_43c.charAt(_448)==="+")){var sign=_43c.charAt(_448);_448+=1;var t=_467(_448);c+=sign+t[0];return [c,"TK_WORD"];}if(c==="in"){return [c,"TK_OPERATOR"];}if(_469&&_43f!=="TK_OPERATOR"&&!_451){_459();}return [c,"TK_WORD"];}if(c==="("||c==="["){return [c,"TK_START_EXPR"];}if(c===")"||c==="]"){return [c,"TK_END_EXPR"];}if(c==="{"){return [c,"TK_START_BLOCK"];}if(c==="}"){return [c,"TK_END_BLOCK"];}if(c===";"){return [c,"TK_SEMICOLON"];}if(c==="/"){var _46a="";if(_43c.charAt(_448)==="*"){_448+=1;if(_448<_43c.length){while(!(_43c.charAt(_448)==="*"&&_43c.charAt(_448+1)&&_43c.charAt(_448+1)==="/")&&_448<_43c.length){_46a+=_43c.charAt(_448);_448+=1;if(_448>=_43c.length){break;}}}_448+=2;return ["/*"+_46a+"*/","TK_BLOCK_COMMENT"];}if(_43c.charAt(_448)==="/"){_46a=c;while(_43c.charAt(_448)!=="\r"&&_43c.charAt(_448)!=="\n"){_46a+=_43c.charAt(_448);_448+=1;if(_448>=_43c.length){break;}}_448+=1;if(_469){_459();}return [_46a,"TK_COMMENT"];}}if(c==="'"||c==="\""||(c==="/"&&((_43f==="TK_WORD"&&_440==="return")||(_43f==="TK_START_EXPR"||_43f==="TK_START_BLOCK"||_43f==="TK_END_BLOCK"||_43f==="TK_OPERATOR"||_43f==="TK_EOF"||_43f==="TK_SEMICOLON")))){var sep=c;var esc=false;var _46b=c;if(_448<_43c.length){if(sep==="/"){var _46c=false;while(esc||_46c||_43c.charAt(_448)!==sep){_46b+=_43c.charAt(_448);if(!esc){esc=_43c.charAt(_448)==="\\";if(_43c.charAt(_448)==="["){_46c=true;}else{if(_43c.charAt(_448)==="]"){_46c=false;}}}else{esc=false;}_448+=1;if(_448>=_43c.length){return [_46b,"TK_STRING"];}}}else{while(esc||_43c.charAt(_448)!==sep){_46b+=_43c.charAt(_448);if(!esc){esc=_43c.charAt(_448)==="\\";}else{esc=false;}_448+=1;if(_448>=_43c.length){return [_46b,"TK_STRING"];}}}}_448+=1;_46b+=sep;if(sep==="/"){while(_448<_43c.length&&_463(_43c.charAt(_448),_446)){_46b+=_43c.charAt(_448);_448+=1;}}return [_46b,"TK_STRING"];}if(c==="#"){var _46d="#";if(_448<_43c.length&&_463(_43c.charAt(_448),_44b)){do{c=_43c.charAt(_448);_46d+=c;_448+=1;}while(_448<_43c.length&&c!=="#"&&c!=="=");if(c==="#"){return [_46d,"TK_WORD"];}else{return [_46d,"TK_OPERATOR"];}}}if(c==="<"&&_43c.substring(_448-1,_448+3)==="<!--"){_448+=3;return ["<!--","TK_COMMENT"];}if(c==="-"&&_43c.substring(_448-1,_448+2)==="-->"){_448+=2;if(_469){_459();}return ["-->","TK_COMMENT"];}if(_463(c,_447)){while(_448<_43c.length&&_463(c+_43c.charAt(_448),_447)){c+=_43c.charAt(_448);_448+=1;if(_448>=_43c.length){break;}}return [c,"TK_OPERATOR"];}return [c,"TK_UNKNOWN"];};_444="";while(_453>0){_444+=_454;_453-=1;}_452=_456;_43c=_43a;_441="";_43f="TK_START_EXPR";_440="";_43d=[];_44e=false;_44f=false;_450=false;_445="\n\r\t ".split("");_446="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");_44b="0123456789".split("");_447="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(" ");_449="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(",");_442="BLOCK";_443=[_442];_448=0;_44a=false;while(true){var t=_467(_448);_43e=t[0];_44d=t[1];if(_44d==="TK_EOF"){break;}switch(_44d){case "TK_START_EXPR":_44f=false;if(_43e==="["){if(_442==="[EXPRESSION]"){_459();_43d.push(_444);}}if(_43e==="["){_461("[EXPRESSION]");}else{_461("(EXPRESSION)");}if(_440===";"||_43f==="TK_START_BLOCK"){_459();}else{if(_43f==="TK_END_EXPR"||_43f==="TK_START_EXPR"){}else{if(_43f!=="TK_WORD"&&_43f!=="TK_OPERATOR"){_45b();}else{if(_441==="function"){if(_457){_45b();}}else{if(_463(_441,_449)){_45b();}}}}}_45d();break;case "TK_END_EXPR":_462();_45d();break;case "TK_START_BLOCK":if(_441==="do"){_461("DO_BLOCK");}else{_461("BLOCK");}if(_43f!=="TK_OPERATOR"&&_43f!=="TK_START_EXPR"){if(_43f==="TK_START_BLOCK"){_459();}else{_45b();}}_45d();_45e();break;case "TK_END_BLOCK":if(_43f==="TK_START_BLOCK"){_458();_45f();}else{_45f();_459();}_45d();_462();break;case "TK_WORD":if(_44e){_45b();_45d();_45b();_44e=false;break;}if(_43e==="case"||_43e==="default"){if(_440===":"){_460();}else{_45f();_459();_45e();}_45d();_44a=true;break;}_44c="NONE";if(_43f==="TK_END_BLOCK"){if(!_463(_43e.toLowerCase(),["else","catch","finally"])){_44c="NEWLINE";}else{_44c="SPACE";_45b();}}else{if(_43f==="TK_SEMICOLON"&&(_442==="BLOCK"||_442==="DO_BLOCK")){_44c="NEWLINE";}else{if(_43f==="TK_SEMICOLON"&&(_442==="[EXPRESSION]"||_442==="(EXPRESSION)")){_44c="SPACE";}else{if(_43f==="TK_STRING"){_44c="NEWLINE";}else{if(_43f==="TK_WORD"){_44c="SPACE";}else{if(_43f==="TK_START_BLOCK"){_44c="NEWLINE";}else{if(_43f==="TK_END_EXPR"){_45b();_44c="NEWLINE";}}}}}}}if(_43f!=="TK_END_BLOCK"&&_463(_43e.toLowerCase(),["else","catch","finally"])){_459();}else{if(_463(_43e,_449)||_44c==="NEWLINE"){if(_440==="else"){_45b();}else{if((_43f==="TK_START_EXPR"||_440==="="||_440===",")&&_43e==="function"){}else{if(_440==="return"||_440==="throw"){_45b();}else{if(_43f!=="TK_END_EXPR"){if((_43f!=="TK_START_EXPR"||_43e!=="var")&&_440!==":"){if(_43e==="if"&&_441==="else"){_45b();}else{_459();}}}else{if(_463(_43e,_449)&&_440!==")"){_459();}}}}}}else{if(_44c==="SPACE"){_45b();}}}_45d();_441=_43e;if(_43e==="var"){_44f=true;_450=false;}if(_43e==="if"||_43e==="else"){_451=true;}break;case "TK_SEMICOLON":_45d();_44f=false;break;case "TK_STRING":if(_43f==="TK_START_BLOCK"||_43f==="TK_END_BLOCK"||_43f==="TK_SEMICOLON"){_459();}else{if(_43f==="TK_WORD"){_45b();}}_45d();break;case "TK_OPERATOR":var _46e=true;var _46f=true;if(_44f&&_43e!==","){_450=true;if(_43e===":"){_44f=false;}}if(_44f&&_43e===","&&(_442==="[EXPRESSION]"||_442==="(EXPRESSION)")){_450=false;}if(_43e===":"&&_44a){_45d();_459();_44a=false;break;}if(_43e==="::"){_45d();break;}if(_43e===","){if(_44f){if(_450){_45d();_459();_450=false;}else{_45d();_45b();}}else{if(_43f==="TK_END_BLOCK"){_45d();_459();}else{if(_442==="BLOCK"){_45d();_459();}else{_45d();_45b();}}}break;}else{if(_43e==="--"||_43e==="++"){if(_440===";"){if(_442==="BLOCK"){_459();_46e=true;_46f=false;}else{_46e=true;_46f=false;}}else{if(_440==="{"){_459();}_46e=false;_46f=false;}}else{if((_43e==="!"||_43e==="+"||_43e==="-")&&(_440==="return"||_440==="case")){_46e=true;_46f=false;}else{if((_43e==="!"||_43e==="+"||_43e==="-")&&_43f==="TK_START_EXPR"){_46e=false;_46f=false;}else{if(_43f==="TK_OPERATOR"){_46e=false;_46f=false;}else{if(_43f==="TK_END_EXPR"){_46e=true;_46f=true;}else{if(_43e==="."){_46e=false;_46f=false;}else{if(_43e===":"){if(_464()){_46e=true;}else{_46e=false;}}}}}}}}}if(_46e){_45b();}_45d();if(_46f){_45b();}break;case "TK_BLOCK_COMMENT":_459();_45d();_459();break;case "TK_COMMENT":_45b();_45d();_459();break;case "TK_UNKNOWN":_45d();break;}_43f=_44d;_440=_43e;}return _43d.join("").replace(/\n+$/,"");}});}if(!dojo._hasResource["CodeGlass.HTML-Beautify"]){dojo._hasResource["CodeGlass.HTML-Beautify"]=true;dojo.provide("CodeGlass.HTML-Beautify");dojo.mixin(CodeGlass,{style_html:function(_470,_471,_472,_473){var _474,_475;function _474(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.tag_type="";this.token_text=this.last_token=this.last_text=this.token_type="";this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),extra_liners:"head,body,/html".split(","),in_array:function(what,arr){for(var i=0;i<arr.length;i++){if(what===arr[i]){return true;}}return false;}};this.get_content=function(){var _476="";var _477=[];var _478=false;while(this.input.charAt(this.pos)!=="<"){if(this.pos>=this.input.length){return _477.length?_477.join(""):["","TK_EOF"];}_476=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(_476,this.Utils.whitespace)){if(_477.length){_478=true;}this.line_char_count--;continue;}else{if(_478){if(this.line_char_count>=this.max_char){_477.push("\n");for(var i=0;i<this.indent_level;i++){_477.push(this.indent_string);}this.line_char_count=0;}else{_477.push(" ");this.line_char_count++;}_478=false;}}_477.push(_476);}return _477.length?_477.join(""):"";};this.get_script=function(){var _479="";var _47a=[];var _47b=new RegExp("</script"+">","igm");_47b.lastIndex=this.pos;var _47c=_47b.exec(this.input);var _47d=_47c?_47c.index:this.input.length;while(this.pos<_47d){if(this.pos>=this.input.length){return _47a.length?_47a.join(""):["","TK_EOF"];}_479=this.input.charAt(this.pos);this.pos++;_47a.push(_479);}return _47a.length?_47a.join(""):"";};this.record_tag=function(tag){if(this.tags[tag+"count"]){this.tags[tag+"count"]++;this.tags[tag+this.tags[tag+"count"]]=this.indent_level;}else{this.tags[tag+"count"]=1;this.tags[tag+this.tags[tag+"count"]]=this.indent_level;}this.tags[tag+this.tags[tag+"count"]+"parent"]=this.tags.parent;this.tags.parent=tag+this.tags[tag+"count"];};this.retrieve_tag=function(tag){if(this.tags[tag+"count"]){var _47e=this.tags.parent;while(_47e){if(tag+this.tags[tag+"count"]===_47e){break;}_47e=this.tags[_47e+"parent"];}if(_47e){this.indent_level=this.tags[tag+this.tags[tag+"count"]];this.tags.parent=this.tags[_47e+"parent"];}delete this.tags[tag+this.tags[tag+"count"]+"parent"];delete this.tags[tag+this.tags[tag+"count"]];if(this.tags[tag+"count"]==1){delete this.tags[tag+"count"];}else{this.tags[tag+"count"]--;}}};this.get_tag=function(){var _47f="";var _480=[];var _481=false;do{if(this.pos>=this.input.length){return _480.length?_480.join(""):["","TK_EOF"];}_47f=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(_47f,this.Utils.whitespace)){_481=true;this.line_char_count--;continue;}if(_47f==="'"||_47f==="\""){if(!_480[1]||_480[1]!=="!"){_47f+=this.get_unformatted(_47f);_481=true;}}if(_47f==="="){_481=false;}if(_480.length&&_480[_480.length-1]!=="="&&_47f!==">"&&_481){if(this.line_char_count>=this.max_char){this.print_newline(false,_480);this.line_char_count=0;}else{_480.push(" ");this.line_char_count++;}_481=false;}_480.push(_47f);}while(_47f!==">");var _482=_480.join("");var _483;if(_482.indexOf(" ")!=-1){_483=_482.indexOf(" ");}else{_483=_482.indexOf(">");}var _484=_482.substring(1,_483).toLowerCase();if(_482.charAt(_482.length-2)==="/"||this.Utils.in_array(_484,this.Utils.single_token)){this.tag_type="SINGLE";}else{if(_484==="script"){this.record_tag(_484);this.tag_type="SCRIPT";}else{if(_484==="style"){this.record_tag(_484);this.tag_type="STYLE";}else{if(_484.charAt(0)==="!"){if(_484.indexOf("[if")!=-1){if(_482.indexOf("!IE")!=-1){var _485=this.get_unformatted("-->",_482);_480.push(_485);}this.tag_type="START";}else{if(_484.indexOf("[endif")!=-1){this.tag_type="END";this.unindent();}else{if(_484.indexOf("[cdata[")!=-1){var _485=this.get_unformatted("]]>",_482);_480.push(_485);this.tag_type="SINGLE";}else{var _485=this.get_unformatted("-->",_482);_480.push(_485);this.tag_type="SINGLE";}}}}else{if(_484.charAt(0)==="/"){this.retrieve_tag(_484.substring(1));this.tag_type="END";}else{this.record_tag(_484);this.tag_type="START";}if(this.Utils.in_array(_484,this.Utils.extra_liners)){this.print_newline(true,this.output);}}}}}return _480.join("");};this.get_unformatted=function(_486,_487){if(_487&&_487.indexOf(_486)!=-1){return "";}var _488="";var _489="";var _48a=true;do{_488=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(_488,this.Utils.whitespace)){if(!_48a){this.line_char_count--;continue;}if(_488==="\n"||_488==="\r"){_489+="\n";for(var i=0;i<this.indent_level;i++){_489+=this.indent_string;}_48a=false;this.line_char_count=0;continue;}}_489+=_488;this.line_char_count++;_48a=true;}while(_489.indexOf(_486)==-1);return _489;};this.get_token=function(){var _48b;if(this.last_token==="TK_TAG_SCRIPT"){var _48c=this.get_script();if(typeof _48c!=="string"){return _48c;}_48b=CodeGlass.js_beautify(_48c,{indent_size:this.indent_size,indent_char:this.indent_character,indent_level:this.indent_level});return [_48b,"TK_CONTENT"];}if(this.current_mode==="CONTENT"){_48b=this.get_content();if(typeof _48b!=="string"){return _48b;}else{return [_48b,"TK_CONTENT"];}}if(this.current_mode==="TAG"){_48b=this.get_tag();if(typeof _48b!=="string"){return _48b;}else{var _48d="TK_TAG_"+this.tag_type;return [_48b,_48d];}}};this.printer=function(_48e,_48f,_490,_491){this.input=_48e||"";this.output=[];this.indent_character=_48f||" ";this.indent_string="";this.indent_size=_490||2;this.indent_level=0;this.max_char=_491||70;this.line_char_count=0;for(var i=0;i<this.indent_size;i++){this.indent_string+=this.indent_character;}this.print_newline=function(_492,arr){this.line_char_count=0;if(!arr||!arr.length){return;}if(!_492){while(this.Utils.in_array(arr[arr.length-1],this.Utils.whitespace)){arr.pop();}}arr.push("\n");for(var i=0;i<this.indent_level;i++){arr.push(this.indent_string);}};this.print_token=function(text){this.output.push(text);};this.indent=function(){this.indent_level++;};this.unindent=function(){if(this.indent_level>0){this.indent_level--;}};};return this;};_475=new _474();_475.printer(_470,_472,_471);while(true){var t=_475.get_token();_475.token_text=t[0];_475.token_type=t[1];if(_475.token_type==="TK_EOF"){break;}switch(_475.token_type){case "TK_TAG_START":case "TK_TAG_SCRIPT":case "TK_TAG_STYLE":_475.print_newline(false,_475.output);_475.print_token(_475.token_text);_475.indent();_475.current_mode="CONTENT";break;case "TK_TAG_END":_475.print_newline(true,_475.output);_475.print_token(_475.token_text);_475.current_mode="CONTENT";break;case "TK_TAG_SINGLE":_475.print_newline(false,_475.output);_475.print_token(_475.token_text);_475.current_mode="CONTENT";break;case "TK_CONTENT":if(_475.token_text!==""){_475.print_newline(false,_475.output);_475.print_token(_475.token_text);}_475.current_mode="TAG";break;}_475.last_token=_475.token_type;_475.last_text=_475.token_text;}return _475.output.join("");}});}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");dojo.getObject("html",true,dojo);(function(){var _493=0,d=dojo;dojo.html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function(node,cont){d.empty(node);if(cont){if(typeof cont=="string"){cont=d._toDom(cont,node.ownerDocument);}if(!cont.nodeType&&d.isArrayLike(cont)){for(var _494=cont.length,i=0;i<cont.length;i=_494==cont.length?i+1:0){d.place(cont[i],node,"last");}}else{d.place(cont,node,"last");}}return node;};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:dojo._scopeName,startup:true,constructor:function(_495,node){dojo.mixin(this,_495||{});node=this.node=dojo.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_493++].join("_");}},set:function(cont,_496){if(undefined!==cont){this.content=cont;}if(_496){this._mixin(_496);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=dojo.html._setNodeContent(node,this.content);}catch(e){var _497=this.onContentError(e);try{node.innerHTML=_497;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}dojo.html._emptyNode(this.node);},onBegin:function(){var cont=this.content;if(dojo.isString(cont)){if(this.cleanContent){cont=dojo.html._secureForInnerHtml(cont);}if(this.extractContent){var _498=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_498){cont=_498[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function(err){return "Error occured setting content: "+err;},_mixin:function(_499){var _49a={},key;for(key in _499){if(key in _49a){continue;}this[key]=_499[key];}},_parse:function(){var _49b=this.node;try{this.parseResults=dojo.parser.parse({rootNode:_49b,noStart:!this.startup,inherited:{dir:this.dir,lang:this.lang},scope:this.parserScope});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_49c){var _49d=this["on"+type+"Error"].call(this,err);if(_49c){console.error(_49c,err);}else{if(_49d){dojo.html._setNodeContent(this.node,_49d,true);}}}});dojo.html.set=function(node,cont,_49e){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_49e){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojo.html._ContentSetter(dojo.mixin(_49e,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dojox.html._base"]){dojo._hasResource["dojox.html._base"]=true;dojo.provide("dojox.html._base");(function(){if(dojo.isIE){var _49f=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _4a0=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _4a1=dojox.html._adjustCssPaths=function(_4a2,_4a3){if(!_4a3||!_4a2){return;}if(_49f){_4a3=_4a3.replace(_49f,function(_4a4,pre,_4a5,url,post){return pre+(new dojo._Url(_4a2,"./"+url).toString())+post;});}return _4a3.replace(_4a0,function(_4a6,_4a7,_4a8,_4a9,_4aa,_4ab){if(_4a8){return "@import \""+(new dojo._Url(_4a2,"./"+_4a8).toString())+"\""+_4ab;}else{return "url("+(new dojo._Url(_4a2,"./"+_4aa).toString())+")"+_4ab;}});};var _4ac=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _4ad=dojox.html._adjustHtmlPaths=function(_4ae,cont){var url=_4ae||"./";return cont.replace(_4ac,function(tag,_4af,name,_4b0,_4b1,_4b2,_4b3,end){return _4af+(name?(name+"="+_4b0+(new dojo._Url(url,_4b1).toString())+_4b0):("style="+_4b2+_4a1(url,_4b3)+_4b2))+end;});};var _4b4=dojox.html._snarfStyles=function(_4b5,cont,_4b6){_4b6.attributes=[];return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_4b7,_4b8,_4b9,_4ba,_4bb,href){var i,attr=(_4b8||_4ba||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_4b9){i=_4b6.push(_4b5?_4a1(_4b5,_4b9):_4b9);}else{i=_4b6.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var _4bc={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");_4bc[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_4b6.attributes[i-1]=_4bc;}return "";});};var _4bd=dojox.html._snarfScripts=function(cont,_4be){_4be.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_4bf){return _4bf.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _4c0(src){if(_4be.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});dojo.xhrGet({url:src,sync:true,load:function(code){_4be.code+=code+";";},error:_4be.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(_4c1,_4c2,src,code){if(src){_4c0(src);}else{_4be.code+=code;}return "";});};var _4c3=dojox.html.evalInGlobal=function(code,_4c4){_4c4=_4c4||dojo.doc.body;var n=_4c4.ownerDocument.createElement("script");n.type="text/javascript";_4c4.appendChild(n);n.text=code;};dojo.declare("dojox.html._ContentSetter",[dojo.html._ContentSetter],{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_4c5){this._styleNodes=[];var st,att,_4c6,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_4c5.length;i<e;i++){_4c6=_4c5[i];att=_4c5.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_4c6;}else{st.appendChild(doc.createTextNode(_4c6));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _4c7=this._styles;if(dojo.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_4ad(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_4b4(this.referencePath,cont,_4c7);}if(this.executeScripts){var _4c8=this;var _4c9={downloadRemote:true,errBack:function(e){_4c8._onError.call(_4c8,"Exec","Error downloading remote script in \""+_4c8.id+"\"",e);}};cont=_4bd(cont,_4c9);this._code=_4c9.code;}}this.content=cont;},onEnd:function(){var code=this._code,_4ca=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_4ca&&_4ca.length){this._renderStyles(_4ca);}if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_4c3(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}}this.inherited("onEnd",arguments);},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop());}}delete this._styleNodes;dojo.mixin(this,dojo.getObject(this.declaredClass).prototype);}});dojox.html.set=function(node,cont,_4cb){if(!_4cb){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojox.html._ContentSetter(dojo.mixin(_4cb,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["CodeGlass.base"]){dojo._hasResource["CodeGlass.base"]=true;dojo.provide("CodeGlass.base");dojo.declare("CodeGlass.base",[dijit._Widget,dijit._Templated],{width:"700",height:"400",src:"",plugins:["dojo.version","dojo.i18n","dojo.extra","dojo.themes","dojo.a11y","dojo.dir"],chrome:"default",pluginArgs:{},type:"dialog",constructor:function(){this.injectToolbars=[];this.injectVars=[];},postMixInProperties:function(){this.content={};if(this.src){this.content.src=this.src;}else{this.content=this.parseNodes(this.srcNodeRef);}this["templatePath"]=dojo.moduleUrl("CodeGlass.chromes."+this.chrome,"template.html");},postCreate:function(){var d=dojo;if(this.type=="dialog"||this.type=="basic"){d.place(this.viewerNode,d.body(),"last");d.removeClass(this.type=="dialog"?this.nodeDialog:this.nodeBasic,"displayNone");d.connect(window,"onresize",this,"_position");d.subscribe("codeglass/open",this,function(t){if(this.isOpen&&t!=this){this.hide();}});}if(this.type=="basic"){d.style(this.domNode,"display","inline");}d.forEach(this.plugins,function(plg){d["require"]("CodeGlass.plugins."+plg);});d.ready(this,function(){this._initPlugins();this._setupViewer();});},_initPlugins:function(){this.pluginInstances=[];this.pluginSharedVars=[];dojo.forEach(this.plugins,function(plg){var o=dojo.getObject("CodeGlass.plugins."+plg),_4cc=new o({sharedVars:this.pluginSharedVars,vars:this.pluginArgs,codeGlassBaseId:this.id});this.pluginInstances.push(_4cc);this._preparePlugin(_4cc);},this);dojo.subscribe("CodeGlass/plugin/change/"+this.id,this,"_refreshViewer");},_preparePlugin:function(_4cd){var _4ce=_4cd.getVars();if(_4ce.injectToolbar){if(!this.injectToolbars[_4ce.injectToolbar]){this.injectToolbars[_4ce.injectToolbar]=[];}this.injectToolbars[_4ce.injectToolbar].push(_4cd.domNode);}if(_4ce.iframeProps){for(var p in _4ce.iframeProps){if(!this.injectVars[p]){this.injectVars[p]="";}this.injectVars[p]+=_4ce.iframeProps[p];}}},_refreshViewer:function(){this.injectToolbars=[];this.injectVars=[];dojo.forEach(this.pluginInstances,function(_4cf){this._preparePlugin(_4cf);},this);this.viewer.toolbars=this.injectToolbars;this.viewer.iframeVars=this.injectVars;this.viewer._setup();},_setupViewer:function(){var v=this.viewer=new CodeGlass.CodeViewer({id:this.id+"_Content",content:this.content,viewerBox:{w:this.width,h:this.height},iframeTemplate:dojo["cache"]("CodeGlass.chromes."+this.chrome,"iframe.html"),toolbars:this.injectToolbars,iframeVars:this.injectVars,showHeader:(this.type=="inline"&&this.src.length?false:true)},this.viewerNode);dojo.addClass(v.domNode,"CodeGlassViewer"+this.chrome);if(this.type=="dialog"||this.type=="basic"){dojo.query(".header .close",v.domNode).removeClass("displayNone").onclick(dojo.hitch(this,function(e){this.hide();}));}else{dojo.removeClass(v.domNode,"displayNone");v._setupIframe();dojo.addClass(v.domNode,"CodeGlassInline"+this.chrome);}},show:function(e){e.preventDefault(e);if(this.isOpen){return;}this.ce=dojo.coords(e.target,true);this._position();var v=this.viewer;v._toggleView();dojo.publish("codeglass/open",[this]);dojo.animateProperty({node:v.domNode,beforeBegin:dojo.hitch(this,function(){dojo.removeClass(v.domNode,"displayNone");dojo.query(".wrapper",v.domNode).style({"visibility":"hidden"});}),properties:{width:{start:this.ce.w,end:this.width},height:{start:this.ce.h,end:this.height},top:{start:this.ce.y,end:this.top},left:{start:this.ce.x,end:this.left}},duration:300,onEnd:dojo.hitch(this,function(){dojo.style(v.loader,"opacity","0");dojo.query(".wrapper",v.domNode).style({"visibility":"visible"});v._setupIframe();this.isOpen=true;})}).play();},hide:function(e){var v=this.viewer;dojo.query(".wrapper",v.domNode).style("visibility","hidden");dojo.animateProperty({node:v.domNode,properties:{width:this.ce.w,height:this.ce.h,top:this.ce.y,left:this.ce.x},onEnd:dojo.hitch(this,function(){dojo.addClass(v.domNode,"displayNone");this.isOpen=false;})}).play();},_position:function(){if(!this.viewer||!this.viewer.domNode){return;}var dim=dijit.getViewport();this.top=dim.t+dim.h/2-this.height/2;this.left=dim.l+dim.w/2-this.width/2;dojo.style(this.viewer.domNode,{top:this.top+"px",left:this.left+"px"});},parseNodes:function(node){var el=node.firstChild,i=0,frg=dojo.create("div"),_4d0=dojo.create("textarea"),code,_4d1=[];while(el){if(dojo.attr(el,"lang")!=null){code=dojo.query("pre",el).attr("innerHTML");_4d0.innerHTML=code;code=_4d0.value;_4d1[el.lang]={"content":frg.innerHTML,"label":dojo.attr(el,"label"),"lang":el.lang,"code":code,"index":i};frg.innerHTML="";}else{frg.appendChild(dojo.clone(el));}el=el.nextSibling;i++;}dojo.destroy(_4d0);dojo.destroy(frg);return _4d1;}});dojo.declare("CodeGlass.CodeViewer",[dijit._Widget,dojox.dtl._DomTemplated],{templateString:dojo.cache("CodeGlass","templates/codeViewer.html","<div class=\"codeGlassViewer displayNone\">\n\t<div class=\"wrapper\">\n\t\t<div class=\"header {% if not showHeader %}displayNone{% endif %}\" dojoAttachEvent=\"onclick: _toggleView\"\n\t\t\t>{% if showTabs %}<div title=\"containerIframe\" class=\"menuItem demo active\"><a href='#' dojoAttachPoint=\"firstLink\">Demo</a></div\n\t\t\t><div title=\"containerFull\" class=\"menuItem copy\"><a href=\"#\">Copy &amp; Paste</a></div\n\t\t\t\t>{% if javascriptcode %}<div title=\"containerJs\" class=\"menuItem javascript\"><a href='#'>JavaScript</a></div\n\t\t\t\t>{% endif %}{% if htmlcode %}<div title=\"containerHtml\" class=\"menuItem html\"><a href='#'>HTML</a></div\n\t\t\t\t>{% endif %}{% if csscode %}<div title=\"containerCss\" class=\"menuItem css\"><a href='#'>CSS</a></div>{% endif %}{% endif %}\n\t\t\t<div class=\"close displayNone\"><a href=\"#\"><span style=\"visibility:hidden\">X</span></a></div>\n\t\t</div>\n\t\t<div dojoAttachPoint=\"contentWrapper\" class=\"contentWrapper\">\n\t\t\t<div dojoAttachPoint=\"containerIframe\" class=\"iframe container\">\n\t\t\t\t<div dojoAttachPoint=\"loader\" class=\"loader\"><span>&nbsp;</span></div>\n\t\t\t</div>\n\t\t\t<div dojoAttachPoint=\"containerFull\" class=\"full container displayNone\">\n\t\t\t\t<div class=\"info\">\n\t\t\t\t\t<div class=\"clipboard\" dojoAttachEvent=\"onclick: _copyClipboard\"><a href=\"#\">Copy to clipboard</a></div>\n\t\t\t\t\t<p>To run the demo in your own environment, copy and paste the full source into an editor and open it in a browser.</p>\n\t\t\t\t</div>\n\t\t\t\t<textarea dojoAttachPoint=\"textareaCode\">{{ renderedContent }}</textarea>\n\t\t\t</div>\n\t\t\t{% if javascriptcode %}\n\t\t\t<div dojoAttachPoint=\"containerJs\" class=\"js container displayNone\">\n\t\t\t\t<div class=\"info\">\n\t\t\t\t\t<div class=\"clipboard\" dojoAttachEvent=\"onclick: _copyClipboard\">Copy to clipboard</div>\n\t\t\t\t\t{% if javascriptlabel %}<h1>{{ javascriptlabel|safe }}</h1>{% endif %}\n\t\t\t\t\t<div class=\"content\">{% if javascriptcontent %}{{ javascriptcontent|safe }}{% endif %}</div>\n\t\t\t\t</div>\n\t\t\t\t<pre>\n\t\t\t\t\t<code class=\"javascript\">{{ javascriptcode }}</code>\n\t\t\t\t</pre>\n\t\t\t</div>\n\t\t\t{% endif %}\n\t\t\t{% if htmlcode %}\n\t\t\t<div dojoAttachPoint=\"containerHtml\" class=\"html container displayNone\">\n\t\t\t\t<div class=\"info\">\n\t\t\t\t\t<div class=\"clipboard\" dojoAttachEvent=\"onclick: _copyClipboard\">Copy to clipboard</div>\n\t\t\t\t\t{% if htmllabel %}<h1>{{ htmllabel|safe }}</h1>{% endif %}\n\t\t\t\t\t<div class=\"content\">{% if htmlcontent %}{{ htmlcontent|safe }}{% endif %}</div>\n\t\t\t\t</div>\n\t\t\t\t<pre>\n\t\t\t\t\t<code class=\"html\">{{ htmlcode }}</code>\n\t\t\t\t</pre>\n\t\t\t</div>\n\t\t\t{% endif %}\n\t\t\t{% if csscode %}\n\t\t\t<div dojoAttachPoint=\"containerCss\" class=\"css container displayNone\">\n\t\t\t\t<div class=\"info\">\n\t\t\t\t\t<div class=\"clipboard\" dojoAttachEvent=\"onclick: _copyClipboard\">Copy to clipboard</div>\n\t\t\t\t\t{% if csslabel %}<h1>{{ csslabel|safe }}</h1>{% endif %}\n\t\t\t\t\t<div class=\"content\">{% if csscontent %}{{ csscontent|safe }}{% endif %}</div>\n\t\t\t\t</div>\n\t\t\t\t<pre>\n\t\t\t\t\t<code class=\"css\">{{ csscode }}</code>\n\t\t\t\t</pre>\n\t\t\t</div>\n\t\t\t{% endif %}\n\t\t</div>\n\t\t<div class=\"footer {% if not showFooter %}displayNone{% endif %}\" dojoAttachPoint=\"toolbarBottom\">\n\t\t\t{% if toolbarBottom %}{{ toolbarBottom|safe }}{% endif %}\n\t\t</div>\n\t</div>\n</div>\n"),iframeTemplate:dojo.cache("CodeGlass","templates/iframe.html","<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">\n<html {% if html %}{{ html|safe }}{% endif %}>\n\t<head>\n\t\t{% if customHead %}{{ customHead|safe }}{% endif %}\n\t\t<style type=\"text/css\">\n\t\t\tbody, html {\n\t\t\t\tfont-family:helvetica,arial,sans-serif;\n\t\t\t\tfont-size:90%;\n\t\t\t}\n\t\t</style>\n\t\t{% if csscode %}{{ csscode|safe }}{% endif %}\n\t</head>\n\t<body {% if classBody %}class=\"{{ classBody }}\"{% endif %}>\n\t\t{% if htmlcode %}{{ htmlcode|safe }}{% endif %}\n\t</body>\n\n\t{% if customJavaScript %}{{ customJavaScript|safe }}{% endif %}\n\t{% if javascriptcode %}{{ javascriptcode|safe }}{% endif %}\n\n\t<!--\n\t\tNOTE: the following script tag is not intended for usage in real world!!\n\t\tit is part of the CodeGlass and you should just REMOVE it when you use the code\n\t-->\n\t<script type=\"text/javascript\">\n\t\tdojo.addOnLoad(function(){\n\t\t\tif (document.pub){\n\t\t\t\tdocument.pub();\n\t\t\t}\n\t\t});\n\t</script>\n</html>\n"),currentView:"containerIframe",showHeader:true,showFooter:true,showTabs:true,toolbars:null,iframeVars:null,constructor:function(args){this.toolbars=this.toolbars||[];this.iframeVars=this.iframeVars||[];},postMixInProperties:function(){if(this.content.src){this.showTabs=false;this.showFooter=false;}else{this._buildTemplate();}},postCreate:function(){for(var _4d2 in this.toolbars){dojo.forEach(this.toolbars[_4d2],function(n){this[_4d2].appendChild(n);},this);}dojo.style(this.domNode,{width:this.viewerBox.w+"px",height:this.viewerBox.h+"px"});if(!this.showHeader){dojo.style(this.contentWrapper,"marginTop",0+"px");}if(!this.showFooter){dojo.style(this.contentWrapper,"marginBottom",0+"px");}dojo.query(".header > div, .footer > div",this.domNode).addClass("displayNone");dojo.subscribe("codeglass/loaded",this,function(){if(this==arguments[0]){dojo.fadeOut({node:this.loader,onEnd:dojo.hitch(this,function(){dojo.addClass(this.loader,"displayNone");dojo.query(".header > div, .footer > div",this.domNode).removeClass("displayNone");setTimeout(dojo.hitch(this,function(){this.isDialog&&this.firstLink&&this.firstLink.focus();}),25);})}).play();}});this._highlight();this.iframe=dojo.create("iframe",{},this.containerIframe);},_buildTemplate:function(){var t={},key,_4d3,_4d4;for(var _4d5 in this.iframeVars){t[_4d5]=this.iframeVars[_4d5];}for(var type in this.content){for(key in this.content[type]){var tk=type+""+key;if(key=="code"){_4d3=new dojox.dtl.Template(this.content[type][key]);_4d4=new dojox.dtl.Context(t);this[tk]=t[tk]=CodeGlass.style_html(_4d3.render(_4d4),4);}else{this[tk]=t[tk]=this.content[type][key];}}}var _4d6=new dojox.dtl.Template(this.iframeTemplate);_4d4=new dojox.dtl.Context(t);this.renderedContent=CodeGlass.style_html(_4d6.render(_4d4),4);},_setupIframe:function(){if(this.iframe){dojo.destroy(this.iframe);}this.iframe=dojo.create("iframe",{},this.containerIframe);if(!this.content.src){var doc=this.iframe.contentWindow.document,_4d7=this.renderedContent;doc.open();if(!dojo.isIE){doc.write(_4d7);doc.close();}else{var bits=_4d7.split("<"+"/script>"),_4d8=bits.pop(),_4d9;var _4da=function(){if(_4d9.readyState=="complete"||_4d9.readyState=="loaded"){_4d9.detachEvent("onreadystatechange",_4da);_4db();}};var _4db=function(){var bit=bits.shift();if(dojo.isString(bit)){doc.write(bit+"<"+"/script>");_4d9=dojo.query("script",doc).pop();_4d9.attachEvent("onreadystatechange",_4da);_4da();}else{doc.write(_4d8);if(dojo.isIE>7){setTimeout(function(){doc.close();},100);}else{doc.close();}}};_4db();}doc.pub=dojo.hitch(this,function(){dojo.publish("codeglass/loaded",[this]);});}else{var e;if(this.iframe.addEventListener){e=this.iframe.addEventListener("load",dojo.hitch(this,function(){dojo.publish("codeglass/loaded",[this]);this.iframe.removeEventListener(e);}),false);}else{if(this.iframe.attachEvent){e=this.iframe.attachEvent("onload",dojo.hitch(this,function(){dojo.publish("codeglass/loaded",[this]);this.iframe.detachEvent(e);}));}}dojo.attr(this.iframe,"src",this.content.src);}dojo.query(this.loader).removeClass("displayNone").style("opacity",1);},_setup:function(){dojo.query(".header ul",this.domNode).addClass("displayNone");this._buildTemplate();this._toggleView();this._setupIframe();this.textareaCode.value=this.renderedContent;},_toggleView:function(e){e&&e.preventDefault();var attr=e?(dojo.attr(e.target,"title")||dojo.attr(e.target.parentNode,"title")):null,type=attr?attr:"containerIframe";if(this[type]){dojo.query("[title$=\""+this.currentView+"\"]",this.domNode).removeClass("active");dojo.toggleClass(this[this.currentView],"displayNone");dojo.query("[title$=\""+type+"\"]",this.domNode).addClass("active");dojo.toggleClass(this[type],"displayNone");this.currentView=type;this._size(this[type]);}},_highlight:function(){dojo.query("code",this.domNode).forEach(dojox.highlight.init);},_size:function(node){if(!this._sized){this._sized={};}if(this._sized[node.className]){return;}var info=dojo.query("> div.info",node)[0];if(info){var _4dc=dojo.coords(node),_4dd=dojo.marginBox(info);dojo.query("textarea",node).style("height",(_4dc.h-_4dd.h)+"px");dojo.query("pre",node).style("height",(_4dc.h-_4dd.h-10)+"px");}this._sized[node.className]=true;},_copyClipboard:function(){console.warn("Not working yet :(\nDo you know flash and can write something to support this feature cross browser?\nThat would be awesome!!");}});dojo.extend(dojo.NodeList,{CodeGlass:function(_4de){var o=dojo.getObject("CodeGlass.base");return this.forEach(function(elm){dojo.mixin({type:"dialog"},_4de);new o(_4de,elm);});}});}if(!dojo._hasResource["CodeGlass.plugins._base"]){dojo._hasResource["CodeGlass.plugins._base"]=true;dojo.provide("CodeGlass.plugins._base");dojo.declare("CodeGlass.plugins._base",dijit._Widget,{sharedVars:[],codeGlassBaseId:null,constructor:function(args){if(args.sharedVars){this.sharedVars=args.sharedVars;}if(args.vars){dojo.mixin(this,args.vars);}},getVars:function(){return {};}});dojo.provide("CodeGlass.plugins._baseTemplated");dojo.declare("CodeGlass.plugins._baseTemplated",[CodeGlass.plugins._base,dijit._Templated],{injectToolbar:"toolbarBottom"});}if(!dojo._hasResource["CodeGlass.plugins.dojo.version"]){dojo._hasResource["CodeGlass.plugins.dojo.version"]=true;dojo.provide("CodeGlass.plugins.dojo.version");dojo.declare("CodeGlass.plugins.dojo.version",CodeGlass.plugins._baseTemplated,{injectNode:null,templateString:"<div class=\"menuItem version\">Version: <select dojoAttachEvent=\"onchange: _changeVersion\" dojoAttachPoint=\"versionInput\"></select></div>",baseUrls:[{baseUrl:"http://ajax.googleapis.com/ajax/libs/dojo/1.6/",label:"1.6 (CDN)",xDomain:true,version:"1.6"},{baseUrl:"http://ajax.googleapis.com/ajax/libs/dojo/1.5/",label:"1.5 (CDN)",xDomain:true,version:"1.5"},{baseUrl:"http://ajax.googleapis.com/ajax/libs/dojo/1.4/",label:"1.4 (CDN)",xDomain:true,version:"1.4"},{baseUrl:"http://ajax.googleapis.com/ajax/libs/dojo/1.3/",label:"1.3 (CDN)",xDomain:true,version:"1.3"},{baseUrl:"http://ajax.googleapis.com/ajax/libs/dojo/1.2/",label:"1.2 (CDN)",xDomain:true,version:"1.2"},{baseUrl:dojo.config.baseUrl+"../../",label:"Trunk (slow)",xDomain:false,version:"trunk"}],baseUrl:"",baseUrlIndex:0,version:"",djConfig:"parseOnLoad: true",injectToolbar:"toolbarBottom",postCreate:function(){if(this.version.length){var v=this.version.split("-"),_4df=v[0]>"0"?v[0]:"0",end=v[1]?v[1]:null;}var cnt=-1;this.suppVersions=[];if(typeof (CodeGlassConfig)!="undefined"&&typeof (CodeGlassConfig.baseUrls)!="undefined"){this.baseUrls=this.baseUrls.concat(CodeGlassConfig.baseUrls);}dojo.forEach(this.baseUrls,function(url,i){if((!_4df||url.version>=_4df)&&(!end||url.version<=end)||!url.version){this.suppVersions.push(i);++cnt;}},this);this.baseUrlIndex=this.suppVersions[0];dojo.forEach(this.suppVersions,function(_4e0){dojo.create("option",{innerHTML:this.baseUrls[_4e0].label,value:_4e0},this.versionInput);},this);this.versionInput.selectedIndex=0;this.sharedVars.djConfig=[];this._setSharedVars();},getVars:function(){var _4e1=[];for(var _4e2 in this.sharedVars.djConfig){_4e1.push(this.sharedVars.djConfig[_4e2]);}return {injectToolbar:this.injectToolbar,iframeProps:{"baseUrl":this.baseUrls[this.baseUrlIndex].baseUrl,"baseUrlIndex":this.baseUrlIndex,"customJavaScript":"<scr"+"ipt src=\""+this.baseUrls[this.baseUrlIndex].baseUrl+"dojo/dojo"+(this.baseUrls[this.baseUrlIndex].xDomain?".xd":"")+".js\" djConfig=\""+_4e1.join(",")+"\"><"+"/scr"+"ipt>"}};},_setSharedVars:function(){this.sharedVars.baseUrlIndex=this.baseUrlIndex;this.sharedVars.baseUrl=this.baseUrls[this.baseUrlIndex].baseUrl;this.sharedVars.djConfig["version"]=this.djConfig;},_changeVersion:function(){this.baseUrlIndex=this.versionInput.value;this.baseUrl=this.baseUrls[this.baseUrlIndex].baseUrl;this._setSharedVars();dojo.publish("CodeGlass/plugin/change/"+this.codeGlassBaseId,["dojo.version"]);}});}if(!dojo._hasResource["CodeGlass.plugins.dojo.i18n"]){dojo._hasResource["CodeGlass.plugins.dojo.i18n"]=true;dojo.provide("CodeGlass.plugins.dojo.i18n");dojo.declare("CodeGlass.plugins.dojo.i18n",CodeGlass.plugins._baseTemplated,{injectNode:null,templateString:"<div class=\"menuItem i18n\">Language: <select dojoAttachEvent=\"onchange: _changeI18n\" dojoAttachPoint=\"i18nInput\"><option value=\"\"></option></select></div>",languages:dojo.cache("CodeGlass","resources/languages.json","[{iso: \"af\", name: \"Afrikaans\"}, \n{iso: \"ar\", name: \"Arabic\", dir: \"rtl\"}, \n{iso: \"az\", name: \"Azerbaijani\"}, \n{iso: \"be\", name: \"Belarusian\"}, \n{iso: \"bg\", name: \"Bulgarian\"}, \n{iso: \"bn\", name: \"Bengali\"}, \n{iso: \"bo\", name: \"Tibetan\"}, \n{iso: \"byn\", name: \"Blin\"}, \n{iso: \"ca\", name: \"Catalan\"}, \n{iso: \"cs\", name: \"Czech\"}, \n{iso: \"cy\", name: \"Welsh\"}, \n{iso: \"da\", name: \"Danish\"}, \n{iso: \"de\", name: \"German\"}, \n{iso: \"el\", name: \"Greek\"}, \n{iso: \"en\", name: \"English\"}, \n{iso: \"en-shaw\", name: \"English (Shaw)\"}, \n{iso: \"eo\", name: \"Esperanto\"}, \n{iso: \"es\", name: \"Spanish\"}, \n{iso: \"et\", name: \"Estonian\"}, \n{iso: \"eu\", name: \"Basque\"}, \n{iso: \"fa\", name: \"Persian\", dir: \"rtl\"}, \n{iso: \"fi\", name: \"Finnish\"}, \n{iso: \"fil\", name: \"Filipino\"}, \n{iso: \"fr\", name: \"French\"}, \n{iso: \"ga\", name: \"Irish\"}, \n{iso: \"gl\", name: \"Galician\"}, \n{iso: \"gsw\", name: \"Swiss German\"}, \n{iso: \"gu\", name: \"Gujarati\"}, \n{iso: \"gv\", name: \"Manx\"}, \n{iso: \"ha\", name: \"Hausa\"}, \n{iso: \"he\", name: \"Hebrew\", dir: \"rtl\"}, \n{iso: \"hi\", name: \"Hindi\"}, \n{iso: \"hr\", name: \"Croatian\"}, \n{iso: \"hu\", name: \"Hungarian\"}, \n{iso: \"hy\", name: \"Armenian\"}, \n{iso: \"id\", name: \"Indonesian\"}, \n{iso: \"ii\", name: \"Sichuan Yi\"}, \n{iso: \"is\", name: \"Icelandic\"}, \n{iso: \"it\", name: \"Italian\"}, \n{iso: \"ja\", name: \"Japanese\"}, \n{iso: \"ka\", name: \"Georgian\"}, \n{iso: \"kk\", name: \"Kazakh\"}, \n{iso: \"kl\", name: \"Kalaallisut\"}, \n{iso: \"km\", name: \"Khmer\"}, \n{iso: \"kn\", name: \"Kannada\"}, \n{iso: \"ko\", name: \"Korean\"}, \n{iso: \"kok\", name: \"Konkani\"}, \n{iso: \"kw\", name: \"Cornish\"}, \n{iso: \"lt\", name: \"Lithuanian\"}, \n{iso: \"lv\", name: \"Latvian\"}, \n{iso: \"mk\", name: \"Macedonian\"}, \n{iso: \"ml\", name: \"Malayalam\"}, \n{iso: \"mn\", name: \"Mongolian\"}, \n{iso: \"mo\", name: \"Moldavian\"}, \n{iso: \"mr\", name: \"Marathi\"}, \n{iso: \"ms\", name: \"Malay\"}, \n{iso: \"mt\", name: \"Maltese\"}, \n{iso: \"nb\", name: \"Norwegian Bokm√•l\"}, \n{iso: \"ne\", name: \"Nepali\"}, \n{iso: \"nl\", name: \"Dutch\"}, \n{iso: \"nn\", name: \"Norwegian Nynorsk\"}, \n{iso: \"no\", name: \"Norwegian\"}, \n{iso: \"om\", name: \"Oromo\"}, \n{iso: \"or\", name: \"Oriya\"}, \n{iso: \"pa\", name: \"Punjabi\", dir: \"rtl\"}, \n{iso: \"pl\", name: \"Polish\"}, \n{iso: \"ps\", name: \"Pashto\", dir: \"rtl\"}, \n{iso: \"pt\", name: \"Portuguese\"}, \n{iso: \"ro\", name: \"Romanian\"}, \n{iso: \"ru\", name: \"Russian\"}, \n{iso: \"sh\", name: \"Serbo-Croatian\"}, \n{iso: \"si\", name: \"Sinhalese\"}, \n{iso: \"sk\", name: \"Slovak\"}, \n{iso: \"sl\", name: \"Slovenian\"}, \n{iso: \"so\", name: \"Somali\"}, \n{iso: \"sq\", name: \"Albanian\"}, \n{iso: \"sr\", name: \"Serbian\"}, \n{iso: \"sv\", name: \"Swedish\"}, \n{iso: \"sw\", name: \"Swahili\"}, \n{iso: \"ta\", name: \"Tamil\"}, \n{iso: \"th\", name: \"Thai\"}, \n{iso: \"tl\", name: \"Tagalog\"}, \n{iso: \"tr\", name: \"Turkish\"}, \n{iso: \"uk\", name: \"Ukrainian\"}, \n{iso: \"ur\", name: \"Urdu\", dir: \"rtl\"}, \n{iso: \"vi\", name: \"Vietnamese\"}, \n{iso: \"yo\", name: \"Yoruba\"}, \n{iso: \"zh-hans\", name: \"Chinese Simplified\"}, \n{iso: \"zh-hant\", name: \"Chinese Traditional\"}, \n{iso: \"zu\", name: \"Zulu\"}]\n"),injectToolbar:"toolbarBottom",postCreate:function(){data=dojo.fromJson(this.languages);dojo.forEach(data,function(lang,i){dojo.create("option",{innerHTML:lang.name,value:lang.iso},this.i18nInput);},this);},getVars:function(){return {injectToolbar:this.injectToolbar,iframeProps:{"i18n":this.i18nInput.value}};},_changeI18n:function(){this.i18n=this.i18nInput.value;if(this.i18n.length){this.sharedVars.djConfig["i18n"]=(this.sharedVars.djConfig.length?", ":"")+"locale: '"+this.i18n+"'";}dojo.publish("CodeGlass/plugin/change/"+this.codeGlassBaseId,["dojo.i18n"]);}});}if(!dojo._hasResource["CodeGlass.plugins.dojo.themes"]){dojo._hasResource["CodeGlass.plugins.dojo.themes"]=true;dojo.provide("CodeGlass.plugins.dojo.themes");dojo.declare("CodeGlass.plugins.dojo.themes",CodeGlass.plugins._baseTemplated,{injectNode:null,templateString:"<div class=\"menuItem theme\">Theme: <select dojoAttachEvent=\"onchange: _changeTheme\" dojoAttachPoint=\"themeInput\"></select></div>",themes:[{theme:"claro",label:"Claro"},{theme:"tundra",label:"Tundra"},{theme:"nihilo",label:"Nihilo"},{theme:"soria",label:"Soria"}],theme:0,injectToolbar:"toolbarBottom",postCreate:function(){if(!this.sharedVars.baseUrl){new Error("You need to load the Dojo version plugin before the themes plugin in order to work properly");return;}dojo.forEach(this.themes,function(_4e3,i){dojo.create("option",{innerHTML:_4e3.label,value:i},this.themeInput);},this);this.themeInput.selectedIndex=this.theme;},getVars:function(){return {injectToolbar:this.injectToolbar,iframeProps:{"customHead":"<link rel=\"stylesheet\" type=\"text/css\" href=\""+this.sharedVars.baseUrl+"dijit/themes/"+this.themes[this.theme].theme+"/"+this.themes[this.theme].theme+".css\" />","classBody":" "+this.themes[this.theme].theme+" ","theme":this.themes[this.theme].theme}};},_changeTheme:function(){this.theme=this.themeInput.value;dojo.publish("CodeGlass/plugin/change/"+this.codeGlassBaseId,["dojo.themes"]);}});}if(!dojo._hasResource["CodeGlass.plugins.dojo.extra"]){dojo._hasResource["CodeGlass.plugins.dojo.extra"]=true;dojo.provide("CodeGlass.plugins.dojo.extra");dojo.declare("CodeGlass.plugins.dojo.extra",CodeGlass.plugins._base,{dataUrl:"/",postCreate:function(){if(typeof (CodeGlassConfig)!="undefined"&&typeof (CodeGlassConfig.dataUrl)!="undefined"){this.dataUrl=CodeGlassConfig.dataUrl;}},getVars:function(){return {iframeProps:{dataUrl:this.dataUrl}};}});}if(!dojo._hasResource["CodeGlass.plugins.dojo.dir"]){dojo._hasResource["CodeGlass.plugins.dojo.dir"]=true;dojo.provide("CodeGlass.plugins.dojo.dir");dojo.declare("CodeGlass.plugins.dojo.dir",CodeGlass.plugins._baseTemplated,{injectNode:null,templateString:"<div class=\"menuItem dir\">Rtl: <input type=\"checkbox\" dojoAttachEvent=\"onclick: _changeDir\" dojoAttachPoint=\"dirInput\" value=\"rtl\" /></div>",dir:"ltr",injectToolbar:"toolbarBottom",getVars:function(){return {injectToolbar:this.injectToolbar,iframeProps:{"html":" dir=\""+this.dir+"\" "}};},_changeDir:function(){this.dir=this.dirInput.checked?"rtl":"ltr";dojo.publish("CodeGlass/plugin/change/"+this.codeGlassBaseId,["dojo.dir"]);}});}if(!dojo._hasResource["CodeGlass.plugins.dojo.a11y"]){dojo._hasResource["CodeGlass.plugins.dojo.a11y"]=true;dojo.provide("CodeGlass.plugins.dojo.a11y");dojo.declare("CodeGlass.plugins.dojo.a11y",CodeGlass.plugins._baseTemplated,{templateString:"<div class=\"menuItem a11y\">A11y: <input type=\"checkbox\" dojoAttachEvent=\"onclick: _changeA11y\" dojoAttachPoint=\"a11yInput\" value=\"rtl\" /></div>",injectToolbar:"toolbarBottom",getVars:function(){return {injectToolbar:this.injectToolbar,iframeProps:{"classBody":this.a11yInput.checked?" dijit_a11y ":""}};},_changeA11y:function(){this.a11y=this.a11yInput.checked?"dijit_a11y":"";dojo.publish("CodeGlass/plugin/change/"+this.codeGlassBaseId,["dojo.a11y"]);}});}if(!dojo._hasResource["docs.layer"]){dojo._hasResource["docs.layer"]=true;dojo.provide("docs.layer");}
